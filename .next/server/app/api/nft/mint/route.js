(()=>{var exports={};exports.id=45,exports.ids=[45],exports.modules={2713:function(e,t){!function(r,n){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function s(e,t){return e<<t|e>>>32-t}function l(e){return e^=e>>>16,e=a(e,0x85ebca6b),e^=e>>>13,e=a(e,0xc2b2ae35),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=c(e=d(e,[0,e[0]>>>1]),[0xff51afd7,0xed558ccd]),e=c(e=d(e,[0,e[0]>>>1]),[0xc4ceb9fe,0x1a85ec53]),e=d(e,[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var r=e.length%4,n=e.length-r,u=t,c=0,f=0xcc9e2d51,h=0x1b873593,d=0;d<n;d+=4)c=s(c=a(c=e[d]|e[d+1]<<8|e[d+2]<<16|e[d+3]<<24,f),15),u^=c=a(c,h),u=a(u=s(u,13),5)+0xe6546b64;switch(c=0,r){case 3:c^=e[d+2]<<16;case 2:c^=e[d+1]<<8;case 1:c^=e[d],c=s(c=a(c,f),15),u^=c=a(c,h)}return u^=e.length,(u=l(u))>>>0}},i.x86.hash128=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var r=e.length%16,n=e.length-r,u=t,c=t,f=t,h=t,d=0,p=0,y=0,m=0,b=0x239b961b,g=0xab0e9789,w=0x38b34ae5,_=0xa1e38b93,v=0;v<n;v+=16)d=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,p=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,y=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,m=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,d=s(d=a(d,b),15),u^=d=a(d,g),u=a(u=s(u,19)+c,5)+0x561ccd1b,p=s(p=a(p,g),16),c^=p=a(p,w),c=a(c=s(c,17)+f,5)+0xbcaa747,y=s(y=a(y,w),17),f^=y=a(y,_),f=a(f=s(f,15)+h,5)+0x96cd1c35,m=s(m=a(m,_),18),h^=m=a(m,b),h=a(h=s(h,13)+u,5)+0x32ac3b17;switch(d=0,p=0,y=0,m=0,r){case 15:m^=e[v+14]<<16;case 14:m^=e[v+13]<<8;case 13:m^=e[v+12],m=s(m=a(m,_),18),h^=m=a(m,b);case 12:y^=e[v+11]<<24;case 11:y^=e[v+10]<<16;case 10:y^=e[v+9]<<8;case 9:y^=e[v+8],y=s(y=a(y,w),17),f^=y=a(y,_);case 8:p^=e[v+7]<<24;case 7:p^=e[v+6]<<16;case 6:p^=e[v+5]<<8;case 5:p^=e[v+4],p=s(p=a(p,g),16),c^=p=a(p,w);case 4:d^=e[v+3]<<24;case 3:d^=e[v+2]<<16;case 2:d^=e[v+1]<<8;case 1:d^=e[v],d=s(d=a(d,b),15),u^=d=a(d,g)}return u^=e.length,c^=e.length,f^=e.length,h^=e.length,u+=c,u+=f,u+=h,c+=u,f+=u,h+=u,u=l(u),c=l(c),f=l(f),h=l(h),u+=c,u+=f,u+=h,c+=u,f+=u,h+=u,("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)}},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,a=e.length-r,s=[0,t],l=[0,t],y=[0,0],m=[0,0],b=[0x87c37b91,0x114253d5],g=[0x4cf5ad43,0x2745937f],w=0;w<a;w+=16)y=[e[w+4]|e[w+5]<<8|e[w+6]<<16|e[w+7]<<24,e[w]|e[w+1]<<8|e[w+2]<<16|e[w+3]<<24],m=[e[w+12]|e[w+13]<<8|e[w+14]<<16|e[w+15]<<24,e[w+8]|e[w+9]<<8|e[w+10]<<16|e[w+11]<<24],y=f(y=c(y,b),31),s=u(s=f(s=d(s,y=c(y,g)),27),l),s=u(c(s,[0,5]),[0,0x52dce729]),m=f(m=c(m,g),33),l=u(l=f(l=d(l,m=c(m,b)),31),s),l=u(c(l,[0,5]),[0,0x38495ab5]);switch(y=[0,0],m=[0,0],r){case 15:m=d(m,h([0,e[w+14]],48));case 14:m=d(m,h([0,e[w+13]],40));case 13:m=d(m,h([0,e[w+12]],32));case 12:m=d(m,h([0,e[w+11]],24));case 11:m=d(m,h([0,e[w+10]],16));case 10:m=d(m,h([0,e[w+9]],8));case 9:m=f(m=c(m=d(m,[0,e[w+8]]),g),33),l=d(l,m=c(m,b));case 8:y=d(y,h([0,e[w+7]],56));case 7:y=d(y,h([0,e[w+6]],48));case 6:y=d(y,h([0,e[w+5]],40));case 5:y=d(y,h([0,e[w+4]],32));case 4:y=d(y,h([0,e[w+3]],24));case 3:y=d(y,h([0,e[w+2]],16));case 2:y=d(y,h([0,e[w+1]],8));case 1:y=f(y=c(y=d(y,[0,e[w]]),b),31),s=d(s,y=c(y,g))}return s=u(s=d(s,[0,e.length]),l=d(l,[0,e.length])),l=u(l,s),s=u(s=p(s),l=p(l)),l=u(l,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}(0)},3178:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,a=[],s=0,l=0;t<r;){var u=e[t++];switch(l){case 0:a[s++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:a[s++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:a[s++]=n[i|u>>6],a[s++]=n[63&u],l=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(l&&(a[s++]=n[i],a[s++]=61,1===l&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,s=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error(a);switch(s){case 0:n=u,s=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:t[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error(a);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(46718);function i(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?n.asUint8Array(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}t.alloc=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.alloc?n.asUint8Array(globalThis.Buffer.alloc(e)):new Uint8Array(e)},t.allocUnsafe=i},7465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55511),i=r(63686),o=r(21475),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n);let s=i.from({name:"sha2-256",code:18,encode:e=>o.coerce(a.default.createHash("sha256").update(e).digest())}),l=i.from({name:"sha2-512",code:19,encode:e=>o.coerce(a.default.createHash("sha512").update(e).digest())});t.sha256=s,t.sha512=l},7945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=n.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=n.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});t.base58btc=i,t.base58flickr=o},8051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4802),i=r(46718);t.concat=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=n.allocUnsafe(t),o=0;for(let t of e)r.set(t,o),o+=t.length;return i.asUint8Array(r)}},8086:e=>{"use strict";e.exports=require("module")},8098:(e,t,r)=>{"use strict";e.exports=i;var n=r(32221);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/0x100000000>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++n>0xffffffff&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},8479:(e,t,r)=>{e.exports=r(2713)},10596:()=>{},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(63056),i=r(69029),o=r(7945),a=r(70073),s=r(21475);class l{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:b,byteLength:b,code:m,version:m,multihash:m,bytes:m,_baseCache:b,asCID:b})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==h)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==d)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return l.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=i.create(e,t);return l.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.equals(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?c(t,n,e||o.base58btc.encoder):f(t,n,e||a.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return w(/^0\.0/,_),!!(e&&(e[y]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof l)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new l(t,r,n,i||p(t,r,n.bytes))}if(null==e||!0!==e[y])return null;{let{version:t,multihash:r,code:n}=e,o=i.decode(r);return l.create(t,n,o)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===h)return new l(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);case 1:{let n=p(e,t,r.bytes);return new l(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return l.create(0,h,e)}static createV1(e,t){return l.create(1,e,t)}static decode(e){let[t,r]=l.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=l.inspectBytes(e),r=t.size-t.multihashSize,n=s.coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),a=new i.Digest(t.multihashCode,t.digestSize,o,n);return[0===t.version?l.createV0(a):l.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=n.decode(e.subarray(t));return t+=i,r},i=r(),o=h;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let a=t,s=r(),l=r(),u=t+l;return{version:i,codec:o,multihashCode:s,digestSize:l,multihashSize:u-a,size:u}}static parse(e,t){let[r,n]=u(e,t),i=l.decode(n);return i._baseCache.set(r,e),i}}let u=(e,t)=>{switch(e[0]){case"Q":{let r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{let r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case a.base32.prefix:{let r=t||a.base32;return[a.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},c=(e,t,r)=>{let{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},f=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},h=112,d=18,p=(e,t,r)=>{let i=n.encodingLength(e),o=i+n.encodingLength(t),a=new Uint8Array(o+r.byteLength);return n.encodeTo(e,a,0),n.encodeTo(t,a,i),a.set(r,o),a},y=Symbol.for("@ipld/js-cid/CID"),m={writable:!1,configurable:!1,enumerable:!0},b={writable:!1,enumerable:!1,configurable:!1},g="0.0.0-dev",w=(e,t)=>{if(e.test(g))console.warn(t);else throw Error(t)},_=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;t.CID=l},12412:e=>{"use strict";e.exports=require("assert")},14783:(e,t,r)=>{"use strict";e.exports=o;var n=r(18502);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(32221);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},14922:(e,t,r)=>{"use strict";var n=r(93833),i=r(4802);function o(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let a=o("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),s=o("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=i.allocUnsafe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});e.exports={utf8:a,"utf-8":a,hex:n.bases.base16,latin1:s,ascii:s,binary:s,...n.bases}},17240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21475);let i="raw",o=e=>n.coerce(e),a=e=>n.coerce(e);t.code=85,t.decode=a,t.encode=o,t.name=i},18502:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(32221),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function f(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=c(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return(this.pos+=e,Array.isArray(this.buf))?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},19082:(e,t,r)=>{"use strict";r.d(t,{ByteLengthQueuingStrategy:()=>nO,CountQueuingStrategy:()=>nB,ReadableByteStreamController:()=>eJ,ReadableStream:()=>nv,ReadableStreamBYOBReader:()=>tI,ReadableStreamBYOBRequest:()=>eK,ReadableStreamDefaultController:()=>r1,ReadableStreamDefaultReader:()=>ey,TransformStream:()=>nH,TransformStreamDefaultController:()=>nX,WritableStream:()=>tK,WritableStreamDefaultController:()=>rg,WritableStreamDefaultWriter:()=>rs});var n,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function l(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function f(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{l(i[e](t))}catch(e){h(o[0][3],e)}}function l(e){e.value instanceof c?Promise.resolve(e.value.v).then(u,f):h(o[0][2],e)}function u(e){s("next",e)}function f(e){s("throw",e)}function h(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function h(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:c(e[n](t)),done:!1}:i?i(t):t}:i}}function d(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=u(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){i(n,o,(t=e[r](t)).done,t.value)})}}function i(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function p(){}function y(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var m=p;function b(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}var g=Promise,w=Promise.prototype.then,_=Promise.reject.bind(g);function v(e){return new g(e)}function D(e){return v(function(t){return t(e)})}function E(e){return _(e)}function S(e,t,r){return w.call(e,t,r)}function T(e,t,r){S(S(e,t,r),void 0,m)}function x(e,t){T(e,t)}function A(e,t){T(e,void 0,t)}function k(e,t,r){return S(e,t,r)}function C(e){S(e,void 0,m)}var I=function(e){if("function"==typeof queueMicrotask)I=queueMicrotask;else{var t=D(void 0);I=function(e){return S(t,e)}}return I(e)};function P(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function R(e,t,r){try{return D(P(e,t,r))}catch(e){return E(e)}}var O=16384,j=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;t._elements.length===O-1&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,o=i[r];return n===O&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;(t!==n.length||void 0!==r._next)&&(t!==n.length||(n=(r=r._next)._elements,t=0,0!==n.length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}(),L=s("[[AbortSteps]]"),N=s("[[ErrorSteps]]"),B=s("[[CancelSteps]]"),U=s("[[PullSteps]]"),z=s("[[ReleaseSteps]]");function F(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?$(e):"closed"===t._state?V(e):H(e,t._storedError)}function M(e,t){return nA(e._ownerReadableStream,t)}function q(e){var t=e._ownerReadableStream;"readable"===t._state?G(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Y(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[z](),t._reader=void 0,e._ownerReadableStream=void 0}function W(e){return TypeError("Cannot "+e+" a stream using a released reader")}function $(e){e._closedPromise=v(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r})}function H(e,t){$(e),G(e,t)}function V(e){$(e),K(e)}function G(e,t){void 0!==e._closedPromise_reject&&(C(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Y(e,t){H(e,t)}function K(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var J=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Q=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function X(e){return"object"==typeof e||"function"==typeof e}function Z(e,t){if(void 0!==e&&!X(e))throw TypeError("".concat(t," is not an object."))}function ee(e,t){if("function"!=typeof e)throw TypeError("".concat(t," is not a function."))}function et(e){return"object"==typeof e&&null!==e||"function"==typeof e}function er(e,t){if(!et(e))throw TypeError("".concat(t," is not an object."))}function en(e,t,r){if(void 0===e)throw TypeError("Parameter ".concat(t," is required in '").concat(r,"'."))}function ei(e,t,r){if(void 0===e)throw TypeError("".concat(t," is required in '").concat(r,"'."))}function eo(e){return Number(e)}function ea(e){return 0===e?0:e}function es(e){return ea(Q(e))}function el(e,t){var r=0,n=Number.MAX_SAFE_INTEGER,i=Number(e);if(!J(i=ea(i)))throw TypeError("".concat(t," is not a finite number"));if((i=es(i))<r||i>n)throw TypeError("".concat(t," is outside the accepted range of ").concat(r," to ").concat(n,", inclusive"));return J(i)&&0!==i?i:0}function eu(e,t){if(!nT(e))throw TypeError("".concat(t," is not a ReadableStream."))}function ec(e){return new ey(e)}function ef(e,t){e._reader._readRequests.push(t)}function eh(e,t,r){var n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function ed(e){return e._reader._readRequests.length}function ep(e){var t=e._reader;return!!(void 0!==t&&em(t))}var ey=function(){function e(e){if(en(e,1,"ReadableStreamDefaultReader"),eu(e,"First parameter"),nx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");F(this,e),this._readRequests=new j}return Object.defineProperty(e.prototype,"closed",{get:function(){return em(this)?this._closedPromise:E(e_("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),em(this))?void 0===this._ownerReadableStream?E(W("cancel")):M(this,e):E(e_("cancel"))},e.prototype.read=function(){if(!em(this))return E(e_("read"));if(void 0===this._ownerReadableStream)return E(W("read from"));var e,t,r=v(function(r,n){e=r,t=n});return eb(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),r},e.prototype.releaseLock=function(){if(!em(this))throw e_("releaseLock");void 0!==this._ownerReadableStream&&eg(this)},e}();function em(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof ey}function eb(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[U](t)}function eg(e){q(e),ew(e,TypeError("Reader was released"))}function ew(e,t){var r=e._readRequests;e._readRequests=new j,r.forEach(function(e){e._errorSteps(t)})}function e_(e){return TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function ev(e){return e.slice()}function eD(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}Object.defineProperties(ey.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),b(ey.prototype.cancel,"cancel"),b(ey.prototype.read,"read"),b(ey.prototype.releaseLock,"releaseLock"),"symbol"==typeof s.toStringTag&&Object.defineProperty(ey.prototype,s.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var eE=function(e){return(eE="function"==typeof e.transfer?function(e){return e.transfer()}:"function"==typeof structuredClone?function(e){return structuredClone(e,{transfer:[e]})}:function(e){return e})(e)},eS=function(e){return(eS="boolean"==typeof e.detached?function(e){return e.detached}:function(e){return 0===e.byteLength})(e)};function eT(e,t,r){if(e.slice)return e.slice(t,r);var n=r-t,i=new ArrayBuffer(n);return eD(i,0,e,t,n),i}function ex(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError("".concat(String(t)," is not a function"));return r}}function eA(e){var t,r=((t={})[s.iterator]=function(){return e.iterator},t),n=function(){return f(this,arguments,function(){return l(this,function(e){switch(e.label){case 0:return[5,u(h(d(r)))];case 1:case 2:return[4,c.apply(void 0,[e.sent()])];case 3:return[2,e.sent()]}})})}(),i=n.next;return{iterator:n,nextMethod:i,done:!1}}var ek=null!==(o=null!==(n=s.asyncIterator)&&void 0!==n?n:null===(i=s.for)||void 0===i?void 0:i.call(s,"Symbol.asyncIterator"))&&void 0!==o?o:"@@asyncIterator";function eC(e,t,r){if(void 0===t&&(t="sync"),void 0===r){if("async"===t){if(void 0===(r=ex(e,ek))){var n=ex(e,s.iterator);return eA(eC(e,"sync",n))}}else r=ex(e,s.iterator)}if(void 0===r)throw TypeError("The object is not iterable");var i=P(r,e,[]);if(!y(i))throw TypeError("The iterator method must return an object");var o=i.next;return{iterator:i,nextMethod:o,done:!1}}function eI(e){var t=P(e.nextMethod,e.iterator,[]);if(!y(t))throw TypeError("The iterator.next() method must return an object");return t}function eP(e){return!!e.done}function eR(e){return e.value}var eO=((a={})[ek]=function(){return this},a);Object.defineProperty(eO,ek,{enumerable:!1});var ej=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?k(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?k(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var e,t,r=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var n=this._reader,i=v(function(r,n){e=r,t=n}),o={_chunkSteps:function(t){r._ongoingPromise=void 0,I(function(){return e({value:t,done:!1})})},_closeSteps:function(){r._ongoingPromise=void 0,r._isFinished=!0,q(n),e({value:void 0,done:!0})},_errorSteps:function(e){r._ongoingPromise=void 0,r._isFinished=!0,q(n),t(e)}};return eb(n,o),i},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(!this._preventCancel){var r=M(t,e);return q(t),k(r,function(){return{value:e,done:!0}})}return q(t),D({value:e,done:!0})},e}(),eL={next:function(){return eB(this)?this._asyncIteratorImpl.next():E(eU("next"))},return:function(e){return eB(this)?this._asyncIteratorImpl.return(e):E(eU("return"))}};function eN(e,t){var r=new ej(ec(e),t),n=Object.create(eL);return n._asyncIteratorImpl=r,n}function eB(e){if(!y(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ej}catch(e){return!1}}function eU(e){return TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(eL,eO);var ez=Number.isNaN||function(e){return e!=e};function eF(e){return!("number"!=typeof e||ez(e))&&!(e<0)}function eM(e){return new Uint8Array(eT(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function eq(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function eW(e,t,r){if(!eF(r)||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function e$(e){return e._queue.peek().value}function eH(e){e._queue=new j,e._queueTotalSize=0}function eV(e){return e===DataView}function eG(e){return eV(e.constructor)}function eY(e){return eV(e)?1:e.BYTES_PER_ELEMENT}var eK=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!eX(this))throw t_("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!eX(this))throw t_("respond");if(en(e,1,"respond"),e=el(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(eS(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");ty(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!eX(this))throw t_("respondWithNewView");if(en(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(eS(e.buffer))throw TypeError("The given view's buffer has been detached and so cannot be used as a response");tm(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(eK.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),b(eK.prototype.respond,"respond"),b(eK.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof s.toStringTag&&Object.defineProperty(eK.prototype,s.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var eJ=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!eQ(this))throw tv("byobRequest");return td(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!eQ(this))throw tv("desiredSize");return tp(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!eQ(this))throw tv("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError("The stream (in ".concat(e," state) is not in the readable state and cannot be closed"));tu(this)},e.prototype.enqueue=function(e){if(!eQ(this))throw tv("enqueue");if(en(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be enqueued to"));tc(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!eQ(this))throw tv("error");tf(this,e)},e.prototype[B]=function(e){e0(this),eH(this);var t=this._cancelAlgorithm(e);return tl(this),t},e.prototype[U]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){th(this,e);return}var r=this._autoAllocateChunkSize;if(void 0!==r){var n=void 0;try{n=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}var i={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}ef(t,e),eZ(this)},e.prototype[z]=function(){if(this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new j,this._pendingPullIntos.push(e)}},e}();function eQ(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof eJ}function eX(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof eK}function eZ(e){if(ts(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,T(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,eZ(e)),null},function(t){return tf(e,t),null})}}function e0(e){e9(e),e._pendingPullIntos=new j}function e1(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=e2(t);"default"===t.readerType?eh(e,n,r):tA(e,n,r)}function e2(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function e8(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function e3(e,t,r,n){var i;try{i=eT(t,r,r+n)}catch(t){throw tf(e,t),t}e8(e,i,0,n)}function e6(e,t){t.bytesFilled>0&&e3(e,t.buffer,t.byteOffset,t.bytesFilled),ta(e)}function e5(e,t){var r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r,i=r,o=!1,a=n%t.elementSize,s=n-a;s>=t.minimumFill&&(i=s-t.bytesFilled,o=!0);for(var l=e._queue;i>0;){var u=l.peek(),c=Math.min(i,u.byteLength),f=t.byteOffset+t.bytesFilled;eD(t.buffer,f,u.buffer,u.byteOffset,c),u.byteLength===c?l.shift():(u.byteOffset+=c,u.byteLength-=c),e._queueTotalSize-=c,e4(e,c,t),i-=c}return o}function e4(e,t,r){r.bytesFilled+=t}function e7(e){0===e._queueTotalSize&&e._closeRequested?(tl(e),nk(e._controlledReadableByteStream)):eZ(e)}function e9(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function te(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();e5(e,t)&&(ta(e),e1(e._controlledReadableByteStream,t))}}function tt(e){for(var t=e._controlledReadableByteStream._reader;t._readRequests.length>0;){if(0===e._queueTotalSize)return;th(e,t._readRequests.shift())}}function tr(e,t,r,n){var i,o=e._controlledReadableByteStream,a=t.constructor,s=eY(a),l=t.byteOffset,u=t.byteLength,c=r*s;try{i=eE(t.buffer)}catch(e){n._errorSteps(e);return}var f={buffer:i,bufferByteLength:i.byteLength,byteOffset:l,byteLength:u,bytesFilled:0,minimumFill:c,elementSize:s,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(f),tx(o,n);return}if("closed"===o._state){var h=new a(f.buffer,f.byteOffset,0);n._closeSteps(h);return}if(e._queueTotalSize>0){if(e5(e,f)){var d=e2(f);e7(e),n._chunkSteps(d);return}if(e._closeRequested){var p=TypeError("Insufficient bytes to fill elements in the given buffer");tf(e,p),n._errorSteps(p);return}}e._pendingPullIntos.push(f),tx(o,n),eZ(e)}function tn(e,t){"none"===t.readerType&&ta(e);var r=e._controlledReadableByteStream;if(tC(r))for(;tk(r)>0;)e1(r,ta(e))}function ti(e,t,r){if(e4(e,t,r),"none"===r.readerType){e6(e,r),te(e);return}if(!(r.bytesFilled<r.minimumFill)){ta(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled;e3(e,r.buffer,i-n,n)}r.bytesFilled-=n,e1(e._controlledReadableByteStream,r),te(e)}}function to(e,t){var r=e._pendingPullIntos.peek();e9(e),"closed"===e._controlledReadableByteStream._state?tn(e,r):ti(e,t,r),eZ(e)}function ta(e){return e._pendingPullIntos.shift()}function ts(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(ep(t)&&ed(t)>0||tC(t)&&tk(t)>0||tp(e)>0)}function tl(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function tu(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!=0){var n=TypeError("Insufficient bytes to fill elements in the given buffer");throw tf(e,n),n}}tl(e),nk(t)}}function tc(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,i=t.byteOffset,o=t.byteLength;if(eS(n))throw TypeError("chunk's buffer is detached and so cannot be enqueued");var a=eE(n);if(e._pendingPullIntos.length>0){var s=e._pendingPullIntos.peek();if(eS(s.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");e9(e),s.buffer=eE(s.buffer),"none"===s.readerType&&e6(e,s)}ep(r)?(tt(e),0===ed(r)?e8(e,a,i,o):(e._pendingPullIntos.length>0&&ta(e),eh(r,new Uint8Array(a,i,o),!1))):tC(r)?(e8(e,a,i,o),te(e)):e8(e,a,i,o),eZ(e)}}function tf(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(e0(e),eH(e),tl(e),nC(r,t))}function th(e,t){var r=e._queue.shift();e._queueTotalSize-=r.byteLength,e7(e);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function td(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(eK.prototype);tw(n,e,r),e._byobRequest=n}return e._byobRequest}function tp(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ty(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=eE(r.buffer),to(e,t)}function tm(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");var n=t.byteLength;r.buffer=eE(t.buffer),to(e,n)}function tb(e,t,r,n,i,o,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,eH(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new j,e._readableStreamController=t,T(D(r()),function(){return t._started=!0,eZ(t),null},function(e){return tf(t,e),null})}function tg(e,t,r){var n,i,o,a=Object.create(eJ.prototype);n=void 0!==t.start?function(){return t.start(a)}:function(){},i=void 0!==t.pull?function(){return t.pull(a)}:function(){return D(void 0)},o=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)};var s=t.autoAllocateChunkSize;if(0===s)throw TypeError("autoAllocateChunkSize must be greater than 0");tb(e,a,n,i,o,r,s)}function tw(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function t_(e){return TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function tv(e){return TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function tD(e,t){Z(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:tE(r,"".concat(t," has member 'mode' that"))}}function tE(e,t){if("byob"!==(e="".concat(e)))throw TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function tS(e,t){var r;return Z(e,t),{min:el(null!==(r=null==e?void 0:e.min)&&void 0!==r?r:1,"".concat(t," has member 'min' that"))}}function tT(e){return new tI(e)}function tx(e,t){e._reader._readIntoRequests.push(t)}function tA(e,t,r){var n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}function tk(e){return e._reader._readIntoRequests.length}function tC(e){var t=e._reader;return!!(void 0!==t&&tP(t))}Object.defineProperties(eJ.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),b(eJ.prototype.close,"close"),b(eJ.prototype.enqueue,"enqueue"),b(eJ.prototype.error,"error"),"symbol"==typeof s.toStringTag&&Object.defineProperty(eJ.prototype,s.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var tI=function(){function e(e){if(en(e,1,"ReadableStreamBYOBReader"),eu(e,"First parameter"),nx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eQ(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");F(this,e),this._readIntoRequests=new j}return Object.defineProperty(e.prototype,"closed",{get:function(){return tP(this)?this._closedPromise:E(tL("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),tP(this))?void 0===this._ownerReadableStream?E(W("cancel")):M(this,e):E(tL("cancel"))},e.prototype.read=function(e,t){if(void 0===t&&(t={}),!tP(this))return E(tL("read"));if(!ArrayBuffer.isView(e))return E(TypeError("view must be an array buffer view"));if(0===e.byteLength)return E(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return E(TypeError("view's buffer must have non-zero byteLength"));if(eS(e.buffer))return E(TypeError("view's buffer has been detached"));try{r=tS(t,"options")}catch(e){return E(e)}var r,n,i,o=r.min;if(0===o)return E(TypeError("options.min must be greater than 0"));if(eG(e)){if(o>e.byteLength)return E(RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>e.length)return E(RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return E(W("read from"));var a=v(function(e,t){n=e,i=t});return tR(this,e,o,{_chunkSteps:function(e){return n({value:e,done:!1})},_closeSteps:function(e){return n({value:e,done:!0})},_errorSteps:function(e){return i(e)}}),a},e.prototype.releaseLock=function(){if(!tP(this))throw tL("releaseLock");void 0!==this._ownerReadableStream&&tO(this)},e}();function tP(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof tI}function tR(e,t,r,n){var i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?n._errorSteps(i._storedError):tr(i._readableStreamController,t,r,n)}function tO(e){q(e),tj(e,TypeError("Reader was released"))}function tj(e,t){var r=e._readIntoRequests;e._readIntoRequests=new j,r.forEach(function(e){e._errorSteps(t)})}function tL(e){return TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function tN(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(ez(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function tB(e){var t=e.size;return t||function(){return 1}}function tU(e,t){Z(e,t);var r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:eo(r),size:void 0===n?void 0:tz(n,"".concat(t," has member 'size' that"))}}function tz(e,t){return ee(e,t),function(t){return eo(e(t))}}function tF(e,t){Z(e,t);var r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,o=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:tM(r,e,"".concat(t," has member 'abort' that")),close:void 0===n?void 0:tq(n,e,"".concat(t," has member 'close' that")),start:void 0===i?void 0:tW(i,e,"".concat(t," has member 'start' that")),write:void 0===a?void 0:t$(a,e,"".concat(t," has member 'write' that")),type:o}}function tM(e,t,r){return ee(e,r),function(r){return R(e,t,[r])}}function tq(e,t,r){return ee(e,r),function(){return R(e,t,[])}}function tW(e,t,r){return ee(e,r),function(r){return P(e,t,[r])}}function t$(e,t,r){return ee(e,r),function(r,n){return R(e,t,[r,n])}}function tH(e,t){if(!tZ(e))throw TypeError("".concat(t," is not a WritableStream."))}function tV(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}Object.defineProperties(tI.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),b(tI.prototype.cancel,"cancel"),b(tI.prototype.read,"read"),b(tI.prototype.releaseLock,"releaseLock"),"symbol"==typeof s.toStringTag&&Object.defineProperty(tI.prototype,s.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var tG="function"==typeof AbortController;function tY(){if(tG)return new AbortController}var tK=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:er(e,"First parameter");var r=tU(t,"Second parameter"),n=tF(e,"First parameter");if(tX(this),void 0!==n.type)throw RangeError("Invalid type is specified");var i=tB(r);rv(this,n,tN(r,1),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!tZ(this))throw rO("locked");return t0(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return(void 0===e&&(e=void 0),tZ(this))?t0(this)?E(TypeError("Cannot abort a stream that already has a writer")):t1(this,e):E(rO("abort"))},e.prototype.close=function(){return tZ(this)?t0(this)?E(TypeError("Cannot close a stream that already has a writer")):rt(this)?E(TypeError("Cannot close an already-closing stream")):t2(this):E(rO("close"))},e.prototype.getWriter=function(){if(!tZ(this))throw rO("getWriter");return tJ(this)},e}();function tJ(e){return new rs(e)}function tQ(e,t,r,n,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var a=Object.create(tK.prototype);return tX(a),r_(a,Object.create(rg.prototype),e,t,r,n,i,o),a}function tX(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new j,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function tZ(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof tK}function t0(e){return void 0!==e._writer}function t1(e,t){if("closed"===e._state||"errored"===e._state)return D(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);var r,n=e._state;if("closed"===n||"errored"===n)return D(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===n&&(i=!0,t=void 0);var o=v(function(r,n){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=o,i||t6(e,t),o}function t2(e){var t=e._state;if("closed"===t||"errored"===t)return E(TypeError("The stream (in ".concat(t," state) is not in the writable state and cannot be closed")));var r=v(function(t,r){e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&rK(n),rE(e._writableStreamController),r}function t8(e){return v(function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)})}function t3(e,t){if("writable"===e._state){t6(e,t);return}t5(e)}function t6(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&rd(n,t),!rr(e)&&r._started&&t5(e)}function t5(e){e._state="errored",e._writableStreamController[N]();var t=e._storedError;if(e._writeRequests.forEach(function(e){e._reject(t)}),e._writeRequests=new j,void 0===e._pendingAbortRequest){ro(e);return}var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),ro(e);return}T(e._writableStreamController[L](r._reason),function(){return r._resolve(),ro(e),null},function(t){return r._reject(t),ro(e),null})}function t4(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function t7(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,t3(e,t)}function t9(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&rq(t)}function re(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),t3(e,t)}function rt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function rr(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function rn(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function ri(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ro(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&rF(t,e._storedError)}function ra(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?rG(r):rK(r)),e._backpressure=t}Object.defineProperties(tK.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),b(tK.prototype.abort,"abort"),b(tK.prototype.close,"close"),b(tK.prototype.getWriter,"getWriter"),"symbol"==typeof s.toStringTag&&Object.defineProperty(tK.prototype,s.toStringTag,{value:"WritableStream",configurable:!0});var rs=function(){function e(e){if(en(e,1,"WritableStreamDefaultWriter"),tH(e,"First parameter"),t0(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!rt(e)&&e._backpressure?rW(this):rH(this),rB(this);else if("erroring"===t)r$(this,e._storedError),rB(this);else if("closed"===t)rH(this),rz(this);else{var r=e._storedError;r$(this,r),rU(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return rl(this)?this._closedPromise:E(rL("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!rl(this))throw rL("desiredSize");if(void 0===this._ownerWritableStream)throw rN("desiredSize");return rp(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return rl(this)?this._readyPromise:E(rL("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return(void 0===e&&(e=void 0),rl(this))?void 0===this._ownerWritableStream?E(rN("abort")):ru(this,e):E(rL("abort"))},e.prototype.close=function(){if(!rl(this))return E(rL("close"));var e=this._ownerWritableStream;return void 0===e?E(rN("close")):rt(e)?E(TypeError("Cannot close an already-closing stream")):rc(this)},e.prototype.releaseLock=function(){if(!rl(this))throw rL("releaseLock");void 0!==this._ownerWritableStream&&ry(this)},e.prototype.write=function(e){return(void 0===e&&(e=void 0),rl(this))?void 0===this._ownerWritableStream?E(rN("write to")):rm(this,e):E(rL("write"))},e}();function rl(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof rs}function ru(e,t){return t1(e._ownerWritableStream,t)}function rc(e){return t2(e._ownerWritableStream)}function rf(e){var t=e._ownerWritableStream,r=t._state;return rt(t)||"closed"===r?D(void 0):"errored"===r?E(t._storedError):rc(e)}function rh(e,t){"pending"===e._closedPromiseState?rF(e,t):rM(e,t)}function rd(e,t){"pending"===e._readyPromiseState?rV(e,t):rY(e,t)}function rp(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:rT(t._writableStreamController)}function ry(e){var t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rd(e,r),rh(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function rm(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,i=rS(n,t);if(r!==e._ownerWritableStream)return E(rN("write to"));var o=r._state;if("errored"===o)return E(r._storedError);if(rt(r)||"closed"===o)return E(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return E(r._storedError);var a=t8(r);return rx(n,t,i),a}Object.defineProperties(rs.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),b(rs.prototype.abort,"abort"),b(rs.prototype.close,"close"),b(rs.prototype.releaseLock,"releaseLock"),b(rs.prototype.write,"write"),"symbol"==typeof s.toStringTag&&Object.defineProperty(rs.prototype,s.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var rb={},rg=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!rw(this))throw rj("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!rw(this))throw rj("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(void 0===e&&(e=void 0),!rw(this))throw rj("error");"writable"===this._controlledWritableStream._state&&rR(this,e)},e.prototype[L]=function(e){var t=this._abortAlgorithm(e);return rD(this),t},e.prototype[N]=function(){eH(this)},e}();function rw(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof rg}function r_(e,t,r,n,i,o,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,eH(t),t._abortReason=void 0,t._abortController=tY(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o,ra(e,rP(t)),T(D(r()),function(){return t._started=!0,rA(t),null},function(r){return t._started=!0,t3(e,r),null})}function rv(e,t,r,n){var i,o,a,s=Object.create(rg.prototype);i=void 0!==t.start?function(){return t.start(s)}:function(){},o=void 0!==t.write?function(e){return t.write(e,s)}:function(){return D(void 0)},r_(e,s,i,o,void 0!==t.close?function(){return t.close()}:function(){return D(void 0)},a=void 0!==t.abort?function(e){return t.abort(e)}:function(){return D(void 0)},r,n)}function rD(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rE(e){eW(e,rb,0),rA(e)}function rS(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return rk(e,t),1}}function rT(e){return e._strategyHWM-e._queueTotalSize}function rx(e,t,r){try{eW(e,t,r)}catch(t){rk(e,t);return}var n=e._controlledWritableStream;rt(n)||"writable"!==n._state||ra(n,rP(e)),rA(e)}function rA(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest){if("erroring"===t._state){t5(t);return}if(0!==e._queue.length){var r=e$(e);r===rb?rC(e):rI(e,r)}}}function rk(e,t){"writable"===e._controlledWritableStream._state&&rR(e,t)}function rC(e){var t=e._controlledWritableStream;rn(t),eq(e);var r=e._closeAlgorithm();rD(e),T(r,function(){return t9(t),null},function(e){return re(t,e),null})}function rI(e,t){var r=e._controlledWritableStream;ri(r),T(e._writeAlgorithm(t),function(){t4(r);var t=r._state;return eq(e),rt(r)||"writable"!==t||ra(r,rP(e)),rA(e),null},function(t){return"writable"===r._state&&rD(e),t7(r,t),null})}function rP(e){return 0>=rT(e)}function rR(e,t){var r=e._controlledWritableStream;rD(e),t6(r,t)}function rO(e){return TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function rj(e){return TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function rL(e){return TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function rN(e){return TypeError("Cannot "+e+" a stream using a released writer")}function rB(e){e._closedPromise=v(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function rU(e,t){rB(e),rF(e,t)}function rz(e){rB(e),rq(e)}function rF(e,t){void 0!==e._closedPromise_reject&&(C(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function rM(e,t){rU(e,t)}function rq(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function rW(e){e._readyPromise=v(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function r$(e,t){rW(e),rV(e,t)}function rH(e){rW(e),rK(e)}function rV(e,t){void 0!==e._readyPromise_reject&&(C(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function rG(e){rW(e)}function rY(e,t){r$(e,t)}function rK(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(rg.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof s.toStringTag&&Object.defineProperty(rg.prototype,s.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var rJ=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0}();function rQ(e){if("function"!=typeof e&&"object"!=typeof e||"DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}function rX(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return b(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var rZ=function(){var e=null==rJ?void 0:rJ.DOMException;return rQ(e)?e:void 0}()||rX();function r0(e,t,r,n,i,o){var a=ec(e),s=tJ(t);e._disturbed=!0;var l=!1,u=D(void 0);return v(function(c,f){var h;if(void 0!==o){if(h=function(){var r=void 0!==o.reason?o.reason:new rZ("Aborted","AbortError"),a=[];n||a.push(function(){return"writable"===t._state?t1(t,r):D(void 0)}),i||a.push(function(){return"readable"===e._state?nA(e,r):D(void 0)}),_(function(){return Promise.all(a.map(function(e){return e()}))},!0,r)},o.aborted){h();return}o.addEventListener("abort",h)}function d(){return v(function(e,t){function r(n){n?e():S(y(),r,t)}r(!1)})}function y(){return l?D(!0):S(s._readyPromise,function(){return v(function(e,t){eb(a,{_chunkSteps:function(t){u=S(rm(s,t),void 0,p),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})})})}if(g(e,a._closedPromise,function(e){return n?E(!0,e):_(function(){return t1(t,e)},!0,e),null}),g(t,s._closedPromise,function(t){return i?E(!0,t):_(function(){return nA(e,t)},!0,t),null}),w(e,a._closedPromise,function(){return r?E():_(function(){return rf(s)}),null}),rt(t)||"closed"===t._state){var m=TypeError("the destination writable stream closed before all data could be piped to it");i?E(!0,m):_(function(){return nA(e,m)},!0,m)}function b(){var e=u;return S(u,function(){return e!==u?b():void 0})}function g(e,t,r){"errored"===e._state?r(e._storedError):A(t,r)}function w(e,t,r){"closed"===e._state?r():x(t,r)}function _(e,r,n){!l&&(l=!0,"writable"!==t._state||rt(t)?i():x(b(),i));function i(){return T(e(),function(){return k(r,n)},function(e){return k(!0,e)}),null}}function E(e,r){!l&&(l=!0,"writable"!==t._state||rt(t)?k(e,r):x(b(),function(){return k(e,r)}))}function k(e,t){return ry(s),q(a),void 0!==o&&o.removeEventListener("abort",h),e?f(t):c(void 0),null}C(d())})}var r1=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!r2(this))throw ni("desiredSize");return r9(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!r2(this))throw ni("close");if(!nt(this))throw TypeError("The stream is not in a state that permits close");r5(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!r2(this))throw ni("enqueue");if(!nt(this))throw TypeError("The stream is not in a state that permits enqueue");return r4(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!r2(this))throw ni("error");r7(this,e)},e.prototype[B]=function(e){eH(this);var t=this._cancelAlgorithm(e);return r6(this),t},e.prototype[U]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=eq(this);this._closeRequested&&0===this._queue.length?(r6(this),nk(t)):r8(this),e._chunkSteps(r)}else ef(t,e),r8(this)},e.prototype[z]=function(){},e}();function r2(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof r1}function r8(e){if(r3(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,T(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,r8(e)),null},function(t){return r7(e,t),null})}}function r3(e){var t=e._controlledReadableStream;return!!nt(e)&&!!e._started&&!!(nx(t)&&ed(t)>0||r9(e)>0)}function r6(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function r5(e){if(nt(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(r6(e),nk(t))}}function r4(e,t){if(nt(e)){var r=e._controlledReadableStream;if(nx(r)&&ed(r)>0)eh(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw r7(e,t),t}try{eW(e,t,n)}catch(t){throw r7(e,t),t}}r8(e)}}function r7(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(eH(e),r6(e),nC(r,t))}function r9(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ne(e){return!r3(e)}function nt(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function nr(e,t,r,n,i,o,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,eH(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,T(D(r()),function(){return t._started=!0,r8(t),null},function(e){return r7(t,e),null})}function nn(e,t,r,n){var i,o,a,s=Object.create(r1.prototype);i=void 0!==t.start?function(){return t.start(s)}:function(){},o=void 0!==t.pull?function(){return t.pull(s)}:function(){return D(void 0)},nr(e,s,i,o,a=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)},r,n)}function ni(e){return TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function no(e,t){return eQ(e._readableStreamController)?ns(e):na(e)}function na(e,t){var r,n,i,o,a,s=ec(e),l=!1,u=!1,c=!1,f=!1,h=v(function(e){a=e});function d(){return l?u=!0:(l=!0,eb(s,{_chunkSteps:function(e){I(function(){u=!1;var t=e,r=e;c||r4(i._readableStreamController,t),f||r4(o._readableStreamController,r),l=!1,u&&d()})},_closeSteps:function(){l=!1,c||r5(i._readableStreamController),f||r5(o._readableStreamController),c&&f||a(void 0)},_errorSteps:function(){l=!1}})),D(void 0)}function p(t){if(f=!0,n=t,c){var i=nA(e,ev([r,n]));a(i)}return h}function y(){}return i=nD(y,d,function(t){if(c=!0,r=t,f){var i=nA(e,ev([r,n]));a(i)}return h}),o=nD(y,d,p),A(s._closedPromise,function(e){return r7(i._readableStreamController,e),r7(o._readableStreamController,e),c&&f||a(void 0),null}),[i,o]}function ns(e){var t,r,n,i,o,a=ec(e),s=!1,l=!1,u=!1,c=!1,f=!1,h=v(function(e){o=e});function d(e){A(e._closedPromise,function(t){return e!==a||(tf(n._readableStreamController,t),tf(i._readableStreamController,t),c&&f||o(void 0)),null})}function p(){tP(a)&&(q(a),d(a=ec(e))),eb(a,{_chunkSteps:function(t){I(function(){l=!1,u=!1;var r=t,a=t;if(!c&&!f)try{a=eM(t)}catch(t){tf(n._readableStreamController,t),tf(i._readableStreamController,t),o(nA(e,t));return}c||tc(n._readableStreamController,r),f||tc(i._readableStreamController,a),s=!1,l?m():u&&b()})},_closeSteps:function(){s=!1,c||tu(n._readableStreamController),f||tu(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&ty(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&ty(i._readableStreamController,0),c&&f||o(void 0)},_errorSteps:function(){s=!1}})}function y(t,r){em(a)&&(q(a),d(a=tT(e)));var h=r?i:n,p=r?n:i,y={_chunkSteps:function(t){I(function(){l=!1,u=!1;var n=r?f:c;if(r?c:f)n||tm(h._readableStreamController,t);else{var i=void 0;try{i=eM(t)}catch(t){tf(h._readableStreamController,t),tf(p._readableStreamController,t),o(nA(e,t));return}n||tm(h._readableStreamController,t),tc(p._readableStreamController,i)}s=!1,l?m():u&&b()})},_closeSteps:function(e){s=!1;var t=r?f:c,n=r?c:f;t||tu(h._readableStreamController),n||tu(p._readableStreamController),void 0!==e&&(t||tm(h._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&ty(p._readableStreamController,0)),t&&n||o(void 0)},_errorSteps:function(){s=!1}};tR(a,t,1,y)}function m(){if(s)return l=!0,D(void 0);s=!0;var e=td(n._readableStreamController);return null===e?p():y(e._view,!1),D(void 0)}function b(){if(s)return u=!0,D(void 0);s=!0;var e=td(i._readableStreamController);return null===e?p():y(e._view,!0),D(void 0)}function g(n){if(f=!0,r=n,c){var i=nA(e,ev([t,r]));o(i)}return h}function w(){}return n=nE(w,m,function(n){if(c=!0,t=n,f){var i=nA(e,ev([t,r]));o(i)}return h}),i=nE(w,b,g),d(a),[n,i]}function nl(e){return y(e)&&void 0!==e.getReader}function nu(e){return nl(e)?nf(e.getReader()):nc(e)}function nc(e){var t,r=eC(e,"async");return t=nD(p,function(){var e;try{e=eI(r)}catch(e){return E(e)}return k(D(e),function(e){if(!y(e))throw TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(eP(e))r5(t._readableStreamController);else{var r=eR(e);r4(t._readableStreamController,r)}})},function(e){var t,n,i=r.iterator;try{t=ex(i,"return")}catch(e){return E(e)}if(void 0===t)return D(void 0);try{n=P(t,i,[e])}catch(e){return E(e)}return k(D(n),function(e){if(!y(e))throw TypeError("The promise returned by the iterator.return() method must fulfill with an object")})},0)}function nf(e){var t;return t=nD(p,function(){var r;try{r=e.read()}catch(e){return E(e)}return k(r,function(e){if(!y(e))throw TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)r5(t._readableStreamController);else{var r=e.value;r4(t._readableStreamController,r)}})},function(t){try{return D(e.cancel(t))}catch(e){return E(e)}},0)}function nh(e,t){Z(e,t);var r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,a=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:el(n,"".concat(t," has member 'autoAllocateChunkSize' that")),cancel:void 0===i?void 0:nd(i,r,"".concat(t," has member 'cancel' that")),pull:void 0===o?void 0:np(o,r,"".concat(t," has member 'pull' that")),start:void 0===a?void 0:ny(a,r,"".concat(t," has member 'start' that")),type:void 0===s?void 0:nm(s,"".concat(t," has member 'type' that"))}}function nd(e,t,r){return ee(e,r),function(r){return R(e,t,[r])}}function np(e,t,r){return ee(e,r),function(r){return R(e,t,[r])}}function ny(e,t,r){return ee(e,r),function(r){return P(e,t,[r])}}function nm(e,t){if("bytes"!==(e="".concat(e)))throw TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function nb(e,t){return Z(e,t),{preventCancel:!!(null==e?void 0:e.preventCancel)}}function ng(e,t){Z(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&nw(o,"".concat(t," has member 'signal' that")),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:o}}function nw(e,t){if(!tV(e))throw TypeError("".concat(t," is not an AbortSignal."))}function n_(e,t){Z(e,t);var r=null==e?void 0:e.readable;ei(r,"readable","ReadableWritablePair"),eu(r,"".concat(t," has member 'readable' that"));var n=null==e?void 0:e.writable;return ei(n,"writable","ReadableWritablePair"),tH(n,"".concat(t," has member 'writable' that")),{readable:r,writable:n}}Object.defineProperties(r1.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),b(r1.prototype.close,"close"),b(r1.prototype.enqueue,"enqueue"),b(r1.prototype.error,"error"),"symbol"==typeof s.toStringTag&&Object.defineProperty(r1.prototype,s.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var nv=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:er(e,"First parameter");var r=tU(t,"Second parameter"),n=nh(e,"First parameter");if(nS(this),"bytes"===n.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");var i=tN(r,0);tg(this,n,i)}else{var o=tB(r),i=tN(r,1);nn(this,n,i,o)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!nT(this))throw nI("locked");return nx(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),nT(this))?nx(this)?E(TypeError("Cannot cancel a stream that already has a reader")):nA(this,e):E(nI("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!nT(this))throw nI("getReader");return void 0===tD(e,"First parameter").mode?ec(this):tT(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!nT(this))throw nI("pipeThrough");en(e,1,"pipeThrough");var r=n_(e,"First parameter"),n=ng(t,"Second parameter");if(nx(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(t0(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return C(r0(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable},e.prototype.pipeTo=function(e,t){var r;if(void 0===t&&(t={}),!nT(this))return E(nI("pipeTo"));if(void 0===e)return E("Parameter 1 is required in 'pipeTo'.");if(!tZ(e))return E(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=ng(t,"Second parameter")}catch(e){return E(e)}return nx(this)?E(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):t0(e)?E(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):r0(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!nT(this))throw nI("tee");return ev(no(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!nT(this))throw nI("values");return eN(this,nb(e,"First parameter").preventCancel)},e.prototype[ek]=function(e){return this.values(e)},e.from=function(e){return nu(e)},e}();function nD(e,t,r,n,i){void 0===n&&(n=1),void 0===i&&(i=function(){return 1});var o=Object.create(nv.prototype);return nS(o),nr(o,Object.create(r1.prototype),e,t,r,n,i),o}function nE(e,t,r){var n=Object.create(nv.prototype);return nS(n),tb(n,Object.create(eJ.prototype),e,t,r,0,void 0),n}function nS(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function nT(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof nv}function nx(e){return void 0!==e._reader}function nA(e,t){if(e._disturbed=!0,"closed"===e._state)return D(void 0);if("errored"===e._state)return E(e._storedError);nk(e);var r=e._reader;if(void 0!==r&&tP(r)){var n=r._readIntoRequests;r._readIntoRequests=new j,n.forEach(function(e){e._closeSteps(void 0)})}return k(e._readableStreamController[B](t),p)}function nk(e){e._state="closed";var t=e._reader;if(void 0!==t&&(K(t),em(t))){var r=t._readRequests;t._readRequests=new j,r.forEach(function(e){e._closeSteps()})}}function nC(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(G(r,t),em(r)?ew(r,t):tj(r,t))}function nI(e){return TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function nP(e,t){Z(e,t);var r=null==e?void 0:e.highWaterMark;return ei(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:eo(r)}}Object.defineProperties(nv,{from:{enumerable:!0}}),Object.defineProperties(nv.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),b(nv.from,"from"),b(nv.prototype.cancel,"cancel"),b(nv.prototype.getReader,"getReader"),b(nv.prototype.pipeThrough,"pipeThrough"),b(nv.prototype.pipeTo,"pipeTo"),b(nv.prototype.tee,"tee"),b(nv.prototype.values,"values"),"symbol"==typeof s.toStringTag&&Object.defineProperty(nv.prototype,s.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(nv.prototype,ek,{value:nv.prototype.values,writable:!0,configurable:!0});var nR=function(e){return e.byteLength};b(nR,"size");var nO=function(){function e(e){en(e,1,"ByteLengthQueuingStrategy"),e=nP(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!nL(this))throw nj("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!nL(this))throw nj("size");return nR},enumerable:!1,configurable:!0}),e}();function nj(e){return TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function nL(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof nO}Object.defineProperties(nO.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof s.toStringTag&&Object.defineProperty(nO.prototype,s.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var nN=function(){return 1};b(nN,"size");var nB=function(){function e(e){en(e,1,"CountQueuingStrategy"),e=nP(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!nz(this))throw nU("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!nz(this))throw nU("size");return nN},enumerable:!1,configurable:!0}),e}();function nU(e){return TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function nz(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof nB}function nF(e,t){Z(e,t);var r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,o=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:n$(r,e,"".concat(t," has member 'cancel' that")),flush:void 0===n?void 0:nM(n,e,"".concat(t," has member 'flush' that")),readableType:i,start:void 0===o?void 0:nq(o,e,"".concat(t," has member 'start' that")),transform:void 0===a?void 0:nW(a,e,"".concat(t," has member 'transform' that")),writableType:s}}function nM(e,t,r){return ee(e,r),function(r){return R(e,t,[r])}}function nq(e,t,r){return ee(e,r),function(r){return P(e,t,[r])}}function nW(e,t,r){return ee(e,r),function(r,n){return R(e,t,[r,n])}}function n$(e,t,r){return ee(e,r),function(r){return R(e,t,[r])}}Object.defineProperties(nB.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof s.toStringTag&&Object.defineProperty(nB.prototype,s.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var nH=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n,i=tU(t,"Second parameter"),o=tU(r,"Third parameter"),a=nF(e,"First parameter");if(void 0!==a.readableType)throw RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw RangeError("Invalid writableType specified");var s=tN(o,0),l=tB(o),u=tN(i,1),c=tB(i);nV(this,v(function(e){n=e}),u,c,s,l),n1(this,a),void 0!==a.start?n(a.start(this._transformStreamController)):n(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!nG(this))throw ia("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!nG(this))throw ia("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function nV(e,t,r,n,i,o){function a(){return t}function s(t){return n4(e,t)}function l(t){return n7(e,t)}function u(){return n9(e)}function c(){return ie(e)}function f(t){return it(e,t)}e._writable=tQ(a,s,u,l,r,n),e._readable=nD(a,c,f,i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,nQ(e,!0),e._transformStreamController=void 0}function nG(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof nH}function nY(e,t){r7(e._readable._readableStreamController,t),nK(e,t)}function nK(e,t){n2(e._transformStreamController),rk(e._writable._writableStreamController,t),nJ(e)}function nJ(e){e._backpressure&&nQ(e,!1)}function nQ(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=v(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(nH.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof s.toStringTag&&Object.defineProperty(nH.prototype,s.toStringTag,{value:"TransformStream",configurable:!0});var nX=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!nZ(this))throw ir("desiredSize");return r9(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!nZ(this))throw ir("enqueue");n8(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!nZ(this))throw ir("error");n3(this,e)},e.prototype.terminate=function(){if(!nZ(this))throw ir("terminate");n5(this)},e}();function nZ(e){return!!(y(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof nX}function n0(e,t,r,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}function n1(e,t){var r,n,i,o=Object.create(nX.prototype);r=void 0!==t.transform?function(e){return t.transform(e,o)}:function(e){try{return n8(o,e),D(void 0)}catch(e){return E(e)}},n=void 0!==t.flush?function(){return t.flush(o)}:function(){return D(void 0)},n0(e,o,r,n,i=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)})}function n2(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function n8(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!nt(n))throw TypeError("Readable side is not in a state that permits enqueue");try{r4(n,t)}catch(e){throw nK(r,e),r._readable._storedError}ne(n)!==r._backpressure&&nQ(r,!0)}function n3(e,t){nY(e._controlledTransformStream,t)}function n6(e,t){return k(e._transformAlgorithm(t),void 0,function(t){throw nY(e._controlledTransformStream,t),t})}function n5(e){var t=e._controlledTransformStream;r5(t._readable._readableStreamController),nK(t,TypeError("TransformStream terminated"))}function n4(e,t){var r=e._transformStreamController;return e._backpressure?k(e._backpressureChangePromise,function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return n6(r,t)}):n6(r,t)}function n7(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._readable;r._finishPromise=v(function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t});var i=r._cancelAlgorithm(t);return n2(r),T(i,function(){return"errored"===n._state?io(r,n._storedError):(r7(n._readableStreamController,t),ii(r)),null},function(e){return r7(n._readableStreamController,e),io(r,e),null}),r._finishPromise}function n9(e){var t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;var r=e._readable;t._finishPromise=v(function(e,r){t._finishPromise_resolve=e,t._finishPromise_reject=r});var n=t._flushAlgorithm();return n2(t),T(n,function(){return"errored"===r._state?io(t,r._storedError):(r5(r._readableStreamController),ii(t)),null},function(e){return r7(r._readableStreamController,e),io(t,e),null}),t._finishPromise}function ie(e){return nQ(e,!1),e._backpressureChangePromise}function it(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._writable;r._finishPromise=v(function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t});var i=r._cancelAlgorithm(t);return n2(r),T(i,function(){return"errored"===n._state?io(r,n._storedError):(rk(n._writableStreamController,t),nJ(e),ii(r)),null},function(t){return rk(n._writableStreamController,t),nJ(e),io(r,t),null}),r._finishPromise}function ir(e){return TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function ii(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function io(e,t){void 0!==e._finishPromise_reject&&(C(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ia(e){return TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(nX.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),b(nX.prototype.enqueue,"enqueue"),b(nX.prototype.error,"error"),b(nX.prototype.terminate,"terminate"),"symbol"==typeof s.toStringTag&&Object.defineProperty(nX.prototype,s.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})},19552:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},21475:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=new Uint8Array(0),n=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),i=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):r},o=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),s=e=>new TextEncoder().encode(e),l=e=>new TextDecoder().decode(e);t.coerce=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},t.empty=r,t.equals=o,t.fromHex=i,t.fromString=s,t.isBinary=a,t.toHex=n,t.toString=l},21820:e=>{"use strict";e.exports=require("os")},22977:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},25620:e=>{"use strict";let t=[255,254,252,248,240,224,192,128],r=[1,3,7,15,31,63,127,255];function n(e,t,r){return(e&i(t,r))>>>t}function i(e,n){return t[e]&r[Math.min(n+e-1,7)]}e.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t&&this._haveBits();){let e=this._value[this._currentBytePos],i=this._currentBitPos+1,o=Math.min(i,t),a=n(e,i-o,o);r=(r<<o)+a,t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},26328:e=>{"use strict";var t=128,r=-128,n=0x80000000;function i(e,o,a){o=o||[];for(var s=a=a||0;e>=n;)o[a++]=255&e|t,e/=128;for(;e&r;)o[a++]=255&e|t,e>>>=7;return o[a]=0|e,i.bytes=a-s+1,o}var o=128,a=127;function s(e,t){var r,n=0,t=t||0,i=0,l=t,u=e.length;do{if(l>=u)throw s.bytes=0,RangeError("Could not decode varint");r=e[l++],n+=i<28?(r&a)<<i:(r&a)*Math.pow(2,i),i+=7}while(r>=o);return s.bytes=l-t,n}var l=128,u=16384,c=2097152,f=0x10000000,h=0x800000000,d=0x40000000000,p=0x2000000000000,y=0x100000000000000,m=0x8000000000000000;e.exports={encode:i,decode:s,encodingLength:function(e){return e<l?1:e<u?2:e<c?3:e<f?4:e<h?5:e<d?6:e<p?7:e<y?8:e<m?9:10}}},26678:e=>{"use strict";function t(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"==typeof e)throw TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(i){n.message=e.message,n.stack=e.stack;let r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),t(new r,n)}}},27029:e=>{"use strict";e.exports=async function*(e,t){for await(let r of e)yield t(r)}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30096:e=>{"use strict";e.exports=function(e){let[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}},31737:function(e,t,r){"use strict";let n=r(22977),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),s=this,l={concatArrays:!1,ignoreUndefined:!1},u=e=>{let t=[];for(let r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(e))o.call(e,r)&&t.push(r);return t};function c(e){return Array.isArray(e)?f(e):n(e)?h(e):e}function f(e){let t=e.slice(0,0);return u(e).forEach(r=>{a(t,r,c(e[r]))}),t}function h(e){let t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach(r=>{a(t,r,c(e[r]))}),t}let d=(e,t,r,n)=>(r.forEach(r=>{(void 0!==t[r]||!n.ignoreUndefined)&&(r in e&&e[r]!==Object.getPrototypeOf(e)?a(e,r,y(e[r],t[r],n)):a(e,r,c(t[r])))}),e),p=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(t=>{let s=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(s.push(String(r)),t===e?a(n,o++,t[r]):a(n,o++,c(t[r])));n=d(n,t,u(t).filter(e=>!s.includes(e)),r)}),n};function y(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?p(e,t,r):n(t)&&n(e)?d(e,t,u(t),r):c(t)}e.exports=function(...e){let t=y(c(l),this!==s&&this||{},l),r={_:{}};for(let i of e)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=y(r,{_:i},t)}return r._}},32221:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(37914),n.base64=r(3178),n.EventEmitter=r(64272),n.float=r(41041),n.inquire=r(19552),n.utf8=r(65232),n.pool=r(39296),n.LongBits=r(8098),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34691:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(38150),n.BufferWriter=r(49567),n.Reader=r(18502),n.BufferReader=r(14783),n.util=r(32221),n.rpc=r(43010),n.roots=r(54816),n.configure=i,i()},35679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184),i=r(21475);t.identity=n.from({prefix:"\0",name:"identity",encode:e=>i.toString(e),decode:e=>i.fromString(e)})},35712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base2=r(36184).rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})},36184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79430),i=r(21475);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return l(this,e)}}class s{constructor(e){this.decoders=e}or(e){return l(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let l=(e,t)=>new s({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new a(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let c=({name:e,prefix:t,encode:r,decode:n})=>new u(e,t,r,n),f=({prefix:e,name:t,alphabet:r})=>{let{encode:o,decode:a}=n(r,t);return c({prefix:e,name:t,encode:o,decode:e=>i.coerce(a(e))})},h=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,l=0,u=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);l=l<<r|o,(s+=r)>=8&&(s-=8,a[u++]=255&l>>s)}if(s>=r||255&l<<8-s)throw SyntaxError("Unexpected end of data");return a},d=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},p=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>c({prefix:t,name:e,encode:e=>d(e,n,r),decode:t=>h(t,n,r,e)});t.Codec=u,t.baseX=f,t.from=c,t.or=l,t.rfc4648=p},36613:(e,t,r)=>{"use strict";let n=r(37716);e.exports=async function*(e,t=1){for await(let r of n(e,t)){let e=r.map(e=>e().then(e=>({ok:!0,value:e}),e=>({ok:!1,err:e})));for(let t=0;t<e.length;t++){let r=await e[t];if(r.ok)yield r.value;else throw r.err}}}},37285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base10=r(36184).baseX({prefix:"9",name:"base10",alphabet:"0123456789"})},37716:e=>{"use strict";e.exports=async function*(e,t=1){let r=[];for await(let n of(t<1&&(t=1),e))for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length;)yield r.slice(0,t),r=r.slice(t)}},37914:e=>{"use strict";e.exports=function e(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,a){r[n]=function(e){if(o){if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}})}},38123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=n.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o=n.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});t.base16=i,t.base16upper=o},38150:(e,t,r)=>{"use strict";e.exports=f;var n,i=r(32221),o=i.LongBits,a=i.base64,s=i.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function y(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function b(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=h(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},y.prototype=Object.create(l.prototype),y.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new y((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,+!!e)},f.prototype.fixed32=function(e){return this._push(b,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(b,4,t.lo)._push(b,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=h(),n._configure()}},39296:e=>{"use strict";e.exports=function e(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=(7|a)+1),s}}},40658:(e,t,r)=>{"use strict";e.exports=i;var n=r(32221);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r){s.end(!0);return}if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},41041:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=+(t<0);if(i&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,n);else if(isNaN(t))e(0x7fc00000,r,n);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,r,n)}}function a(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:1/0*i:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a,s=+(n<0);if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:0x80000000,i,o+r);else if(isNaN(n))e(0,i,o+t),e(0x7ff80000,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|0x7ff00000)>>>0,i,o+r);else if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/0x100000000)>>>0,i,o+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(0x10000000000000*(a=n*Math.pow(2,-l))>>>0,i,o+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}function a(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=(a>>31)*2+1,l=a>>>20&2047,u=0x100000000*(1048575&a)+o;return 2047===l?u?NaN:1/0*s:0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+0x10000000000000)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},43010:(e,t,r)=>{"use strict";t.Service=r(40658)},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},44981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14922),i=r(46718);t.fromString=function(e,t="utf8"){let r=n[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?i.asUint8Array(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}},45590:()=>{},45746:(e,t,r)=>{"use strict";let n=r(25620),{concat:i}=r(8051);function o(e){return function(t){return t instanceof a?t:new a(t,e)}}class a{constructor(e,t){if(!(e instanceof Uint8Array))throw Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){let e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t),i=e.take(n);r=(r<<n)+i,t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){let e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,t=new n(await this._hashFn(e));this._buffers.push(t),this._availableBits+=t.availableBits()}}e.exports=o,e.exports.InfiniteHash=a},46718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asUint8Array=function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}},47965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=n.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=n.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});t.base36=i,t.base36upper=o},48149:e=>{"use strict";e.exports=async e=>{let t=[];for await(let r of e)t.push(r);return t}},48161:e=>{"use strict";e.exports=require("node:os")},48630:(e,t,r)=>{"use strict";let n=r(72153),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}let a=(e,t,r)=>{let n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},s=e=>i.includes(e),l=(e,t)=>new Promise((r,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};let l=n.operation(t);l.attempt(async n=>{try{r(await e(n))}catch(e){if(!(e instanceof Error)){i(TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));return}if(e instanceof o)l.stop(),i(e.originalError);else if(e instanceof TypeError&&!s(e.message))l.stop(),i(e);else{a(e,n,t);try{await t.onFailedAttempt(e)}catch(e){i(e);return}l.retry(e)||i(l.mainError())}}})});e.exports=l,e.exports.default=l,e.exports.AbortError=o},48918:e=>{e.exports=i;var t=128,r=-128,n=0x80000000;function i(e,o,a){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw i.bytes=0,RangeError("Could not encode varint");o=o||[];for(var s=a=a||0;e>=n;)o[a++]=255&e|t,e/=128;for(;e&r;)o[a++]=255&e|t,e>>>=7;return o[a]=0|e,i.bytes=a-s+1,o}},49567:(e,t,r)=>{"use strict";e.exports=o;var n=r(38150);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(32221);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},50695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>sG,routeModule:()=>sW,serverHooks:()=>sV,workAsyncStorage:()=>s$,workUnitAsyncStorage:()=>sH});var n={};r.r(n),r.d(n,{code:()=>rM,decode:()=>rW,encode:()=>rq,name:()=>rF});var i={};r.r(i),r.d(i,{code:()=>nl,createLink:()=>na,createNode:()=>no,decode:()=>nc,encode:()=>nu,name:()=>ns,prepare:()=>nn,validate:()=>ni});var o={};r.r(o),r.d(o,{abortedError:()=>iq,notFoundError:()=>iM});var a={};r.r(a),r.d(a,{POST:()=>sM});var s=r(45002),l=r(89587),u=r(1202),c=r(24715),f=r(76036),h=r(18393);async function*d(e,t){let r=[];for await(let n of t)r.push(n),r.length===e&&(yield r,r=[]);r.length>0&&(yield r)}function*p(e,t){let r=[];for(let n of t)r.push(n),r.length===e&&(yield r,r=[]);r.length>0&&(yield r)}let y=Symbol("TIMEOUT"),m=e=>{let t;return[new Promise(r=>{t=setTimeout(()=>r(y),e)}),()=>{clearTimeout(t)}]};function b(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function g(){let e,t;return{promise:new Promise((r,n)=>{t=r,e=n}),reject:e,resolve:t}}function w(e,t){let r=b(t),n=[],i=[],o=!1,a=!1;function s(){for(;i.length>0&&n.length>0;){let e=i.shift(),{error:t,value:r}=n.shift();t?e.reject(t):e.resolve({done:!1,value:r})}for(;i.length>0&&a;){let{resolve:e}=i.shift();e({done:!0,value:void 0})}}async function l(){if(!a&&!o&&!(n.length>=e)){o=!0;try{let{done:e,value:t}=await r.next();e?a=!0:n.push({value:t})}catch(e){a=!0,n.push({error:e})}s(),o=!1,l()}}let u={next:async function(){if(n.length>0){let{error:e,value:t}=n.shift();if(e)throw e;return l(),{done:!1,value:t}}if(a)return{done:!0,value:void 0};let e=g();return i.push(e),l(),e.promise},[Symbol.asyncIterator]:()=>u};return u}function*_(e,t){let r;let n=[];try{for(let r of t)n.push(r),!(n.length<=e)&&(yield n.shift())}catch(e){r=e}for(let e of n)yield e;if(r)throw r}function v(e,t){return void 0===t?t=>v(e,t):0===e?t:t[Symbol.asyncIterator]?w(e,t):_(e,t)}async function*D(e,t){for await(let r of t)await e(r)&&(yield r)}async function*E(e,t){for await(let r of t)yield await e(r)}function S(e,t){return void 0===t?t=>E(e,t):E(e,t)}async function T(e){return new Promise(t=>{e.once("readable",()=>{t()})})}function x(e,...t){let r=e();for(let e of t)r=e(r);return r}async function*A(e,t,r){let n=null,i=e=>({value:t(e)}),o=async function*(e){for await(let t of e){if(n)return;yield t}},a=b(x(()=>r,v(1),o,S(i),v(e-1)));for(;;){let{value:e,done:t}=await a.next();if(t)break;try{let t=await e.value;n||(yield t)}catch(e){n=e}}if(n)throw n}let k=e=>new Promise(t=>setTimeout(t,e));function C(e,t){let r=e[0]+t[0],n=e[1]+t[1];if(n>=1e9){let e=n%1e9;r+=(n-e)/1e9,n=e}return[r,n]}function I(e,t,r){let n=b(r),i=[],o=[],a=!1,s=!1,l=0,u=null;function c(){for(;o.length>0&&i.length>0;){let{resolve:e}=o.shift();e({done:!1,value:i.shift()})}for(;o.length>0&&0===l&&a;){let{resolve:e,reject:t}=o.shift();u?(t(u),u=null):e({done:!0,value:void 0})}}async function f(){if(a){c();return}if(!s&&!(l+i.length>=e)){s=!0,l++;try{let{done:e,value:t}=await n.next();e?(a=!0,l--,c()):h(t)}catch(e){a=!0,l--,u=e,c()}s=!1,f()}}async function h(e){try{let r=await t(e);i.push(r)}catch(e){a=!0,u=e}l--,c(),f()}let d={next:async function(){if(0===i.length){let e=g();return o.push(e),f(),e.promise}let e=i.shift();return f(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>d};return d}function P(e,t,r){return void 0===t?(t,r)=>r?P(e,t,r):P(e,t):void 0===r?r=>P(e,t,r):I(e,t,r)}var R=r(48630),O=r(29021),j=r(28354),L=r(87622),N=r(94995),B=r(59226);let U=["string","number","bigint","symbol"],z=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function F(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;if(U.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(M(e))return"Buffer";let r=q(e);return r||"Object"}function M(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function q(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(z.includes(t))return t}class W{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:+(this.major>e.major)}}W.uint=new W(0,"uint",!0),W.negint=new W(1,"negint",!0),W.bytes=new W(2,"bytes",!0),W.string=new W(3,"string",!0),W.array=new W(4,"array",!1),W.map=new W(5,"map",!1),W.tag=new W(6,"tag",!1),W.float=new W(7,"float",!0),W.false=new W(7,"false",!0),W.true=new W(7,"true",!0),W.null=new W(7,"null",!0),W.undefined=new W(7,"undefined",!0),W.break=new W(7,"break",!0);class ${constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let H=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,V=new TextDecoder,G=new TextEncoder;function Y(e){return H&&globalThis.Buffer.isBuffer(e)}function K(e){return e instanceof Uint8Array?Y(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}let J=H?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):ei(e,t,r):(e,t,r)=>r-t>64?V.decode(e.subarray(t,r)):ei(e,t,r),Q=H?e=>e.length>64?globalThis.Buffer.from(e):en(e):e=>e.length>64?G.encode(e):en(e),X=e=>Uint8Array.from(e),Z=H?(e,t,r)=>Y(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),ee=H?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),K(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},et=H?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function er(e,t){if(Y(e)&&Y(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function en(e,t=1/0){let r;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function ei(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=r){let r,n,s,l;switch(a){case 1:i<128&&(o=i);break;case 2:(192&(r=e[t+1]))==128&&(l=(31&i)<<6|63&r)>127&&(o=l);break;case 3:r=e[t+1],n=e[t+2],(192&r)==128&&(192&n)==128&&(l=(15&i)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[t+1],n=e[t+2],s=e[t+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=a}return ea(n)}let eo=4096;function ea(e){let t=e.length;if(t<=eo)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=eo));return r}let es=256;class el{constructor(e=es){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=et(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Z(r,0,this.cursor)}else t=ee(this.chunks,this.cursor);return e&&this.reset(),t}}let eu="CBOR decode error:",ec="CBOR encode error:",ef=[];function eh(e,t,r){if(e.length-t<r)throw Error(`${eu} not enough data for type`)}ef[23]=1,ef[24]=2,ef[25]=3,ef[26]=5,ef[27]=9;let ed=[24,256,65536,0x100000000,BigInt("18446744073709551616")];function ep(e,t,r){eh(e,t,1);let n=e[t];if(!0===r.strict&&n<ed[0])throw Error(`${eu} integer encoded in more bytes than necessary (strict decode)`);return n}function ey(e,t,r){eh(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<ed[1])throw Error(`${eu} integer encoded in more bytes than necessary (strict decode)`);return n}function em(e,t,r){eh(e,t,4);let n=0x1000000*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<ed[2])throw Error(`${eu} integer encoded in more bytes than necessary (strict decode)`);return n}function eb(e,t,r){eh(e,t,8);let n=0x1000000*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=0x1000000*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<ed[3])throw Error(`${eu} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw Error(`${eu} integers outside of the safe integer range are not supported`)}function eg(e,t,r,n){return new $(W.uint,ep(e,t+1,n),2)}function ew(e,t,r,n){return new $(W.uint,ey(e,t+1,n),3)}function e_(e,t,r,n){return new $(W.uint,em(e,t+1,n),5)}function ev(e,t,r,n){return new $(W.uint,eb(e,t+1,n),9)}function eD(e,t){return eE(e,0,t.value)}function eE(e,t,r){if(r<ed[0]){let n=Number(r);e.push([t|n])}else if(r<ed[1]){let n=Number(r);e.push([24|t,n])}else if(r<ed[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<ed[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(n<ed[4]){let r=[27|t,0,0,0,0,0,0,0],i=Number(n&BigInt(0xffffffff)),o=Number(n>>BigInt(32)&BigInt(0xffffffff));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}else throw Error(`${eu} encountered BigInt larger than allowable range`)}}function eS(e,t,r,n){return new $(W.negint,-1-ep(e,t+1,n),2)}function eT(e,t,r,n){return new $(W.negint,-1-ey(e,t+1,n),3)}function ex(e,t,r,n){return new $(W.negint,-1-em(e,t+1,n),5)}eD.encodedSize=function(e){return eE.encodedSize(e.value)},eE.encodedSize=function(e){return e<ed[0]?1:e<ed[1]?2:e<ed[2]?3:e<ed[3]?5:9},eD.compareTokens=function(e,t){return e.value<t.value?-1:+(e.value>t.value)};let eA=BigInt(-1),ek=BigInt(1);function eC(e,t,r,n){let i=eb(e,t+1,n);if("bigint"!=typeof i){let e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new $(W.negint,e,9)}if(!0!==n.allowBigInt)throw Error(`${eu} integers outside of the safe integer range are not supported`);return new $(W.negint,eA-BigInt(i),9)}function eI(e,t){let r=t.value,n="bigint"==typeof r?r*eA-ek:-1*r-1;eE(e,t.type.majorEncoded,n)}function eP(e,t,r,n){eh(e,t,r+n);let i=Z(e,t+r,t+r+n);return new $(W.bytes,i,r+n)}function eR(e,t,r,n){return eP(e,t,1,r)}function eO(e,t,r,n){return eP(e,t,2,ep(e,t+1,n))}function ej(e,t,r,n){return eP(e,t,3,ey(e,t+1,n))}function eL(e,t,r,n){return eP(e,t,5,em(e,t+1,n))}function eN(e,t,r,n){let i=eb(e,t+1,n);if("bigint"==typeof i)throw Error(`${eu} 64-bit integer bytes lengths not supported`);return eP(e,t,9,i)}function eB(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===W.string?Q(e.value):e.value),e.encodedBytes}function eU(e,t){let r=eB(t);eE(e,t.type.majorEncoded,r.length),e.push(r)}function ez(e,t){return e.length<t.length?-1:e.length>t.length?1:er(e,t)}function eF(e,t,r,n,i){let o=r+n;eh(e,t,o);let a=new $(W.string,J(e,t+r,t+o),o);return!0===i.retainStringBytes&&(a.byteValue=Z(e,t+r,t+o)),a}function eM(e,t,r,n){return eF(e,t,1,r,n)}function eq(e,t,r,n){return eF(e,t,2,ep(e,t+1,n),n)}function eW(e,t,r,n){return eF(e,t,3,ey(e,t+1,n),n)}function e$(e,t,r,n){return eF(e,t,5,em(e,t+1,n),n)}function eH(e,t,r,n){let i=eb(e,t+1,n);if("bigint"==typeof i)throw Error(`${eu} 64-bit integer string lengths not supported`);return eF(e,t,9,i,n)}eI.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*eA-ek:-1*t-1;return r<ed[0]?1:r<ed[1]?2:r<ed[2]?3:r<ed[3]?5:9},eI.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},eU.encodedSize=function(e){let t=eB(e);return eE.encodedSize(t.length)+t.length},eU.compareTokens=function(e,t){return ez(eB(e),eB(t))};let eV=eU;function eG(e,t,r,n){return new $(W.array,n,r)}function eY(e,t,r,n){return eG(e,t,1,r)}function eK(e,t,r,n){return eG(e,t,2,ep(e,t+1,n))}function eJ(e,t,r,n){return eG(e,t,3,ey(e,t+1,n))}function eQ(e,t,r,n){return eG(e,t,5,em(e,t+1,n))}function eX(e,t,r,n){let i=eb(e,t+1,n);if("bigint"==typeof i)throw Error(`${eu} 64-bit integer array lengths not supported`);return eG(e,t,9,i)}function eZ(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${eu} indefinite length items not allowed`);return eG(e,t,1,1/0)}function e0(e,t){eE(e,W.array.majorEncoded,t.value)}function e1(e,t,r,n){return new $(W.map,n,r)}function e2(e,t,r,n){return e1(e,t,1,r)}function e8(e,t,r,n){return e1(e,t,2,ep(e,t+1,n))}function e3(e,t,r,n){return e1(e,t,3,ey(e,t+1,n))}function e6(e,t,r,n){return e1(e,t,5,em(e,t+1,n))}function e5(e,t,r,n){let i=eb(e,t+1,n);if("bigint"==typeof i)throw Error(`${eu} 64-bit integer map lengths not supported`);return e1(e,t,9,i)}function e4(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${eu} indefinite length items not allowed`);return e1(e,t,1,1/0)}function e7(e,t){eE(e,W.map.majorEncoded,t.value)}function e9(e,t,r,n){return new $(W.tag,r,1)}function te(e,t,r,n){return new $(W.tag,ep(e,t+1,n),2)}function tt(e,t,r,n){return new $(W.tag,ey(e,t+1,n),3)}function tr(e,t,r,n){return new $(W.tag,em(e,t+1,n),5)}function tn(e,t,r,n){return new $(W.tag,eb(e,t+1,n),9)}function ti(e,t){eE(e,W.tag.majorEncoded,t.value)}e0.compareTokens=eD.compareTokens,e0.encodedSize=function(e){return eE.encodedSize(e.value)},e7.compareTokens=eD.compareTokens,e7.encodedSize=function(e){return eE.encodedSize(e.value)},ti.compareTokens=eD.compareTokens,ti.encodedSize=function(e){return eE.encodedSize(e.value)};let to=20,ta=21,ts=22,tl=23;function tu(e,t,r,n){if(!1===n.allowUndefined)throw Error(`${eu} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new $(W.null,null,1):new $(W.undefined,void 0,1)}function tc(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${eu} indefinite length items not allowed`);return new $(W.break,void 0,1)}function tf(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw Error(`${eu} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw Error(`${eu} Infinity values are not supported`)}return new $(W.float,e,t)}function th(e,t,r,n){return tf(t_(e,t+1),3,n)}function td(e,t,r,n){return tf(tD(e,t+1),5,n)}function tp(e,t,r,n){return tf(tS(e,t+1),9,n)}function ty(e,t,r){let n=t.value;if(!1===n)e.push([W.float.majorEncoded|to]);else if(!0===n)e.push([W.float.majorEncoded|ta]);else if(null===n)e.push([W.float.majorEncoded|ts]);else if(void 0===n)e.push([W.float.majorEncoded|tl]);else{let t;let i=!1;r&&!0===r.float64||(tw(n),n===(t=t_(tg,1))||Number.isNaN(n)?(tg[0]=249,e.push(tg.slice(0,3)),i=!0):(tv(n),n!==(t=tD(tg,1))||(tg[0]=250,e.push(tg.slice(0,5)),i=!0))),i||(tE(n),t=tS(tg,1),tg[0]=251,e.push(tg.slice(0,9)))}}ty.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){tw(r);let e=t_(tg,1);if(r===e||Number.isNaN(r))return 3;if(tv(r),r===(e=tD(tg,1)))return 5}return 9};let tm=new ArrayBuffer(9),tb=new DataView(tm,1),tg=new Uint8Array(tm,0);function tw(e){if(e===1/0)tb.setUint16(0,31744,!1);else if(e===-1/0)tb.setUint16(0,64512,!1);else if(Number.isNaN(e))tb.setUint16(0,32256,!1);else{tb.setFloat32(0,e);let t=tb.getUint32(0),r=(0x7f800000&t)>>23,n=8388607&t;if(255===r)tb.setUint16(0,31744,!1);else if(0===r)tb.setUint16(0,(0x80000000&e)>>16|n>>13,!1);else{let e=r-127;e<-24?tb.setUint16(0,0):e<-14?tb.setUint16(0,(0x80000000&t)>>16|1<<24+e,!1):tb.setUint16(0,(0x80000000&t)>>16|e+15<<10|n>>13,!1)}}}function t_(e,t){let r;if(e.length-t<2)throw Error(`${eu} not enough data for float16`);let n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;let i=n>>10&31,o=1023&n;return r=0===i?5960464477539063e-23*o:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-r:r}function tv(e){tb.setFloat32(0,e,!1)}function tD(e,t){if(e.length-t<4)throw Error(`${eu} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function tE(e){tb.setFloat64(0,e,!1)}function tS(e,t){if(e.length-t<8)throw Error(`${eu} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function tT(e,t,r){throw Error(`${eu} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function tx(e){return()=>{throw Error(`${eu} ${e}`)}}ty.compareTokens=eD.compareTokens;let tA=[];for(let e=0;e<=23;e++)tA[e]=tT;tA[24]=eg,tA[25]=ew,tA[26]=e_,tA[27]=ev,tA[28]=tT,tA[29]=tT,tA[30]=tT,tA[31]=tT;for(let e=32;e<=55;e++)tA[e]=tT;tA[56]=eS,tA[57]=eT,tA[58]=ex,tA[59]=eC,tA[60]=tT,tA[61]=tT,tA[62]=tT,tA[63]=tT;for(let e=64;e<=87;e++)tA[e]=eR;tA[88]=eO,tA[89]=ej,tA[90]=eL,tA[91]=eN,tA[92]=tT,tA[93]=tT,tA[94]=tT,tA[95]=tx("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)tA[e]=eM;tA[120]=eq,tA[121]=eW,tA[122]=e$,tA[123]=eH,tA[124]=tT,tA[125]=tT,tA[126]=tT,tA[127]=tx("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)tA[e]=eY;tA[152]=eK,tA[153]=eJ,tA[154]=eQ,tA[155]=eX,tA[156]=tT,tA[157]=tT,tA[158]=tT,tA[159]=eZ;for(let e=160;e<=183;e++)tA[e]=e2;tA[184]=e8,tA[185]=e3,tA[186]=e6,tA[187]=e5,tA[188]=tT,tA[189]=tT,tA[190]=tT,tA[191]=e4;for(let e=192;e<=215;e++)tA[e]=e9;tA[216]=te,tA[217]=tt,tA[218]=tr,tA[219]=tn,tA[220]=tT,tA[221]=tT,tA[222]=tT,tA[223]=tT;for(let e=224;e<=243;e++)tA[e]=tx("simple values are not supported");tA[244]=tT,tA[245]=tT,tA[246]=tT,tA[247]=tu,tA[248]=tx("simple values are not supported"),tA[249]=th,tA[250]=td,tA[251]=tp,tA[252]=tT,tA[253]=tT,tA[254]=tT,tA[255]=tc;let tk=[];for(let e=0;e<24;e++)tk[e]=new $(W.uint,e,1);for(let e=-1;e>=-24;e--)tk[31-e]=new $(W.negint,e,1);tk[64]=new $(W.bytes,new Uint8Array(0),1),tk[96]=new $(W.string,"",1),tk[128]=new $(W.array,0,1),tk[160]=new $(W.map,0,1),tk[244]=new $(W.false,!1,1),tk[245]=new $(W.true,!0,1),tk[246]=new $(W.null,null,1);let tC={float64:!1,mapSorter:tB,quickEncodeToken:function(e){switch(e.type){case W.false:return X([244]);case W.true:return X([245]);case W.null:return X([246]);case W.bytes:if(!e.value.length)return X([64]);return;case W.string:if(""===e.value)return X([96]);return;case W.array:if(0===e.value)return X([128]);return;case W.map:if(0===e.value)return X([160]);return;case W.uint:if(e.value<24)return X([Number(e.value)]);return;case W.negint:if(e.value>=-24)return X([31-Number(e.value)])}}},tI=function(){let e=[];return e[W.uint.major]=eD,e[W.negint.major]=eI,e[W.bytes.major]=eU,e[W.string.major]=eV,e[W.array.major]=e0,e[W.map.major]=e7,e[W.tag.major]=ti,e[W.float.major]=ty,e}(),tP=new el;class tR{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw Error(`${ec} object contains circular references`);return new tR(t,e)}}let tO={null:new $(W.null,null),undefined:new $(W.undefined,void 0),true:new $(W.true,!0),false:new $(W.false,!1),emptyArray:new $(W.array,0),emptyMap:new $(W.map,0)},tj={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new $(W.uint,e):new $(W.negint,e):new $(W.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new $(W.uint,e):new $(W.negint,e),Uint8Array:(e,t,r,n)=>new $(W.bytes,e),string:(e,t,r,n)=>new $(W.string,e),boolean:(e,t,r,n)=>e?tO.true:tO.false,null:(e,t,r,n)=>tO.null,undefined:(e,t,r,n)=>tO.undefined,ArrayBuffer:(e,t,r,n)=>new $(W.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new $(W.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[tO.emptyArray,new $(W.break)]:tO.emptyArray;n=tR.createCheck(n,e);let i=[],o=0;for(let t of e)i[o++]=tL(t,r,n);return r.addBreakTokens?[new $(W.array,e.length),i,new $(W.break)]:[new $(W.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),a=i?e.size:o.length;if(!a)return!0===r.addBreakTokens?[tO.emptyMap,new $(W.break)]:tO.emptyMap;n=tR.createCheck(n,e);let s=[],l=0;for(let t of o)s[l++]=[tL(t,r,n),tL(i?e.get(t):e[t],r,n)];return(tN(s,r),r.addBreakTokens)?[new $(W.map,a),s,new $(W.break)]:[new $(W.map,a),s]}};for(let e of(tj.Map=tj.Object,tj.Buffer=tj.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))tj[`${e}Array`]=tj.DataView;function tL(e,t={},r){let n=F(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||tj[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let o=tj[n];if(!o)throw Error(`${ec} unsupported type: ${n}`);return o(e,n,t,r)}function tN(e,t){t.mapSorter&&e.sort(t.mapSorter)}function tB(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=tI[r.type.major].compareTokens(r,n);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function tU(e,t,r,n){if(Array.isArray(t))for(let i of t)tU(e,i,r,n);else r[t.type.major](e,t,n)}function tz(e,t,r){let n=tL(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let i=t[n.type.major];if(i.encodedSize){let e=new el(i.encodedSize(n,r));if(i(e,n,r),1!==e.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return K(e.chunks[0])}}return tP.reset(),tU(tP,n,t,r),tP.toBytes(!0)}function tF(e,t){return tz(e,tI,t=Object.assign({},tC,t))}let tM={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class tq{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=tk[e];if(void 0===t){let r=tA[e];if(!r)throw Error(`${eu} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}let tW=Symbol.for("DONE"),t$=Symbol.for("BREAK");function tH(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=tG(t,r);if(o===t$){if(e.value===1/0)break;throw Error(`${eu} got unexpected break to lengthed array`)}if(o===tW)throw Error(`${eu} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function tV(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=tG(t,r);if(s===t$){if(e.value===1/0)break;throw Error(`${eu} got unexpected break to lengthed map`)}if(s===tW)throw Error(`${eu} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof s)throw Error(`${eu} non-string keys not supported (got ${typeof s})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(s)||!n&&s in i))throw Error(`${eu} found repeat map key "${s}"`);let l=tG(t,r);if(l===tW)throw Error(`${eu} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?o.set(s,l):i[s]=l}return n?o:i}function tG(e,t){if(e.done())return tW;let r=e.next();if(r.type===W.break)return t$;if(r.type.terminal)return r.value;if(r.type===W.array)return tH(r,e,t);if(r.type===W.map)return tV(r,e,t);if(r.type===W.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=tG(e,t);return t.tags[r.value](n)}throw Error(`${eu} tag not supported (${r.value})`)}throw Error("unsupported")}function tY(e,t){if(!(e instanceof Uint8Array))throw Error(`${eu} data to decode must be a Uint8Array`);let r=(t=Object.assign({},tM,t)).tokenizer||new tq(e,t),n=tG(r,t);if(n===tW)throw Error(`${eu} did not find any content to decode`);if(n===t$)throw Error(`${eu} got unexpected break`);if(!r.done())throw Error(`${eu} too many terminals, data makes no sense`);return n}let tK=42,tJ={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;let t=N.T.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new $(W.tag,tK),new $(W.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};function tQ(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return N.T.decode(e.subarray(1))}let tX={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};tX.tags[tK]=tQ;let tZ=e=>tF(e,tJ),t0=e=>tY(e,tX),t1={SHA2_256:18,LENGTH:32,DAG_PB:112};async function t2(e){let t=await e.upTo(8),r=L.decode(t);return e.seek(L.decode.bytes),r}async function t8(e){let t=await t2(e);if(0===t)throw Error("Invalid CAR header (zero length)");let r=await e.exactly(t);e.seek(t);let n=t0(r);if(null==n||Array.isArray(n)||"object"!=typeof n)throw Error("Invalid CAR header format");if(1!==n.version){if("string"==typeof n.version)throw Error(`Invalid CAR version: "${n.version}"`);throw Error(`Invalid CAR version: ${n.version}`)}if(!Array.isArray(n.roots)||Object.keys(n).filter(e=>"roots"!==e&&"version"!==e).length)throw Error("Invalid CAR header format");return n}async function t3(e){let t=await e.upTo(8);L.decode(t);let r=L.decode.bytes,n=L.decode(t.subarray(L.decode.bytes)),i=r+L.decode.bytes+n,o=await e.exactly(i);return e.seek(i),o}async function t6(e){let t=await e.exactly(2);if(t[0]===t1.SHA2_256&&t[1]===t1.LENGTH){let t=await e.exactly(34);e.seek(34);let r=B.D4(t);return N.T.create(0,t1.DAG_PB,r)}let r=await t2(e);if(1!==r)throw Error(`Unexpected CID version (${r})`);let n=await t2(e),i=await t3(e),o=B.D4(i);return N.T.create(r,n,o)}async function t5(e){let t=e.pos,r=await t2(e);if(0===r)throw Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=await t6(e),i=r-(e.pos-t);return{cid:n,length:r,blockLength:i}}async function t4(e){let{cid:t,blockLength:r}=await t5(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function t7(e){let t=e.pos,{cid:r,length:n,blockLength:i}=await t5(e),o={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function t9(e){let t=t8(e);return{header:()=>t,async *blocks(){for(await t;(await e.upTo(8)).length>0;)yield await t4(e)},async *blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await t7(e)}}}function re(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r){if(r>e.length-t)throw Error("Unexpected end of data");return e.subarray(t,t+r)},seek(e){t+=e},get pos(){return t}}}function rt(e){let t=0,r=0,n=0,i=new Uint8Array(0),o=async t=>{r=i.length-n;let o=[i.subarray(n)];for(;r<t;){let t=await e();if(null==t)break;r<0?t.length>r&&o.push(t.subarray(-r)):o.push(t),r+=t.length}i=new Uint8Array(o.reduce((e,t)=>e+t.length,0));let a=0;for(let e of o)i.set(e,a),a+=e.length;n=0};return{upTo:async e=>(i.length-n<e&&await o(e),i.subarray(n,n+Math.min(i.length-n,e))),async exactly(e){if(i.length-n<e&&await o(e),i.length-n<e)throw Error("Unexpected end of data");return i.subarray(n,n+e)},seek(e){t+=e,n+=e},get pos(){return t}}}function rr(e){let t=e[Symbol.asyncIterator]();return rt(async function(){let e=await t.next();return e.done?null:e.value})}class rn{constructor(e,t,r){this._version=e,this._roots=t,this._blocks=r,this._keys=r.map(e=>e.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){let t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async *blocks(){for(let e of this._blocks)yield e}async *cids(){for(let e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return ri(re(e))}static async fromIterable(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return ri(rr(e))}}async function ri(e){let t=t9(e),{version:r,roots:n}=await t.header(),i=[];for await(let e of t.blocks())i.push(e);return new rn(r,n,i)}let ro=(0,j.promisify)(O.read);class ra extends rn{static async readRaw(e,t){let r;let{cid:n,blockLength:i,blockOffset:o}=t,a=new Uint8Array(i);if("number"==typeof e)r=(await ro(e,a,0,i,o)).bytesRead;else if("object"==typeof e&&"function"==typeof e.read)r=(await e.read(a,0,i,o)).bytesRead;else throw TypeError("Bad fd");if(r!==i)throw Error(`Failed to read entire block (${r} instead of ${i})`);return{cid:n,bytes:a}}}class rs{constructor(e,t,r){this._version=e,this._roots=t,this._iterator=r}get version(){return this._version}async getRoots(){return this._roots}[Symbol.asyncIterator](){return this._iterator}static async fromBytes(e){if(!(e instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return rl(re(e))}static async fromIterable(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return rl(rr(e))}}async function rl(e){let t=t9(e),{version:r,roots:n}=await t.header();return new rs(r,n,t.blocksIndex())}class ru{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class rc extends ru{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await rh(e);return new rc(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await rd(e);return new rc(t,r,n)}}class rf extends ru{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");this._decoded=!0;let e=this._iterable[Symbol.asyncIterator]();return{async next(){let t=await e.next();return t.done?t:{done:!1,value:t.value.cid}}}}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await rh(e);return new rf(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await rd(e);return new rf(t,r,n)}}async function rh(e){if(!(e instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return rp(re(e))}async function rd(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return rp(rr(e))}async function rp(e){let t=t9(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}function ry(e){let t=tZ({version:1,roots:e}),r=L.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function rm(e){return{async setRoots(t){let r=ry(t);await e.write(r)},async writeBlock(t){let{cid:r,bytes:n}=t;await e.write(new Uint8Array(L.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},close:async()=>e.end()}}function rb(){}function rg(){let e=[],t=null,r=rb,n=!1,i=null,o=rb,a=()=>(t||(t=new Promise(e=>{r=()=>{t=null,r=rb,e()}})),t),s={write(t){e.push(t);let r=a();return o(),r},async end(){n=!0;let e=a();return o(),e}},l={async next(){let t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise(e=>{o=()=>(i=null,o=rb,e(l.next()))})),i)}};return{writer:s,iterator:l}}class rw{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw TypeError("Can only write {cid, bytes} objects");if(this._ended)throw Error("Already closed");let t=N.T.asCID(e.cid);if(!t)throw TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=rD(e);let{encoder:t,iterator:r}=rv();return{writer:new rw(e,t),out:new r_(r)}}static createAppender(){let{encoder:e,iterator:t}=rv();return e.setRoots=()=>Promise.resolve(),{writer:new rw([],e),out:new r_(t)}}static async updateRootsInBytes(e,t){let r=re(e);await t8(r);let n=ry(t);if(r.pos!==n.length)throw Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}}class r_{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function rv(){let{writer:e,iterator:t}=rg();return{encoder:rm(e),iterator:t}}function rD(e){if(void 0===e)return[];if(!Array.isArray(e)){let t=N.T.asCID(e);if(!t)throw TypeError("roots must be a single CID or an array of CIDs");return[t]}let t=[];for(let r of e){let e=N.T.asCID(r);if(!e)throw TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}let rE=(0,j.promisify)(O.read),rS=(0,j.promisify)(O.write);class rT extends rw{static async updateRootsInFile(e,t){let r,n;let i=256,o=0;if("number"==typeof e)n=async()=>(await rE(e,r,0,i,o)).bytesRead;else if("object"==typeof e&&"function"==typeof e.read)n=async()=>(await e.read(r,0,i,o)).bytesRead;else throw TypeError("Bad fd");let a=rt(async()=>{r=new Uint8Array(i);let e=await n();return o+=e,e<i?r.subarray(0,e):r});await t8(a);let s=ry(t);if(a.pos!==s.length)throw Error(`updateRoots() can only overwrite a header of the same length (old header is ${a.pos} bytes, new header is ${s.length} bytes)`);"number"==typeof e?await rS(e,s,0,s.length,0):"object"==typeof e&&"function"==typeof e.read&&await e.write(s,0,s.length,0)}}var rx=r(27910);class rA{constructor(e,t,r,n,i){this._version=e,this._path=t,this._roots=r,this._index=n,this._order=i,this._fd=null}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._index.has(e.toString())}async get(e){let t=this._index.get(e.toString());if(!t)return;this._fd||(this._fd=await fs.promises.open(this._path,"r"));let r={cid:e,length:0,offset:0,blockLength:t.blockLength,blockOffset:t.blockOffset};return NodeCarReader.readRaw(this._fd,r)}async *blocks(){for(let e of this._order){let t=await this.get(CID.parse(e));if(!t)throw Error("Unexpected internal error");yield t}}async *cids(){for(let e of this._order)yield CID.parse(e)}async close(){if(this._fd)return this._fd.close()}static async fromFile(e){if("string"!=typeof e)throw TypeError("fromFile() requires a file path string");let t=await CarIndexer.fromIterable(Readable.from(fs.createReadStream(e))),r=new Map,n=[];for await(let{cid:e,blockLength:i,blockOffset:o}of t){let t=e.toString();r.set(t,{blockLength:i,blockOffset:o}),n.push(t)}return new rA(t.version,e,await t.getRoots(),r,n)}}var rk=r(72659);let rC=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),rI=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let e=[...t,r];if(null!=n&&"object"==typeof n){if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t],i=rk.TO.asCID(r);i?yield[n.join("/"),i]:"object"==typeof r&&(yield*rI(r,n))}else{let t=rk.TO.asCID(n);t?yield[e.join("/"),t]:yield*rI(n,e)}}}},rP=function*(e,t){if(null!=e)for(let[r,n]of Object.entries(e)){let e=[...t,r];if(yield e.join("/"),null!=n&&!(n instanceof Uint8Array)&&"object"==typeof n&&!rk.TO.asCID(n)){if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t];yield n.join("/"),"object"!=typeof r||rk.TO.asCID(r)||(yield*rP(r,n))}else yield*rP(n,e)}}},rR=(e,t)=>{let r=e;for(let[e,n]of t.entries()){if(null==(r=r[n]))throw Error(`Object has no property at ${t.slice(0,e+1).map(e=>`[${JSON.stringify(e)}]`).join("")}`);let i=rk.TO.asCID(r);if(i)return{value:i,remaining:t.slice(e+1).join("/")}}return{value:r}};class rO{constructor({cid:e,bytes:t,value:r}){if(!e||!t||void 0===r)throw Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:rC(),bytes:rC(),value:rC(),asBlock:rC()})}links(){return rI(this.value,[])}tree(){return rP(this.value,[])}get(e="/"){return rR(this.value,e.split("/").filter(Boolean))}}let rj=async({value:e,codec:t,hasher:r})=>{if(void 0===e)throw Error('Missing required argument "value"');if(!t||!r)throw Error("Missing required argument: codec or hasher");let n=t.encode(e),i=await r.digest(n);return new rO({value:e,bytes:n,cid:rk.TO.create(1,t.code,i)})};var rL=r(69793);let rN=42,rB={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;let t=N.T.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new $(W.tag,rN),new $(W.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};function rU(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return N.T.decode(e.subarray(1))}let rz={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};rz.tags[rN]=rU;let rF="dag-cbor",rM=113,rq=e=>tF(e,rB),rW=e=>tY(e,rz),r$=new TextDecoder;function rH(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw Error("protobuf: varint overflow");if(t>=e.length)throw Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function rV(e,t){let r;[r,t]=rH(e,t);let n=t+r;if(r<0||n<0)throw Error("protobuf: invalid length");if(n>e.length)throw Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function rG(e,t){let r;return[r,t]=rH(e,t),[7&r,r>>3,t]}function rY(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=rG(e,n),1===i){if(t.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=rV(e,n)}else if(2===i){let i;if(void 0!==t.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[i,n]=rV(e,n),t.Name=r$.decode(i)}else if(3===i){if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=rH(e,n)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw Error("protobuf: (PBLink) unexpected end of data");return t}function rK(e){let t,r;let n=e.length,i=0,o=!1;for(;i<n;){let n,a;if([n,a,i]=rG(e,i),2!==n)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===a){if(r)throw Error("protobuf: (PBNode) duplicate Data section");[r,i]=rV(e,i),t&&(o=!0)}else if(2===a){let r;if(o)throw Error("protobuf: (PBNode) duplicate Links section");t||(t=[]),[r,i]=rV(e,i),t.push(rY(r))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(i>n)throw Error("protobuf: (PBNode) unexpected end of data");let a={};return r&&(a.Data=r),a.Links=t||[],a}let rJ=new TextEncoder,rQ=0x100000000,rX=0x80000000;function rZ(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw Error("Tsize too large for encoding");r=r8(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){let n=rJ.encode(e.Name);r-=n.length,t.set(n,r),r=r8(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=r8(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function r0(e){let t=r2(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=r8(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){let i=rZ(e.Links[t],r.subarray(0,n));n-=i,n=r8(r,n,i)-1,r[n]=18}return r}function r1(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+r3(r)}if("string"==typeof e.Name){let r=rJ.encode(e.Name).length;t+=1+r+r3(r)}return"number"==typeof e.Tsize&&(t+=1+r3(e.Tsize)),t}function r2(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+r3(r)}if(e.Links)for(let r of e.Links){let e=r1(r);t+=1+e+r3(e)}return t}function r8(e,t,r){let n=t-=r3(r);for(;r>=rX;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function r3(e){return e%2==0&&e++,Math.floor((r6(e)+6)/7)}function r6(e){let t=0;return e>=rQ&&(e=Math.floor(e/rQ),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+r5[e]}let r5=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],r4=["Data","Links"],r7=["Hash","Name","Tsize"],r9=new TextEncoder;function ne(e,t){if(e===t)return 0;let r=e.Name?r9.encode(e.Name):[],n=t.Name?r9.encode(t.Name):[],i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:+(o<i)}function nt(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function nr(e){if("object"==typeof e.asCID){let t=N.T.asCID(e);if(!t)throw TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=N.T.asCID(e.Hash);try{!r&&("string"==typeof e.Hash?r=N.T.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=N.T.decode(e.Hash)))}catch(e){throw TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function nn(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data){if("string"==typeof e.Data)t.Data=r9.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==e.Links){if(Array.isArray(e.Links))t.Links=e.Links.map(nr),t.Links.sort(ne);else throw TypeError("Invalid DAG-PB form")}else t.Links=[];return t}function ni(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");if(!nt(e,r4))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r))throw TypeError("Invalid DAG-PB form (bad link object)");if(!nt(r,r7))throw TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===ne(r,e.Links[t-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function no(e,t=[]){return nn({Data:e,Links:t})}function na(e,t,r){return nr({Hash:r,Name:e,Tsize:t})}let ns="dag-pb",nl=112;function nu(e){ni(e);let t={};return e.Links&&(t.Links=e.Links.map(e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),r0(t)}function nc(e){let t=rK(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(e=>{let t={};try{t.Hash=N.T.decode(e.Hash)}catch(e){}if(!t.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),r}class nf{constructor(e,t,r={}){if("number"!=typeof t||t<=0)throw Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[i,rL,n,...r.decoders||[]]}async *cars(){let e;let t=await this._reader.getRoots();if(1!==t.length)throw Error(`unexpected number of roots: ${t.length}`);for await(let r of this._cars(t[0]))e=r.channel,r.out&&(yield r.out);if(!e)throw Error("missing CAR writer channel");e.writer.close(),yield e.out}async _get(e){let t=await this._reader.get(e);if(!t)throw Error(`missing block for ${e}`);let{bytes:r}=t,n=this._decoders.find(t=>t.code===e.code);if(!n)throw Error(`missing decoder for ${e.code}`);return new rO({cid:e,bytes:r,value:n.decode(r)})}async *_cars(e,t=[],r){let n=await this._get(e);if((r=r||Object.assign(rT.create(e),{size:0})).size>0&&r.size+n.bytes.byteLength>=this._targetSize){r.writer.close();let{out:e}=r;r=nh(t),yield{channel:r,out:e}}for(let[,e]of(t=t.concat(n),r.size+=n.bytes.byteLength,r.writer.put(n),n.links()))for await(let n of this._cars(e,t,r))r=n.channel,yield n;if(!r)throw Error("missing CAR writer channel");yield{channel:r}}static async fromIterable(e,t,r){return new nf(await ra.fromIterable(e),t,r)}static async fromBlob(e,t,r){let n=await e.arrayBuffer();return new nf(await ra.fromBytes(new Uint8Array(n)),t,r)}}function nh(e){let t=Object.assign(rT.create(e[0].cid),{size:e.reduce((e,t)=>e+t.bytes.byteLength,0)});for(let r of e)t.writer.put(r);return t}var nd=r(97151),np=r(73e3),ny=r(36613);let nm=r(31737);var nb=r(49786),ng=r(55589),nw=r(8479);function n_(e){let t=[,,,,];for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(0,ng.H)({name:"murmur3-32",code:35,encode:e=>n_(nw.x86.hash32(e))});let nv=(0,ng.H)({name:"murmur3-128",code:34,encode:e=>rk.ee.fromHex(nw.x64.hash128(e))});async function nD(e){return(await nv.encode(e)).slice(0,8).reverse()}let nE={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:nb.sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:nD,hamtHashCode:34,hamtBucketBits:8},nS=(e={})=>nm.bind({ignoreUndefined:!0})(nE,e);var nT=r(26678),nx=r(77039);let nA=nx.Reader,nk=nx.Writer,nC=nx.util,nI=nx.roots["ipfs-unixfs"]||(nx.roots["ipfs-unixfs"]={}),nP=nI.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=nC.newBuffer([]),e.prototype.filesize=nC.Long?nC.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=nC.emptyArray,e.prototype.hashType=nC.Long?nC.Long.fromBits(0,0,!0):0,e.prototype.fanout=nC.Long?nC.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=nk.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&nI.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof nA||(e=nA.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new nI.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(7&i)==2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=nI.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw nC.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof nI.Data)return e;var t=new nI.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?nC.base64.decode(e.Data,t.Data=nC.newBuffer(nC.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(nC.Long?(t.filesize=nC.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new nC.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)nC.Long?(t.blocksizes[r]=nC.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new nC.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(nC.Long?(t.hashType=nC.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new nC.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(nC.Long?(t.fanout=nC.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new nC.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=nI.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=nC.newBuffer(r.Data))),nC.Long){var n=new nC.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(nC.Long){var n=new nC.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(nC.Long){var n=new nC.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?nI.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?nC.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?nC.Long.prototype.toString.call(e.filesize):t.longs===Number?new nC.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?nC.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new nC.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?nC.Long.prototype.toString.call(e.hashType):t.longs===Number?new nC.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?nC.Long.prototype.toString.call(e.fanout):t.longs===Number?new nC.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=nI.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,nx.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})();nI.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=nC.Long?nC.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=nk.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof nA||(e=nA.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new nI.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw nC.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof nI.UnixTime)return e;var t=new nI.UnixTime;return null!=e.Seconds&&(nC.Long?(t.Seconds=nC.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new nC.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(nC.Long){var n=new nC.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?nC.Long.prototype.toString.call(e.Seconds):t.longs===Number?new nC.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,nx.util.toJSONOptions)},e})(),nI.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=nk.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof nA||(e=nA.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new nI.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof nI.Metadata)return e;var t=new nI.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,nx.util.toJSONOptions)},e})();let nR=nP,nO=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],nj=["directory","hamt-sharded-directory"],nL=parseInt("0644",8),nN=parseInt("0755",8);function nB(e){return null==e?void 0:"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function nU(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>0x3b9ac9ff))throw nT(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}class nz{static unmarshal(e){let t=nR.decode(e),r=nR.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new nz({type:nO[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return n._originalMode=r.mode||0,n}constructor(e={type:"file"}){let{type:t,data:r,blockSizes:n,hashType:i,fanout:o,mtime:a,mode:s}=e;if(t&&!nO.includes(t))throw nT(Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=r,this.hashType=i,this.fanout=o,this.blockSizes=n||[],this._originalMode=0,this.mode=nB(s),a&&(this.mtime=nU(a),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?nN:nL;let t=nB(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return!!(this.type&&nj.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e,t,r;switch(this.type){case"raw":e=nR.DataType.Raw;break;case"directory":e=nR.DataType.Directory;break;case"file":e=nR.DataType.File;break;case"metadata":e=nR.DataType.Metadata;break;case"symlink":e=nR.DataType.Symlink;break;case"hamt-sharded-directory":e=nR.DataType.HAMTShard;break;default:throw nT(Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&((t=0xfffff000&this._originalMode|(nB(this.mode)||0))!==nL||this.isDirectory()||(t=void 0),t===nN&&this.isDirectory()&&(t=void 0)),null!=this.mtime){let e=nU(this.mtime);e&&0===(r={Seconds:e.secs,FractionalNanoseconds:e.nsecs}).FractionalNanoseconds&&delete r.FractionalNanoseconds}let i={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return nR.encode(i).finish()}}let nF=async(e,t,r)=>{r.codec||(r.codec=i),r.hasher||(r.hasher=nb.sha256),void 0===r.cidVersion&&(r.cidVersion=1),r.codec===i&&r.hasher!==nb.sha256&&(r.cidVersion=1);let n=await r.hasher.digest(e),o=N.T.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await t.put(o,e,{signal:r.signal}),o},nM=async(e,t,r)=>{let n=new nz({type:"directory",mtime:e.mtime,mode:e.mode}),i=nu(nn({Data:n.marshal()}));return{cid:await nF(i,t,r),path:e.path,unixfs:n,size:i.length}};var nq=r(48149);let nW=async function(e,t){return t(await nq(e))};var n$=r(37716);async function nH(e,t,r){let n=[];for await(let i of n$(e,r.maxChildrenPerNode))n.push(await t(i));return n.length>1?nH(n,t,r):n[0]}let nV=function(e,t,r){return nH(e,t,r)},nG=async function(e,t,r){let n=new nK(r.layerRepeat),i=0,o=1,a=n;for await(let s of n$(e,r.maxChildrenPerNode))a.isFull()&&(a!==n&&n.addChild(await a.reduce(t)),i&&i%r.layerRepeat==0&&o++,a=new nY(o,r.layerRepeat,i),i++),a.append(s);return a&&a!==n&&n.addChild(await a.reduce(t)),n.reduce(t)};class nY{constructor(e,t,r=0){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=r,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;let e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;let t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let r=[];return e.children.length&&(r=await Promise.all(e.children.filter(e=>e.data).map(e=>this._reduce(e,t)))),t((e.data||[]).concat(r))}_findParent(e,t){let r=e.parent;return r&&0!==r.depth?r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t):void 0}}class nK extends nY{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}let nJ=async function*(e,t,r){for await(let n of e.content)yield async()=>{let o;r.progress(n.length,e.path);let a={codec:i,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(a.codec=rL,a.cidVersion=1):n=nu({Data:(o=new nz({type:r.leafType,data:n})).marshal(),Links:[]}),{cid:await nF(n,t,a),unixfs:o,size:n.length}}},nQ={flat:nW,balanced:nV,trickle:nG};async function*nX(e,t,r){let n,i,o=-1;for await(let a of ny((i="function"==typeof r.bufferImporter?r.bufferImporter:nJ)(e,t,r),r.blockWriteConcurrency)){if(0==++o){n=a;continue}1===o&&n&&(yield n,n=null),yield a}n&&(n.single=!0,yield n)}let nZ=(e,t,r)=>async function(n){if(1===n.length&&n[0].single&&r.reduceSingleLeafToSelf){let o=n[0];if(void 0!==e.mtime||void 0!==e.mode){let n=await t.get(o.cid);o.unixfs=new nz({type:"file",mtime:e.mtime,mode:e.mode,data:n}),n=nu(nn({Data:o.unixfs.marshal()})),o.cid=await nF(n,t,{...r,codec:i,hasher:r.hasher,cidVersion:r.cidVersion}),o.size=n.length}return{cid:o.cid,path:e.path,unixfs:o.unixfs,size:o.size}}let o=new nz({type:"file",mtime:e.mtime,mode:e.mode}),a=n.filter(e=>!!(e.cid.code===rL.code&&e.size||e.unixfs&&!e.unixfs.data&&e.unixfs.fileSize())||!!(e.unixfs&&e.unixfs.data&&e.unixfs.data.length)).map(e=>(e.cid.code===rL.code?o.addBlockSize(e.size):e.unixfs&&e.unixfs.data?o.addBlockSize(e.unixfs.data.length):o.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})),s={Data:o.marshal(),Links:a},l=nu(nn(s));return{cid:await nF(l,t,r),path:e.path,unixfs:o,size:l.length+s.Links.reduce((e,t)=>e+t.Tsize,0)}},n0=function(e,t,r){let n=nQ[r.strategy];if(!n)throw nT(Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(nX(e,t,r),nZ(e,t,r),r)};var n1=r(75840),n2=r(57368);let n8=async function*(e,t){let r,n,i;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)i=t.avgChunkSize,r=t.minChunkSize,n=t.maxChunkSize;else if(t.avgChunkSize)r=(i=t.avgChunkSize)/3,n=i+i/2;else throw nT(Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(r<16)throw nT(Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");for await(let o of(n<r&&(n=r),i<r&&(i=r),n3(e,{min:r,max:n,bits:Math.floor(Math.log2(i)),window:t.window,polynomial:t.polynomial})))yield o};async function*n3(e,t){let r=await (0,n2.create)(t.bits,t.min,t.max,t.window),n=new n1;for await(let t of e){n.append(t);let e=r.fingerprint(t);for(let t=0;t<e.length;t++){let r=e[t],i=n.slice(0,r);n.consume(r),yield i}}n.length&&(yield n.slice(0))}let n6=async function*(e,t){let r=new n1,n=0,i=!1,o=t.maxChunkSize;for await(let t of e)for(r.append(t),n+=t.length;n>=o;)if(yield r.slice(0,o),i=!0,o===r.length)r=new n1,n=0;else{let e=new n1;e.append(r.shallowSlice(o)),r=e,n-=o}(!i||n)&&(yield r.slice(0,n))};var n5=r(23406);let n4=async function*(e){for await(let t of e){if(void 0===t.length)throw nT(Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield(0,n5.s)(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else if(t instanceof Uint8Array)yield t;else throw nT(Error("Content was invalid"),"ERR_INVALID_CONTENT")}};function n7(e){return Symbol.iterator in e}function n9(e){return Symbol.asyncIterator in e}function ie(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(n7(e))return async function*(){yield*e}();if(n9(e))return e}catch{}throw nT(Error("Content was invalid"),"ERR_INVALID_CONTENT")}let it=async function*(e,t,r){for await(let n of e)if(n.path&&("./"===n.path.substring(0,2)&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter(e=>e&&"."!==e).join("/")),n.content){let e,i;e="function"==typeof r.chunker?r.chunker:"rabin"===r.chunker?n8:n6,i="function"==typeof r.chunkValidator?r.chunkValidator:n4;let o={path:n.path,mtime:n.mtime,mode:n.mode,content:e(i(ie(n.content),r),r)};yield()=>n0(o,t,r)}else if(n.path){let e={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>nM(e,t,r)}else throw Error("Import candidate must have content or path or both")};class ir{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async *eachChildSeries(){}async *flush(e){}}let ii=ir;class io extends ii{constructor(e,t){super(e,t),this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async *eachChildSeries(){let e=Object.keys(this._children);for(let t=0;t<e.length;t++){let r=e[t];yield{key:r,child:this._children[r]}}}async *flush(e){let t=Object.keys(this._children),r=[];for(let n=0;n<t.length;n++){let i=this._children[t[n]];if(i instanceof ii)for await(let t of i.flush(e))i=t,yield i;null!=i.size&&i.cid&&r.push({Name:t[n],Tsize:i.size,Hash:i.cid})}let n=new nz({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:n.marshal(),Links:r},o=nu(nn(i)),a=await nF(o,e,this.options),s=o.length+i.Links.reduce((e,t)=>e+(null==t.Tsize?0:t.Tsize),0);this.cid=a,this.size=s,yield{cid:a,unixfs:n,path:this.path,size:s}}}let ia=io;var is=r(58028);class il extends ii{constructor(e,t){super(e,t),this._bucket=(0,is.createHAMT)({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async *eachChildSeries(){for await(let{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async *flush(e){for await(let t of ic(this._bucket,e,this,this.options))yield{...t,path:this.path}}}let iu=il;async function*ic(e,t,r,n){let i=e._children,o=[],a=0;for(let e=0;e<i.length;e++){let r=i.get(e);if(!r)continue;let s=e.toString(16).toUpperCase().padStart(2,"0");if(r instanceof is.Bucket){let e;for await(let i of(await ic(r,t,null,n)))e=i;if(!e)throw Error("Could not flush sharded directory, no subshard found");o.push({Name:s,Tsize:e.size,Hash:e.cid}),a+=e.size}else if("function"==typeof r.value.flush){let e;for await(let n of r.value.flush(t))e=n,yield e;let n=s+r.key;o.push({Name:n,Tsize:e.size,Hash:e.cid}),a+=e.size}else{let e=r.value;if(!e.cid)continue;let t=s+r.key,n=e.size;o.push({Name:t,Tsize:n,Hash:e.cid}),a+=n}}let s=new nz({type:"hamt-sharded-directory",data:Uint8Array.from(i.bitField().reverse()),fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),l=nu(nn({Data:s.marshal(),Links:o})),u=await nF(l,t,n),c=l.length+a;yield{cid:u,unixfs:s,size:c}}async function ih(e,t,r,n){let i=t;t instanceof ia&&t.directChildrenCount()>=r&&(i=await id(t,n));let o=i.parent;if(o){if(i!==t){if(e&&(e.parent=i),!i.parentKey)throw Error("No parent key found");await o.put(i.parentKey,i)}return ih(i,o,r,n)}return i}async function id(e,t){let r=new iu({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(let{key:t,child:n}of e.eachChildSeries())await r.put(t,n);return r}let ip=ih,iy=(e="")=>(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function im(e,t,r){let n=iy(e.path||""),i=n.length-1,o=t,a="";for(let s=0;s<n.length;s++){let l=n[s];a+=`${a?"/":""}${l}`;let u=s===i;if(o.dirty=!0,o.cid=void 0,o.size=void 0,u)await o.put(l,e),t=await ip(null,o,r.shardSplitThreshold,r);else{let e=await o.get(l);e&&e instanceof ii||(e=new ia({root:!1,dir:!0,parent:o,parentKey:l,path:a,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},r)),await o.put(l,e),o=e}}return t}async function*ib(e,t){if(!(e instanceof ii)){e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e);return}yield*e.flush(t)}let ig=async function*(e,t,r){let n=new ia({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(let t of e)t&&(n=await im(t,n,r),t.unixfs&&t.unixfs.isDirectory()||(yield t));if(r.wrapWithDirectory)yield*ib(n,t);else for await(let e of n.eachChildSeries())e&&(yield*ib(e.child,t))};async function*iw(e,t,r={}){let n,i;let o=nS(r);for await(let a of(n="function"==typeof r.dagBuilder?r.dagBuilder:it,("function"==typeof r.treeBuilder?r.treeBuilder:ig)(ny(n(i=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e],t,o),o.fileImportConcurrency),t,o)))yield{cid:a.cid,path:a.path,unixfs:a.unixfs,size:a.size}}var i_=r(82038),iv=r(76451),iD=r(30096),iE=r(27029);function iS(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function iT(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function ix(e){return"object"==typeof e&&(e.path||e.content)}let iA=e=>e&&"function"==typeof e.getReader;async function*ik(e){yield e}async function iC(e){if(iS(e))return ik(iI(e));if("string"==typeof e||e instanceof String)return ik(iI(e.toString()));if(iT(e))return iv(e);if(iA(e)&&(e=i_(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=iD(e),{value:r,done:n}=await t.peek();if(n)return ik(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return ik(Uint8Array.from(await nq(t)));if(iS(r)||"string"==typeof r||r instanceof String)return iE(t,iI)}throw nT(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function iI(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,n5.s)(e.toString())}async function*iP(e,t){if(null==e)throw nT(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof e||e instanceof String){yield iR(e.toString(),t);return}if(iS(e)||iT(e)){yield iR(e,t);return}if(iA(e)&&(e=i_(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=iD(e),{value:n,done:i}=await r.peek();if(i){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||iS(n)||"string"==typeof n||n instanceof String){yield iR(r,t);return}throw nT(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(ix(e)){yield iR(e,t);return}throw nT(Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function iR(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:nB(n),mtime:nU(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function iO(e){return iP(e,iC)}async function*ij(e,t){if("string"==typeof e||e instanceof String||iS(e)||iT(e)||e._readableState)throw nT(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(iA(e)&&(e=i_(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=iD(e),{value:n,done:i}=await r.peek();if(i){yield*[];return}if(r.push(n),Number.isInteger(n))throw nT(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*iE(r,e=>iL({content:e},t));return}if(iS(n)){yield iL({content:r},t);return}if(ix(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||iA(n)||iT(n)){yield*iE(r,e=>iL(e,t));return}}if(ix(e))throw nT(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw nT(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function iL(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:nB(n),mtime:nU(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function iN(e){return ij(e,iC)}function iB(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function iU(e){return!!e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function iz(e){return"string"==typeof e||e instanceof String||iB(e)||iU(e)||"_readableState"in e}function iF(e){return iz(e)?iO(e):iN(e)}function iM(e){return nT(e=e||Error("Not Found"),"ERR_NOT_FOUND")}function iq(e){return nT(e=e||Error("Aborted"),"ERR_ABORTED")}var iW=r(56760),i$=r(75434),iH=r(90233);let iV=(e,t)=>(async function*(){let r=await nq(e);yield*r.sort(t)})();class iG{open(){return Promise.reject(Error(".open is not implemented"))}close(){return Promise.reject(Error(".close is not implemented"))}put(e,t,r){return Promise.reject(Error(".put is not implemented"))}get(e,t){return Promise.reject(Error(".get is not implemented"))}has(e,t){return Promise.reject(Error(".has is not implemented"))}delete(e,t){return Promise.reject(Error(".delete is not implemented"))}async *putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async *getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async *deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:async r=>{await iW(this.putMany(e,r)),e=[],await iW(this.deleteMany(t,r)),t=[]}}}async *_all(e,t){throw Error("._all is not implemented")}async *_allKeys(e,t){throw Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(null!=e.prefix&&(r=i$(r,t=>t.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((e,t)=>i$(e,t),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((e,t)=>iV(e,t),r)),null!=e.offset){let t=0;r=i$(r,()=>t++>=(e.offset||0))}return null!=e.limit&&(r=iH(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(null!=e.prefix&&(r=i$(r,t=>t.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((e,t)=>i$(e,t),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((e,t)=>iV(e,t),r)),null!=e.offset){let t=0;r=i$(r,()=>t++>=e.offset)}return null!=e.limit&&(r=iH(r,e.limit)),r}}r(74740);class iY extends iG{constructor(){super(),this.store=new Map}async *blocks(){for(let[e,t]of this.store.entries())yield{cid:rk.TO.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){let t=this.store.get(e.toString());if(!t)throw Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}let iK={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:nb.sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function iJ({input:e,blockstore:t,hasher:r,maxChunkSize:n,maxChildrenPerNode:i,wrapWithDirectory:o,rawLeaves:a}){let s;if(!e||Array.isArray(e)&&!e.length)throw Error("missing input file(s)");let l=t||new iY,u=await nd(np(iF(e),e=>iw(e,l,{...iK,hasher:r||iK.hasher,maxChunkSize:n||iK.maxChunkSize,maxChildrenPerNode:i||iK.maxChildrenPerNode,wrapWithDirectory:!1!==o&&iK.wrapWithDirectory,rawLeaves:null==a?iK.rawLeaves:a})));if(!u||!u.cid)throw Error("given input could not be parsed correctly");let c=u.cid,{writer:f,out:h}=await rT.create([c]),d=h[Symbol.asyncIterator](),p=async()=>{for await(let e of l.blocks())await f.put(e);await f.close(),t||await l.close()};return{root:c,out:{[Symbol.asyncIterator](){if(null!=s)throw Error("Multiple iterator not supported");return s=p(),{async next(){let e=await d.next();return e.done&&await s,e}}}}}}var iQ=r(78681),iX=r(81630),iZ=r(55591),i0=r(74075);let i1={ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",dwd:"application/atsc-dwd+xml",held:"application/atsc-held+xml",rsat:"application/atsc-rsat+xml",bdoc:"application/bdoc",xcs:"application/calendar+xml",ccxml:"application/ccxml+xml",cdfx:"application/cdfx+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",mpd:"application/dash+xml",davmount:"application/davmount+xml",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",es:"application/ecmascript",ecma:"application/ecmascript",emma:"application/emma+xml",emotionml:"application/emotionml+xml",epub:"application/epub+zip",exi:"application/exi",fdt:"application/fdt+xml",pfr:"application/font-tdpfr",geojson:"application/geo+json",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",gz:"application/gzip",hjson:"application/hjson",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",its:"application/its+xml",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",mjs:"application/javascript",json:"application/json",map:"application/json",json5:"application/json5",jsonml:"application/jsonml+json",jsonld:"application/ld+json",lgr:"application/lgr+xml",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",webmanifest:"application/manifest+json",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",maei:"application/mmt-aei+xml",musd:"application/mmt-usd+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",m4p:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",nq:"application/n-quads",nt:"application/n-triples",cjs:"application/node",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",deb:"application/octet-stream",dmg:"application/octet-stream",iso:"application/octet-stream",img:"application/octet-stream",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",buffer:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",relo:"application/p2p-overlay+xml",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",provx:"application/provenance+xml",cww:"application/prs.cww",pskcxml:"application/pskc+xml",raml:"application/raml+yaml",rdf:"application/rdf+xml",owl:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",rapd:"application/route-apd+xml",sls:"application/route-s-tsid+xml",rusd:"application/route-usd+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",siv:"application/sieve",sieve:"application/sieve",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",swidtag:"application/swid+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",toml:"application/toml",trig:"application/trig",ttml:"application/ttml+xml",ubj:"application/ubjson",rsheet:"application/urc-ressheet+xml",td:"application/urc-targetdesc+xml",vxml:"application/voicexml+xml",wasm:"application/wasm",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",xaml:"application/xaml+xml",xav:"application/xcap-att+xml",xca:"application/xcap-caps+xml",xdf:"application/xcap-diff+xml",xel:"application/xcap-el+xml",xns:"application/xcap-ns+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xlf:"application/xliff+xml",xml:"application/xml",xsl:"application/xml",xsd:"application/xml",rng:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip","3gpp":"video/3gpp",adp:"audio/adpcm",amr:"audio/amr",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mxmf:"audio/mobile-xmf",mp3:"audio/mpeg",m4a:"audio/mp4",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",opus:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",wav:"audio/wav",weba:"audio/webm",xm:"audio/xm",ttc:"font/collection",otf:"font/otf",ttf:"font/ttf",woff:"font/woff",woff2:"font/woff2",exr:"image/aces",apng:"image/apng",avif:"image/avif",bmp:"image/bmp",cgm:"image/cgm",drle:"image/dicom-rle",emf:"image/emf",fits:"image/fits",g3:"image/g3fax",gif:"image/gif",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",hsj2:"image/hsj2",ief:"image/ief",jls:"image/jls",jp2:"image/jp2",jpg2:"image/jp2",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",jph:"image/jph",jhc:"image/jphc",jpm:"image/jpm",jpx:"image/jpx",jpf:"image/jpx",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",ktx:"image/ktx",ktx2:"image/ktx2",png:"image/png",btif:"image/prs.btif",pti:"image/prs.pti",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",t38:"image/t38",tif:"image/tiff",tiff:"image/tiff",tfx:"image/tiff-fx",webp:"image/webp",wmf:"image/wmf","disposition-notification":"message/disposition-notification",u8msg:"message/global",u8dsn:"message/global-delivery-status",u8mdn:"message/global-disposition-notification",u8hdr:"message/global-headers",eml:"message/rfc822",mime:"message/rfc822","3mf":"model/3mf",gltf:"model/gltf+json",glb:"model/gltf-binary",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",mtl:"model/mtl",obj:"model/obj",stpz:"model/step+zip",stpxz:"model/step-xml+zip",stl:"model/stl",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",manifest:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",coffee:"text/coffeescript",litcoffee:"text/coffeescript",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",shtml:"text/html",jade:"text/jade",jsx:"text/jsx",less:"text/less",markdown:"text/markdown",md:"text/markdown",mml:"text/mathml",mdx:"text/mdx",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",ini:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",shex:"text/shex",slim:"text/slim",slm:"text/slim",spdx:"text/spdx",stylus:"text/stylus",styl:"text/stylus",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",vtt:"text/vtt",yaml:"text/yaml",yml:"text/yaml","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",m4s:"video/iso.segment",jpgv:"video/jpeg",jpgm:"image/jpm",mj2:"video/mj2",mjp2:"video/mj2",ts:"video/mp2t",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",webm:"video/webm"};function i2(e){let t=(""+e).trim().toLowerCase(),r=t.lastIndexOf(".");return i1[~r?t.substring(++r):t]}var i8=r(88538),i3=r(79428);let i6=TextEncoder,i5=TextDecoder,{ReadableStream:i4,ReadableStreamDefaultReader:i7,ReadableStreamBYOBReader:i9,ReadableStreamBYOBRequest:oe,ReadableByteStreamController:ot,ReadableStreamDefaultController:or,TransformStream:on,TransformStreamDefaultController:oi,WritableStream:oo,WritableStreamDefaultWriter:oa,WritableStreamDefaultController:os,ByteLengthQueuingStrategy:ol,CountQueuingStrategy:ou,TextEncoderStream:oc,TextDecoderStream:of}=r(90097),oh=class e{constructor(e=[],t={}){let r=[],n=0;for(let t of e)if("string"==typeof t){let e=new i6().encode(t);r.push(e),n+=e.byteLength}else if(t instanceof oh)n+=t.size,r.push(...t._parts);else if(t instanceof ArrayBuffer)r.push(new Uint8Array(t)),n+=t.byteLength;else if(t instanceof Uint8Array)r.push(t),n+=t.byteLength;else if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:i,byteLength:o}=t;r.push(new Uint8Array(e,i,o)),n+=o}else{let e=new i6().encode(String(t));r.push(e),n+=e.byteLength}this._size=n,this._type=om(t.type),this._parts=r,Object.defineProperties(this,{_size:{enumerable:!1},_type:{enumerable:!1},_parts:{enumerable:!1}})}get type(){return this._type}get size(){return this._size}slice(t=0,r=this.size,n=""){let{size:i,_parts:o}=this,a=t<0?Math.max(i+t,0):Math.min(t,i),s=r<0?Math.max(i+r,0):Math.min(r,i),l=Math.max(s-a,0),u=new e([],{type:n});if(0===l)return u;let c=0,f=[];for(let e of o){let{byteLength:t}=e;if(a>0&&t<=a)a-=t,s-=t;else{let r=e.subarray(a,Math.min(t,s));if(f.push(r),c+=r.byteLength,a=0,c>=l)break}}return u._parts=f,u._size=c,u}async arrayBuffer(){let e=new ArrayBuffer(this.size),t=new Uint8Array(e),r=0;for(let e of this._parts)t.set(e,r),r+=e.byteLength;return e}async text(){let e=new i5,t="";for(let r of this._parts)t+=e.decode(r);return t}stream(){return new op(this._parts)}toString(){return"[object Blob]"}get[Symbol.toStringTag](){return"Blob"}},od=oh;class op extends i4{constructor(e){super(new oy(e.values()),{type:"bytes"}),this._chunks=e}async *[Symbol.asyncIterator](e){let t=this.getReader();yield*this._chunks,t.releaseLock()}}class oy{constructor(e){this.chunks=e}start(e){this.work(e),this.isWorking=!1,this.isCancelled=!1}async work(e){let{chunks:t}=this;for(this.isWorking=!0;!this.isCancelled&&(e.desiredSize||0)>0;){let r=null;try{r=t.next()}catch(t){e.error(t);break}r&&(r.done||this.isCancelled?e.close():e.enqueue(r.value))}this.isWorking=!1}pull(e){this.isWorking||this.work(e)}cancel(){this.isCancelled=!0}}let om=(e="")=>{let t=String(e).toLowerCase();return/[^\u0020-\u007E]/.test(t)?"":t},ob=globalThis.Blob||od;class og extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class ow extends og{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}var o_=r(55511);function ov(e){let t=unescape(encodeURIComponent(e));return Uint8Array.from(t,(e,r)=>t.charCodeAt(r))}function oD(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}function oE(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function oS(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function oT(e){return e instanceof Uint8Array?t=>e[t]:e}function ox(e,t,r,n,i){let o=oT(e),a=oT(r);for(let e=0;e<i;++e)if(o(t+e)!==a(n+e))return!1;return!0}function oA(e){let t=Array(256).fill(e.length);if(e.length>1)for(let r=0;r<e.length-1;r++)t[e[r]]=e.length-1-r;return t}let ok=Symbol("Match");class oC{constructor(e){this._lookbehind=new Uint8Array,"string"==typeof e?this._needle=e=ov(e):this._needle=e,this._lastChar=e[e.length-1],this._occ=oA(e)}feed(e){let t,r=0,n=[];for(;r!==e.length;)[r,...t]=this._feed(e,r),n.push(...t);return n}end(){let e=this._lookbehind;return this._lookbehind=new Uint8Array,e}_feed(e,t){let r=[],n=-this._lookbehind.length;if(n<0){for(;n<0&&n<=e.length-this._needle.length;){let t=this._charAt(e,n+this._needle.length-1);if(t===this._lastChar&&this._memcmp(e,n,this._needle.length-1))return n>-this._lookbehind.length&&r.push(this._lookbehind.slice(0,this._lookbehind.length+n)),r.push(ok),this._lookbehind=new Uint8Array,[n+this._needle.length,...r];n+=this._occ[t]}if(n<0)for(;n<0&&!this._memcmp(e,n,e.length-n);)n++;if(n>=0)r.push(this._lookbehind),this._lookbehind=new Uint8Array;else{let t=this._lookbehind.length+n;return t>0&&(r.push(this._lookbehind.slice(0,t)),this._lookbehind=this._lookbehind.slice(t)),this._lookbehind=Uint8Array.from(Array(this._lookbehind.length+e.length),(t,r)=>this._charAt(e,r-this._lookbehind.length)),[e.length,...r]}}for(n+=t;n<=e.length-this._needle.length;){let i=e[n+this._needle.length-1];if(i===this._lastChar&&e[n]===this._needle[0]&&ox(this._needle,0,e,n,this._needle.length-1))return n>t&&r.push(e.slice(t,n)),r.push(ok),[n+this._needle.length,...r];n+=this._occ[i]}if(n<e.length){for(;n<e.length&&(e[n]!==this._needle[0]||!ox(e,n,this._needle,0,e.length-n));)++n;n<e.length&&(this._lookbehind=e.slice(n))}return n>0&&r.push(e.slice(t,n<e.length?n:e.length)),[e.length,...r]}_charAt(e,t){return t<0?this._lookbehind[this._lookbehind.length+t]:e[t]}_memcmp(e,t,r){return ox(this._charAt.bind(this,e),t,this._needle,0,r)}}class oI{constructor(e,t){this._readableStream=t,this._search=new oC(e)}async *[Symbol.asyncIterator](){let e=this._readableStream.getReader();try{for(;;){let t=await e.read();if(t.done)break;yield*this._search.feed(t.value)}let t=this._search.end();t.length&&(yield t)}finally{e.releaseLock()}}}Symbol("End of Queue");async function*oP(e){let t=[];for await(let r of e)r===ok?(yield t,t=[]):t.push(r);yield t}Symbol.asyncIterator;let oR=Function.prototype.apply.bind(oE,void 0),oO=ov("--"),oj=ov("\r\n");function oL(e){let t=e.split(";").map(e=>e.trim());if("form-data"!==t.shift())throw Error('malformed content-disposition header: missing "form-data" in `'+JSON.stringify(t)+"`");let r={};for(let n of t){let t=n.split("=",2);if(2!==t.length)throw Error("malformed content-disposition header: key-value pair not found - "+n+" in `"+e+"`");let[i,o]=t;if('"'===o[0]&&'"'===o[o.length-1])r[i]=o.slice(1,-1).replace(/\\"/g,'"');else if('"'!==o[0]&&'"'!==o[o.length-1])r[i]=o;else if('"'===o[0]&&'"'!==o[o.length-1]||'"'!==o[0]&&'"'===o[o.length-1])throw Error("malformed content-disposition header: mismatched quotations in `"+e+"`")}if(!r.name)throw Error("malformed content-disposition header: missing field name in `"+e+"`");return r}function oN(e){let t;let r=[],n=!1;for(;void 0!==(t=e.shift());){let e=t.indexOf(":");if(-1===e)throw Error("malformed multipart-form header: missing colon");let i=t.slice(0,e).trim().toLowerCase(),o=t.slice(e+1).trim();switch(i){case"content-disposition":n=!0,r.push(...Object.entries(oL(o)));break;case"content-type":r.push(["contentType",o])}}if(!n)throw Error("malformed multipart-form header: missing content-disposition");return Object.fromEntries(r)}async function oB(e,t){let r=!0,n=!1,i=[[]],o=new oC(oj);for(;;){let a;let s=await e.next();if(s.done)throw Error("malformed multipart-form data: unexpected end of stream");if(r&&s.value!==ok&&oS(s.value.slice(0,2),oO))return[void 0,new Uint8Array];if(s.value!==ok)a=s.value;else if(n)throw Error("malformed multipart-form data: unexpected boundary");else a=t;if(!a.length)continue;r&&(r=!1);let l=o.feed(a);for(let[e,t]of l.entries()){let r=t===ok;if(r||t.length){if(n&&r)return l.push(o.end()),[i.filter(e=>e.length).map(oR).map(oD),oE(...l.slice(e+1).map(e=>e===ok?oj:e))];(n=r)?i.push([]):i[i.length-1].push(t)}}}}async function*oU(e,t){let r=oE(oO,ov(t)),n=new oI(r,e)[Symbol.asyncIterator]();for(;;){let e=await n.next();if(e.done)return;if(e.value===ok)break}let i=new oC(oj);for(;;){let[e,t]=await oB(n,r);if(!e)return;async function o(){let e=await n.next();if(e.done)throw Error("malformed multipart-form data: unexpected end of stream");return e}let l=!1;function a(e){let t=[];for(let r of i.feed(e))l&&t.push(oj),(l=r===ok)||t.push(r);return oE(...t)}let u=!1;async function s(){let e;let t=await o();if(t.value!==ok)e=t.value;else{if(l)return u=!0,{value:i.end()};e=oj}return{value:a(e)}}let c=[{value:a(t)}];for(yield{...oN(e),data:{[Symbol.asyncIterator](){return this},async next(){for(;;){let e=c.shift();if(!e)break;if(e.value.length>0)return e}for(;;){if(u)return{done:u,value:void 0};let e=await s();if(e.value.length>0)return e}}}};!u;)c.push(await s())}}async function*oz(e,t){for await(let r of oU(e,t)){let e=[];for await(let t of r.data)e.push(t);yield{...r,data:oE(...e)}}}class oF{constructor(e){if(this._entries=[],Object.defineProperty(this,"_entries",{enumerable:!1}),oM(e))for(let t of e.elements)if(oG(t))for(let e of t.options)e.selected&&this.append(t.name,e.value);else oY(t)&&(t.checked||!["radio","checkbox"].includes(t.type))&&t.name&&this.append(t.name,t.value)}get[Symbol.toStringTag](){return"FormData"}append(e,t=oV(TypeError("FormData.append: requires at least 2 arguments")),r){this._entries.push([e,oq(t,r)])}delete(e=oV(TypeError("FormData.delete: requires string argument"))){let t=this._entries,r=0;for(;r<t.length;){let[n]=t[r];n===e?t.splice(r,1):r++}}get(e=oV(TypeError("FormData.get: requires string argument"))){for(let[t,r]of this._entries)if(t===e)return r;return null}getAll(e=oV(TypeError("FormData.getAll: requires string argument"))){let t=[];for(let[r,n]of this._entries)r===e&&t.push(n);return t}has(e=oV(TypeError("FormData.has: requires string argument"))){for(let[t]of this._entries)if(t===e)return!0;return!1}set(e,t=oV(TypeError("FormData.set: requires at least 2 arguments")),r){let n=0,{_entries:i}=this,o=oq(t,r),a=!1;for(;n<i.length;){let t=i[n];t[0]===e?a?i.splice(n,1):(a=!0,t[1]=o,n++):n++}a||i.push([e,o])}entries(){return this._entries.values()}*keys(){for(let[e]of this._entries)yield e}*values(){for(let[e,t]of this._entries)yield t}[Symbol.iterator](){return this._entries.values()}forEach(e,t){for(let[r,n]of this._entries)e.call(t,n,r,this)}}let oM=e=>"[object HTMLFormElement]"===Object.prototype.toString.call(e),oq=(e,t)=>{if(oW(e))return null!=t?new oH([e],t,e):e;if(o$(e))return new oH([e],null!=t?t:"blob");if(null!=t&&""!=t)throw TypeError("filename is only supported when value is Blob or File");return`${e}`},oW=e=>"[object File]"===Object.prototype.toString.call(e)&&"string"==typeof e.name,o$=e=>"[object Blob]"===Object.prototype.toString.call(e),oH=class{constructor([e],t,{lastModified:r=Date.now()}={}){this.blob=e,this.name=t,this.lastModified=r}get webkitRelativePath(){return""}get size(){return this.blob.size}get type(){return this.blob.type}slice(e,t,r){return this.blob.slice(e,t,r)}stream(){return this.blob.stream()}text(){return this.blob.text()}arrayBuffer(){return this.blob.arrayBuffer()}get[Symbol.toStringTag](){return"File"}},oV=e=>{throw e};function oG(e){return"SELECT"===e.tagName}function oY(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}let oK="function"==typeof globalThis.FormData?globalThis.FormData:oF;class oJ extends ob{constructor(e,t=oQ(TypeError("File constructor requires name argument")),r={}){super(e,r),this._name=t,this._lastModified=r.lastModified||Date.now()}get name(){return this._name}get webkitRelativePath(){return""}get lastModified(){return this._lastModified}get[Symbol.toStringTag](){return"File"}}let oQ=e=>{throw e},oX="function"==typeof globalThis.File?globalThis.File:oJ,oZ=Symbol.toStringTag,o0=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[oZ],o1=e=>"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[oZ]);function o2(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.delete&&"function"==typeof e.keys&&"function"==typeof e.values&&"function"==typeof e.entries&&"function"==typeof e.constructor&&"FormData"===e[oZ]}let o8=e=>e instanceof rx==!0&&"function"==typeof e.getBoundary&&"function"==typeof e.hasKnownLength&&"function"==typeof e.getLengthSync,o3=e=>"object"==typeof e&&("AbortSignal"===e[oZ]||"EventTarget"===e[oZ]),o6=e=>"object"==typeof e&&"function"==typeof e.getReader&&"function"==typeof e.cancel&&"function"==typeof e.tee,o5=e=>e&&Symbol.iterator in e,o4="\r\n",o7="-".repeat(2),o9=Buffer.byteLength(o4),ae=e=>`${o7}${e}${o7}${o4.repeat(2)}`;function at(e,t,r){let n="";if(n+=`${o7}${e}${o4}Content-Disposition: form-data; name="${t}"`,o1(r)){let{name:e="blob",type:t}=r;n+=`; filename="${e}"${o4}Content-Type: ${t||"application/octet-stream"}`}return`${n}${o4.repeat(2)}`}let ar=()=>(0,o_.randomBytes)(8).toString("hex");async function*an(e,t){let r=new TextEncoder;for(let[n,i]of e)yield r.encode(at(t,n,i)),o1(i)?yield*i.stream():yield r.encode(i),yield r.encode(o4);yield r.encode(ae(t))}function ai(e,t){let r=0;for(let[n,i]of e)r+=Buffer.byteLength(at(t,n,i)),o1(i)?r+=i.size:r+=Buffer.byteLength(String(i)),r+=o9;return r+Buffer.byteLength(ae(t))}let ao=async e=>{let{body:t,headers:r}=e,n=r?.get("Content-Type")||"";if(n.startsWith("application/x-www-form-urlencoded")&&null!=t){let t=new oK;return new URLSearchParams(await e.text()).forEach((e,r)=>t.append(r,e)),t}let[i,o]=n.split(/\s*;\s*boundary=/);if("multipart/form-data"===i&&null!=o&&null!=t){let e=new oK;for await(let{name:r,data:n,filename:i,contentType:a}of oz(t,o))"string"==typeof i?e.append(r,new oX([n],i,{type:a})):void 0!==i?e.append(r,new oX([],"",{type:a})):e.append(r,new TextDecoder().decode(n),i);return e}throw TypeError("Could not parse content as FormData.")},aa=new j.TextEncoder,as=new j.TextDecoder,al=e=>aa.encode(e),au=e=>as.decode(e),{readableHighWaterMark:ac}=new rx.Readable,af=Symbol("Body internals");class ah{constructor(e,{size:t=0}={}){let r={body:null,type:null,size:null,boundary:null,disturbed:!1,error:null};if(this[af]=r,null===e)r.body=null,r.size=0;else if(o0(e)){let t=al(e.toString());r.body=av(t),r.size=t.byteLength,r.type="application/x-www-form-urlencoded;charset=UTF-8"}else if(o1(e))r.size=e.size,r.type=e.type||null,r.body=e.stream();else if(e instanceof Uint8Array)r.body=av(e),r.size=e.byteLength;else if(j.types.isAnyArrayBuffer(e)){let t=new Uint8Array(e);r.body=av(t),r.size=t.byteLength}else if(ArrayBuffer.isView(e)){let t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.body=av(t),r.size=t.byteLength}else if(o6(e))r.body=e;else if(o2(e)){let t=`NodeFetchFormDataBoundary${ar()}`;r.type=`multipart/form-data; boundary=${t}`,r.size=ai(e,t),r.body=aD(an(e,t))}else if(o8(e))r.type=`multipart/form-data; boundary=${e.getBoundary()}`,r.size=e.hasKnownLength()?e.getLengthSync():null,r.body=aS(e);else if(e instanceof rx)r.body=aS(e);else{let t=al(String(e));r.type="text/plain;charset=UTF-8",r.size=t.byteLength,r.body=av(t)}this.size=t}get headers(){throw TypeError("'get headers' called on an object that does not implements interface.")}get body(){return this[af].body}get bodyUsed(){return this[af].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await ad(this);return e.slice(t,t+r)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[af].body&&this[af].type||"";return new ob([await ad(this)],{type:e})}async json(){return JSON.parse(await this.text())}async text(){return au(await ad(this))}async formData(){return ao(this)}}async function ad(e){let t=e[af];if(t.disturbed)throw TypeError(`body used already for: ${e.url}`);if(t.disturbed=!0,t.error)throw t.error;let{body:r}=t;if(null===r)return new Uint8Array(0);let[n,i,o]=e.size>0?[new Uint8Array(e.size),[],e.size]:[null,[],1/0],a=0,s=aw(r);try{for await(let t of s){let r=t instanceof Uint8Array?t:Buffer.from(t);if(a+r.byteLength>o){let t=new ow(`content size at ${e.url} over limit: ${o}`,"max-size");throw s.throw(t),t}n?n.set(r,a):i.push(r),a+=r.byteLength}if(!n)return a_(new Uint8Array(a),i);if(!(a<n.byteLength))return n;throw new ow(`Premature close of server response while trying to fetch ${e.url}`,"premature-close")}catch(t){if(t instanceof og)throw t;if(t&&"AbortError"===t.name)throw t;{let r=t;throw new ow(`Invalid response body while trying to fetch ${e.url}: ${r.message}`,"system",r)}}}Object.defineProperties(ah.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},formData:{enumerable:!0}});let ap=e=>{let{body:t}=e;if(e.bodyUsed)throw Error("cannot clone body after it is used");if(!t)return null;let[r,n]=t.tee();return e[af].body=r,n},ay=e=>e[af].type,am=e=>e[af].size,ab=(e,{body:t})=>{null===t?e.end():rx.Readable.from(aw(t)).pipe(e)};class ag{constructor(e){this.stream=e,this.reader=null}[Symbol.asyncIterator](){return this}getReader(){if(this.reader)return this.reader;let e=this.stream.getReader();return this.reader=e,e}next(){return this.getReader().read()}async return(){return this.reader&&await this.reader.cancel(),{done:!0,value:void 0}}async throw(e){return await this.getReader().cancel(e),{done:!0,value:void 0}}}let aw=e=>new ag(e),a_=(e,t)=>{let r=0;for(let n of t)e.set(n,r),r+=n.byteLength;return e},av=e=>new i4({start(t){t.enqueue(e),t.close()}}),aD=e=>new i4(new aE(e));class aE{constructor(e){this.source=e[Symbol.asyncIterator]()}async pull(e){try{for(;e.desiredSize;){let t=await this.source.next();if(t.done){e.close();break}e.enqueue(t.value)}}catch(t){e.error(t)}}cancel(e){e&&"function"==typeof this.source.throw?this.source.throw(e):"function"==typeof this.source.return&&this.source.return()}}let aS=e=>{let t=new aT(e);return new i4(t,t)};class aT{constructor(e){this.highWaterMark=e.readableHighWaterMark||ac,this.accumalatedSize=0,this.stream=e,this.enqueue=this.enqueue.bind(this),this.error=this.error.bind(this),this.close=this.close.bind(this)}size(e){return e?.byteLength||0}start(e){this.controller=e,this.stream.on("data",this.enqueue),this.stream.once("error",this.error),this.stream.once("end",this.close),this.stream.once("close",this.close)}pull(){this.resume()}cancel(e){this.stream.destroy&&this.stream.destroy(e),this.stream.off("data",this.enqueue),this.stream.off("error",this.error),this.stream.off("end",this.close),this.stream.off("close",this.close)}enqueue(e){if(this.controller)try{let t=e instanceof Uint8Array?e:Buffer.from(e),r=(this.controller.desiredSize||0)-t.byteLength;this.controller.enqueue(t),r<=0&&this.pause()}catch{this.controller.error(Error("Could not create Buffer, chunk must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object")),this.cancel()}}pause(){this.stream.pause&&this.stream.pause()}resume(){this.stream.readable&&this.stream.resume&&this.stream.resume()}close(){this.controller&&(this.controller.close(),delete this.controller)}error(e){this.controller&&(this.controller.error(e),delete this.controller)}}let ax=iX,aA="function"==typeof ax.validateHeaderName?ax.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},ak="function"==typeof ax.validateHeaderValue?ax.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class aC extends URLSearchParams{constructor(e){let t=[];if(e instanceof aC)for(let[r,n]of Object.entries(e.raw()))t.push(...n.map(e=>[r,e]));else if(null==e);else if(o5(e))t=[...e].map(e=>{if("object"!=typeof e||j.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]});else if("object"==typeof e&&null!==e)t.push(...Object.entries(e));else throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return super(t=t.length>0?t.map(([e,t])=>(aA(e),ak(e,String(t)),[String(e).toLowerCase(),String(t)])):[]),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(e,n)=>(aA(e),ak(e,String(n)),URLSearchParams.prototype[t].call(r,String(e).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return e=>(aA(e),URLSearchParams.prototype[t].call(r,String(e).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())if("set-cookie"===r.toLowerCase()){let n=this.getAll(r);for(;n.length>0;)Reflect.apply(e,t,[n.shift(),r,this])}else Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())if("set-cookie"===e.toLowerCase()){let t=this.getAll(e);for(;t.length>0;)yield t.shift()}else yield this.get(e)}*entries(){for(let e of this.keys())if("set-cookie"===e.toLowerCase()){let t=this.getAll(e);for(;t.length>0;)yield[e,t.shift()]}else yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}function aI(e=[]){return new aC(e.reduce((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return aA(e),ak(e,String(t)),!0}catch{return!1}}))}Object.defineProperties(aC.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let aP=new Set([301,302,303,307,308]),aR=e=>aP.has(e),aO=Symbol("Response internals");class aj extends ah{constructor(e=null,t={}){super(e,t);let r=t.status||200,n=new aC(t.headers);if(null!==e&&!n.has("Content-Type")){let e=ay(this);e&&n.append("Content-Type",e)}this[aO]={url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter||0,highWaterMark:t.highWaterMark}}get type(){return"default"}get url(){return this[aO].url||""}get status(){return this[aO].status}get ok(){return this[aO].status>=200&&this[aO].status<300}get redirected(){return this[aO].counter>0}get statusText(){return this[aO].statusText}get headers(){return this[aO].headers}get highWaterMark(){return this[aO].highWaterMark}clone(){return new aj(ap(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,size:this.size})}static redirect(e,t=302){if(!aR(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new aj(null,{headers:{location:new URL(e).toString()},status:t})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(aj.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var aL=r(79551),aN=r(42901);let aB=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""},aU=Symbol("Request internals"),az=new Set(["CONNECT","TRACE","TRACK"]),aF=new Set(["DELETE","GET","HEAD","OPTIONS","POST","PUT"]),aM=e=>"object"==typeof e&&"object"==typeof e[aU];class aq extends ah{constructor(e,t={}){let r,n;aM(e)?(r=new URL(e.url),n=e):(r=new URL(e),n={});let i=t.method||n.method||"GET";if(az.has(i.toUpperCase()))throw TypeError(`Failed to construct 'Request': '${i}' HTTP method is unsupported.`);aF.has(i.toUpperCase())&&(i=i.toUpperCase());let o=null!=t.body?t.body:aM(e)&&null!==e.body?ap(e):null;if(null!=o&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");super(o,{size:t.size||n.size||0});let a=n,s=new aC(t.headers||a.headers||{});if(null!==o&&!s.has("Content-Type")){let e=ay(this);e&&s.append("Content-Type",e)}let l="signal"in t?t.signal:aM(a)?a.signal:null;if(null!=l&&!o3(l))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");l||(l=new("undefined"!=typeof AbortController?AbortController:aN.AbortController)().signal),this[aU]={method:i,redirect:t.redirect||a.redirect||"follow",headers:s,credentials:t.credentials||"same-origin",parsedURL:r,signal:l||null},this.keepalive,this.follow=void 0===t.follow?void 0===a.follow?20:a.follow:t.follow,this.compress=void 0===t.compress?void 0===a.compress||a.compress:t.compress,this.counter=t.counter||a.counter||0,this.agent=t.agent||a.agent,this.highWaterMark=t.highWaterMark||a.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||a.insecureHTTPParser||!1}get cache(){return"default"}get credentials(){return this[aU].credentials}get destination(){return""}get integrity(){return""}get mode(){return"cors"}get referrer(){return""}get referrerPolicy(){return""}get method(){return this[aU].method}get url(){return(0,aL.format)(this[aU].parsedURL)}get headers(){return this[aU].headers}get redirect(){return this[aU].redirect}get signal(){return this[aU].signal}clone(){return new aq(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(aq.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});let aW=e=>{let{parsedURL:t}=e[aU],r=new aC(e[aU].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){let t=am(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate,br");let{agent:i}=e;"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close");let o=aB(t);return{path:t.pathname+o,pathname:t.pathname,hostname:t.hostname,protocol:t.protocol,port:t.port,hash:t.hash,search:t.search,query:t.query,href:t.href,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i}};class a$ extends og{constructor(e,t="aborted"){super(e,t)}}let aH=new Set(["data:","http:","https:","file:"]);async function aV(e,t={}){return new Promise((r,n)=>{let i=new aq(e,t),o=aW(i);if(!aH.has(o.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${o.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===o.protocol){let e=i8(i.url.toString());r(new aj(e,{headers:{"Content-Type":e.typeFull}}));return}if("file:"===o.protocol){r(new aj(O.createReadStream(new URL(i.url)),{headers:{"Content-Type":i2(i.url)||"application/octet-stream"}}));return}let a=("https:"===o.protocol?iZ:iX).request,{signal:s}=i,l=null,u=null,c=()=>{let e=new a$("The operation was aborted.");n(e),i.body&&i.body.cancel(e),u&&u.emit("error",e)};if(s&&s.aborted){c();return}let f=()=>{c(),d()},h=a(o);s&&s.addEventListener("abort",f);let d=()=>{h.abort(),s&&s.removeEventListener("abort",f)};h.on("error",e=>{n(new ow(`request to ${i.url} failed, reason: ${e.message}`,"system",e)),d()}),aG(h,e=>{(!s||!s.aborted)&&u?.emit("error",e)}),14>parseInt(process.version.substring(1))&&h.on("socket",e=>{e.prependListener("close",t=>{let r=e.listenerCount("data")>0;if(l&&r&&!t&&!(s&&s.aborted)){let e=Object.assign(Error("Premature close"),{code:"ERR_STREAM_PREMATURE_CLOSE"});u?.emit("error",e)}})}),h.on("response",e=>{u=e,h.setTimeout(0);let o=aI(u.rawHeaders);if(aR(Number(u.statusCode))){let e=o.get("Location"),a=null===e?null:new URL(e,i.url);switch(i.redirect){case"error":n(new ow(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),d();return;case"manual":null!==a&&o.set("Location",a.toString());break;case"follow":{if(null===a)break;if(i.counter>=i.follow){n(new ow(`maximum redirect reached at: ${i.url}`,"max-redirect")),d();return}let e={headers:new aC(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:t.body,signal:s,size:i.size},o=e.body instanceof i4||e.body instanceof rx.Readable;if(303!==u.statusCode&&o){n(new ow("Cannot follow redirect with body being a readable stream","unsupported-redirect")),d();return}(303===u.statusCode||(301===u.statusCode||302===u.statusCode)&&"POST"===i.method)&&(e.method="GET",e.body=void 0,e.headers.delete("content-length")),aV(new aq(a.href,e)).then(r,n),d();return}default:return n(TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}s&&u.once("end",()=>{s.removeEventListener("abort",f)});let a=(0,rx.pipeline)(u,new rx.PassThrough,n);process.version<"v12.10"&&u.on("aborted",f);let c={url:i.url,status:u.statusCode,statusText:u.statusMessage,headers:o,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},p=o.get("Content-Encoding");if(!i.compress||"HEAD"===i.method||null===p||204===u.statusCode||304===u.statusCode){r(l=new aj(a,c));return}let y={flush:i0.Z_SYNC_FLUSH,finishFlush:i0.Z_SYNC_FLUSH};if("gzip"===p||"x-gzip"===p){r(l=new aj(aD(a=(0,rx.pipeline)(a,i0.createGunzip(y),n)),c));return}if("deflate"===p||"x-deflate"===p){(0,rx.pipeline)(u,new rx.PassThrough,n).once("data",e=>{r(l=new aj(aD(a=(15&e[0])==8?(0,rx.pipeline)(a,i0.createInflate(),n):(0,rx.pipeline)(a,i0.createInflateRaw(),n)),c))});return}if("br"===p){r(l=new aj(aD(a=(0,rx.pipeline)(a,i0.createBrotliDecompress(),n)),c));return}r(l=new aj(aD(a),c))}),ab(h,i)})}function aG(e,t){let r;let n=i3.Buffer.from("0\r\n\r\n"),i=!1,o=!1;e.on("response",e=>{let{headers:t}=e;i="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",a=>{let s=()=>{i&&!o&&t(Object.assign(Error("Premature close"),{code:"ERR_STREAM_PREMATURE_CLOSE"}))},l=e=>{(o=0===i3.Buffer.compare(e.slice(-5),n))||!r||(o=0===i3.Buffer.compare(r.slice(-3),n.slice(0,3))&&0===i3.Buffer.compare(e.slice(-2),n.slice(3))),r=e};a.prependListener("close",s),a.on("data",l);let u=()=>{a.removeListener("close",s),a.removeListener("data",l)};e.on("close",u),e.on("abort",u)})}let aY="function"==typeof globalThis.fetch?globalThis.fetch.bind(globalThis):aV;globalThis.Headers,globalThis.Request,globalThis.Response;let aK=aY;var aJ=r(21820);class aQ extends iG{constructor(){super(),this.path=`${aJ.tmpdir()}/${parseInt(String(1e9*Math.random()),10).toString()+Date.now()}`,this._opened=!1}async _open(){this._opening?await this._opening:(this._opening=O.promises.mkdir(this.path),await this._opening,this._opened=!0)}async put(e,t){this._opened||await this._open();let r=e.toString(),n=`${this.path}/${r}`;await O.promises.writeFile(n,t)}async get(e){this._opened||await this._open();let t=e.toString(),r=`${this.path}/${t}`;return await O.promises.readFile(r)}async has(e){this._opened||await this._open();let t=e.toString(),r=`${this.path}/${t}`;try{return await O.promises.access(r),!0}catch(e){return!1}}async *blocks(){for(let e of(this._opened||await this._open(),await O.promises.readdir(this.path))){let t=`${this.path}/${e}`,r=await O.promises.readFile(t);yield{cid:rk.TO.parse(e),bytes:r}}}async close(){this._opened&&await O.promises.rm(this.path,{recursive:!0}),this._opened=!1}}let aX=new URL("https://nftstorage.link/"),aZ=(e,t={})=>{let r=t.gateway||aX;return"ipfs:"===(e=new URL(String(e))).protocol?new URL(`/ipfs/${e.href.slice(7)}`,r):e};class a0{constructor(e,t,r){this._version=e,this._roots=t,this._blockstore=r}get version(){return this._version}get blockstore(){return this._blockstore}async getRoots(){return this._roots}has(e){return this._blockstore.has(e)}async get(e){let t=await this._blockstore.get(e);return{cid:e,bytes:t}}blocks(){return this._blockstore.blocks()}async *cids(){for await(let e of this.blocks())yield e.cid}}class a1{constructor(e,t,r){this.ipnft=e,this.url=t,this.data=r,Object.defineProperties(this,{ipnft:{enumerable:!0,writable:!1},url:{enumerable:!0,writable:!1},data:{enumerable:!1,writable:!1}})}embed(){return a1.embed(this)}static embed({data:e}){return a2(e,{gateway:aX})}static async encode(e){let t=new aQ,[r,i]=a7(e),o=JSON.parse(JSON.stringify(i)),a=JSON.parse(JSON.stringify(i));for(let[e,n]of r.entries()){let r;let i=n.name||"blob";r=parseInt(globalThis.process?.versions?.node)>18?new Uint8Array(await n.arrayBuffer()):n.stream();let{root:s}=await iJ({input:[{path:i,content:r}],blockstore:t,wrapWithDirectory:!0}),l=new URL(`ipfs://${s}/${i}`),u=e.split(".");sn(o,u,l),sn(a,u,s)}let{root:s}=await iJ({input:[{path:"metadata.json",content:JSON.stringify(o)}],blockstore:t,wrapWithDirectory:!1}),l=await rj({value:{...a,"metadata.json":s,type:"nft"},codec:n,hasher:nb.sha256});return await t.put(l.cid,l.bytes),{cid:l.cid,token:new a1(l.cid.toString(),`ipfs://${l.cid}/metadata.json`,o),car:new a0(1,[l.cid],t)}}}let a2=(e,t)=>a9(e,a8,a3,t),a8=e=>e instanceof URL,a3=(e,t)=>[e,aZ(t,e)],a6=e=>"object"==typeof e&&null!=e,a5=(e,t,r)=>(e.set(r.join("."),t),[e,void 0]),a4=e=>e instanceof ob,a7=e=>se(e,a4,a5,new Map,[]),a9=(e,t,r,n)=>{let[,i]=se(e,t,r,n,[]);return i},se=(e,t,r,n,i)=>t(e,n,i)?r(n,e,i):Array.isArray(e)?sr(e,t,r,n,i):a6(e)?st(e,t,r,n,i):[n,e],st=(e,t,r,n,i)=>{let o=n,a={};for(let[n,s]of Object.entries(e)){let[e,l]=se(s,t,r,o,[...i,n]);a[n]=l,o=e}return[o,a]},sr=(e,t,r,n,i)=>{let o=[],a=n;for(let[n,s]of e.entries()){let[e,l]=se(s,t,r,a,[...i,n]);o[n]=l,a=e}return[a,o]},sn=(e,t,r)=>{let n=t.length-1,i=e;for(let[e,o]of t.entries())e===n?i[o]=r:i=i[o]},si=5,so=3,sa=0x3200000,ss=30,sl=1e4;function su(){let e=iQ(ss,sl);return()=>e(()=>{})}let sc=su();class sf{constructor({token:e,did:t,endpoint:r=new URL("https://api.nft.storage"),rateLimiter:n}){this.token=e,this.endpoint=r,this.rateLimiter=n||su(),this.did=t}static auth({token:e,did:t}){if(!e)throw Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"nft.storage/js",...t?{"x-agent-did":t}:{}}}static async storeBlob(e,t,r){let n;let i=new aQ;try{let{cid:o,car:a}=await sf.encodeBlob(t,{blockstore:i});await sf.storeCar(e,a,r),n=o.toString()}finally{await i.close()}return n}static async storeCar({endpoint:e,rateLimiter:t=sc,...r},n,{onStoredChunk:i,maxRetries:o,maxChunkSize:a,decoders:s,signal:l}={}){let u;let c=new URL("upload/",e),f={...sf.auth(r),"Content-Type":"application/car"},h=a||sa,d=n instanceof ob?await nf.fromBlob(n,h,{decoders:s}):new nf(n,h,{decoders:s});for await(let e of P(so,async function(e){let r=[];for await(let t of e)r.push(t);let n=new ob(r,{type:"application/car"}),a=n;parseInt(globalThis.process?.versions?.node)>18&&(a=await a.arrayBuffer());let s=await R(async()=>{let e;await t();try{e=await aK(c.toString(),{method:"POST",headers:f,body:a,signal:l})}catch(e){throw l&&l.aborted?new R.AbortError(e):e}if(429===e.status)throw Error("rate limited");let r=await e.json();if(!r.ok){if(401===e.status)throw new R.AbortError(r.error.message);throw Error(r.error.message)}return r.value.cid},{retries:null==o?si:o});return i&&i(n.size),s})(d.cars()))u=e;return u}static async storeDirectory(e,t,r){let n;let i=new aQ;try{let{cid:o,car:a}=await sf.encodeDirectory(t,{blockstore:i});await sf.storeCar(e,a,r),n=o.toString()}finally{await i.close()}return n}static async store(e,t,r){let{token:n,car:i}=await sf.encodeNFT(t);return await sf.storeCar(e,i,r),n}static async status({endpoint:e,rateLimiter:t=sc,...r},n,i){let o=new URL(`${n}/`,e);await t();let a=await aK(o.toString(),{method:"GET",headers:sf.auth(r),signal:i&&i.signal});if(429===a.status)throw Error("rate limited");let s=await a.json();if(s.ok)return{cid:s.value.cid,deals:sp(s.value.deals),size:s.value.size,pin:sy(s.value.pin),created:new Date(s.value.created)};throw Error(s.error.message)}static async check({endpoint:e,rateLimiter:t=sc},r,n){let i=new URL(`check/${r}/`,e);await t();let o=await aK(i.toString(),{signal:n&&n.signal});if(429===o.status)throw Error("rate limited");let a=await o.json();if(a.ok)return{cid:a.value.cid,deals:sp(a.value.deals),pin:a.value.pin};throw Error(a.error.message)}static async delete({endpoint:e,rateLimiter:t=sc,...r},n,i){let o=new URL(`${n}/`,e);await t();let a=await aK(o.toString(),{method:"DELETE",headers:sf.auth(r),signal:i&&i.signal});if(429===a.status)throw Error("rate limited");let s=await a.json();if(!s.ok)throw Error(s.error.message)}static async encodeNFT(e){return sh(e),a1.encode(e)}static async encodeBlob(e,{blockstore:t}={}){if(0===e.size)throw Error("Content size is 0, make sure to provide some content");return sd([sm("blob",e)],{blockstore:t,wrapWithDirectory:!1})}static async encodeDirectory(e,{blockstore:t}={}){let r=0,n=np(e,async function*(e){for await(let t of e)yield sm(t.name,t),r+=t.size}),i=await sd(n,{blockstore:t,wrapWithDirectory:!0});if(0===r)throw Error("Total size of files should exceed 0, make sure to provide some content");return i}storeBlob(e,t){return sf.storeBlob(this,e,t)}storeCar(e,t){return sf.storeCar(this,e,t)}storeDirectory(e,t){return sf.storeDirectory(this,e,t)}status(e,t){return sf.status(this,e,t)}delete(e,t){return sf.delete(this,e,t)}check(e,t){return sf.check(this,e,t)}store(e,t){return sf.store(this,e,t)}}let sh=({name:e,description:t,image:r,decimals:n})=>{if("string"!=typeof e)throw TypeError("string property `name` identifying the asset is required");if("string"!=typeof t)throw TypeError("string property `description` describing asset is required");if(r instanceof ob)r.type.startsWith("image/")||console.warn(`According to ERC721 Metadata JSON Schema 'image' must have 'image/*' mime type.

For better interoperability we would highly recommend storing content with different mime type under 'properties' namespace e.g. \`properties: { video: file }\` and using 'image' field for storing a preview image for it instead.

For more context please see ERC-721 specification https://eips.ethereum.org/EIPS/eip-721`);else throw TypeError("property `image` must be a Blob or File object");if(void 0!==n&&"number"!=typeof n)throw TypeError("property `decimals` must be an integer value")},sd=async(e,{blockstore:t,wrapWithDirectory:r}={})=>{t=t||new aQ;let{root:n}=await iJ({input:e,blockstore:t,wrapWithDirectory:r}),i=new a0(1,[n],t);return{cid:n,car:i}},sp=e=>e.map(e=>{let{dealActivation:t,dealExpiration:r,lastChanged:n}={dealExpiration:null,dealActivation:null,...e};return{...e,lastChanged:new Date(n),...t&&{dealActivation:new Date(t)},...r&&{dealExpiration:new Date(r)}}}),sy=e=>({...e,created:new Date(e.created)});function sm(e,t){let r;return{path:e,get content(){return r=r||t.stream()}}}var sb=r(53829);let sg=sb.i7?new sf({token:sb.i7}):null,sw=["image/jpeg","image/png","image/gif","image/webp"],s_=["video/mp4","video/webm","video/mov"],sv=[...sw,...s_],sD=0xa00000;function sE(e){let t=[];return sv.includes(e.type)||t.push({field:"file",message:`Unsupported file type. Supported types: ${sv.join(", ")}`}),e.size>sD&&t.push({field:"file",message:`File size too large. Maximum size: ${sD/1048576}MB`}),t}function sS(e){let t=[];return e.name&&0!==e.name.trim().length?e.name.length>100&&t.push({field:"name",message:"Name must be less than 100 characters"}):t.push({field:"name",message:"Name is required"}),e.description&&0!==e.description.trim().length?e.description.length>1e3&&t.push({field:"description",message:"Description must be less than 1000 characters"}):t.push({field:"description",message:"Description is required"}),e.category&&0!==e.category.trim().length||t.push({field:"category",message:"Category is required"}),e.creator&&0!==e.creator.trim().length||t.push({field:"creator",message:"Creator address is required"}),e.attributes&&e.attributes.forEach((e,r)=>{e.trait_type&&0!==e.trait_type.trim().length||t.push({field:`attributes[${r}].trait_type`,message:"Attribute trait_type is required"}),(void 0===e.value||null===e.value||""===e.value)&&t.push({field:`attributes[${r}].value`,message:"Attribute value is required"})}),t}async function sT(e){if(!sg)throw Error("NFT.Storage API key not configured");let t=sS(e);if(t.length>0)throw Error(`Metadata validation failed: ${t.map(e=>e.message).join(", ")}`);let r=sE(e.image);if(r.length>0)throw Error(`File validation failed: ${r.map(e=>e.message).join(", ")}`);try{console.log("[IPFS] Uploading Ownly collectible to IPFS...");let t={name:e.name,description:e.description,image:e.image,properties:{category:e.category,creator:e.creator,collection_id:e.collection_id,...e.attributes&&{attributes:e.attributes},...e.external_url&&{external_url:e.external_url}},...e.animation_url&&{animation_url:e.animation_url}},r=await sg.store(t),n=r.url.replace("ipfs://",""),i=`${sb.AS}${n}/metadata.json`,o=r.data.image.toString().replace("ipfs://",sb.AS),a={ipfsHash:n,metadataUrl:i,imageUrl:o};return r.data.animation_url&&(a.animationUrl=r.data.animation_url.toString().replace("ipfs://",sb.AS)),console.log("[IPFS] Upload complete:",a),a}catch(e){throw console.error("[IPFS] Upload error:",e),Error(`IPFS upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}async function sx(e){return new oX([await e.arrayBuffer()],e.name,{type:e.type})}async function sA(e){let t=sE(e);if(t.length>0)throw Error(`File validation failed: ${t.map(e=>e.message).join(", ")}`);return{processedFile:await sx(e),fileInfo:{name:e.name,size:e.size,type:e.type,isVideo:s_.includes(e.type),isImage:sw.includes(e.type)}}}function sk(e){return{name:e.name.trim(),description:e.description.trim(),category:e.category.trim(),creator:e.creator.trim(),collection_id:sb.NP,image:e.image,attributes:e.attributes||[],external_url:e.external_url?.trim()}}var sC=function(e){return e.WALLET="WALLET",e.BLOCKCHAIN="BLOCKCHAIN",e.API="API",e.VALIDATION="VALIDATION",e.NETWORK="NETWORK",e.IPFS="IPFS",e.MARKETPLACE="MARKETPLACE",e.AUTHENTICATION="AUTHENTICATION",e.TRANSACTION="TRANSACTION",e.SYSTEM="SYSTEM",e}({}),sI=function(e){return e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL",e}({});class sP extends Error{constructor(e){super(e.message),this.name="OwnlyError",this.code=e.code,this.category=e.category,this.severity=e.severity,this.userMessage=e.userMessage,this.context=e.context,this.originalError=e.originalError,this.retryable=e.retryable,this.retryAfter=e.retryAfter,this.actionable=e.actionable,this.suggestedActions=e.suggestedActions,this.helpUrl=e.helpUrl,this.timestamp=new Date().toISOString()}toJSON(){return{name:this.name,code:this.code,category:this.category,severity:this.severity,message:this.message,userMessage:this.userMessage,context:this.context,retryable:this.retryable,retryAfter:this.retryAfter,actionable:this.actionable,suggestedActions:this.suggestedActions,helpUrl:this.helpUrl,timestamp:this.timestamp,stack:this.stack}}}let sR={WALLET_NOT_CONNECTED:"WALLET_NOT_CONNECTED",WALLET_CONNECTION_FAILED:"WALLET_CONNECTION_FAILED",WALLET_SIGNATURE_REJECTED:"WALLET_SIGNATURE_REJECTED",WALLET_INSUFFICIENT_FUNDS:"WALLET_INSUFFICIENT_FUNDS",TRANSACTION_FAILED:"TRANSACTION_FAILED",TRANSACTION_TIMEOUT:"TRANSACTION_TIMEOUT",API_TIMEOUT:"API_TIMEOUT",API_RATE_LIMITED:"API_RATE_LIMITED",API_UNAUTHORIZED:"API_UNAUTHORIZED",API_SERVER_ERROR:"API_SERVER_ERROR",API_NOT_FOUND:"API_NOT_FOUND",INVALID_ADDRESS:"INVALID_ADDRESS",INVALID_NFT_ID:"INVALID_NFT_ID",NETWORK_ERROR:"NETWORK_ERROR",IPFS_UPLOAD_FAILED:"IPFS_UPLOAD_FAILED",NFT_NOT_FOR_SALE:"NFT_NOT_FOR_SALE",NFT_ALREADY_SOLD:"NFT_ALREADY_SOLD",SYSTEM_ERROR:"SYSTEM_ERROR"};var sO=r(30626);class sj{static createError(e,t,r,n,i,o={}){return new sP({code:e,category:t,severity:r,message:n,userMessage:i,retryable:o.retryable??!1,actionable:o.actionable??!1,...o})}static walletNotConnected(e){return this.createError(sR.WALLET_NOT_CONNECTED,sC.WALLET,sI.MEDIUM,"Wallet is not connected","Please connect your wallet to continue",{context:e,actionable:!0,suggestedActions:['Click "Connect Wallet" button',"Ensure your wallet extension is installed"],helpUrl:"/help/wallet-connection"})}static walletConnectionFailed(e,t){return this.createError(sR.WALLET_CONNECTION_FAILED,sC.WALLET,sI.HIGH,"Failed to connect to wallet","Unable to connect to your wallet. Please try again.",{context:t,originalError:e,retryable:!0,actionable:!0,suggestedActions:["Refresh the page and try again","Check if your wallet extension is unlocked","Try switching to a different wallet"],helpUrl:"/help/wallet-troubleshooting"})}static walletSignatureRejected(e){return this.createError(sR.WALLET_SIGNATURE_REJECTED,sC.WALLET,sI.MEDIUM,"Transaction signature was rejected by user","Transaction cancelled. You rejected the signature request.",{context:e,actionable:!0,suggestedActions:["Try the transaction again and approve the signature"],helpUrl:"/help/transaction-signing"})}static insufficientFunds(e,t,r){let n=e&&t?` (Balance: ${e}, Required: ${t})`:"";return this.createError(sR.WALLET_INSUFFICIENT_FUNDS,sC.WALLET,sI.HIGH,`Insufficient funds for transaction${n}`,"You don't have enough FLOW tokens to complete this transaction.",{context:{...r,balance:e,required:t},actionable:!0,suggestedActions:["Add more FLOW tokens to your wallet","Try a transaction with a lower amount"],helpUrl:"/help/add-funds"})}static transactionFailed(e,t,r){return this.createError(sR.TRANSACTION_FAILED,sC.TRANSACTION,sI.HIGH,"Blockchain transaction failed","Your transaction failed to complete. Please try again.",{context:{...r,transactionId:e},originalError:t,retryable:!0,actionable:!0,suggestedActions:["Wait a moment and try again","Check your wallet balance","Contact support if the issue persists"],helpUrl:"/help/transaction-issues"})}static transactionTimeout(e,t){return this.createError(sR.TRANSACTION_TIMEOUT,sC.TRANSACTION,sI.MEDIUM,"Transaction timed out","Your transaction is taking longer than expected. It may still complete.",{context:{...t,transactionId:e},retryable:!0,actionable:!0,suggestedActions:["Check your transaction status in a few minutes","Try the transaction again if it doesn't complete"],helpUrl:"/help/transaction-status"})}static apiTimeout(e,t){return this.createError(sR.API_TIMEOUT,sC.API,sI.MEDIUM,"API request timed out","The request is taking longer than expected. Please try again.",{context:{...t,endpoint:e},retryable:!0,retryAfter:5e3,actionable:!0,suggestedActions:["Wait a moment and try again","Check your internet connection"]})}static apiRateLimited(e,t){let r=e?` Please wait ${Math.ceil(e/1e3)} seconds.`:"";return this.createError(sR.API_RATE_LIMITED,sC.API,sI.MEDIUM,"API rate limit exceeded",`Too many requests. Please slow down.${r}`,{context:t,retryable:!0,retryAfter:e,actionable:!0,suggestedActions:["Wait before making another request","Reduce the frequency of your actions"]})}static invalidAddress(e,t){return this.createError(sR.INVALID_ADDRESS,sC.VALIDATION,sI.MEDIUM,"Invalid Flow address format","Please enter a valid Flow address (0x followed by 16 hexadecimal characters)",{context:{...t,address:e},actionable:!0,suggestedActions:["Check the address format","Copy the address from a trusted source"],helpUrl:"/help/flow-addresses"})}static invalidNFTId(e,t){return this.createError(sR.INVALID_NFT_ID,sC.VALIDATION,sI.MEDIUM,"Invalid NFT ID","The NFT ID provided is not valid",{context:{...t,nftId:e},actionable:!0,suggestedActions:["Check the NFT ID","Refresh the page and try again"]})}static ipfsUploadFailed(e,t){return this.createError(sR.IPFS_UPLOAD_FAILED,sC.IPFS,sI.HIGH,"Failed to upload to IPFS","Unable to upload your file. Please try again.",{context:t,originalError:e,retryable:!0,actionable:!0,suggestedActions:["Check your internet connection","Try uploading a smaller file","Wait a moment and try again"],helpUrl:"/help/file-upload"})}static nftNotForSale(e,t){return this.createError(sR.NFT_NOT_FOR_SALE,sC.MARKETPLACE,sI.MEDIUM,"NFT is not listed for sale","This NFT is not currently available for purchase",{context:{...t,nftId:e},actionable:!0,suggestedActions:["Browse other available NFTs","Check back later"]})}static nftAlreadySold(e,t){return this.createError(sR.NFT_ALREADY_SOLD,sC.MARKETPLACE,sI.MEDIUM,"NFT has already been sold","Someone else purchased this NFT before you",{context:{...t,nftId:e},actionable:!0,suggestedActions:["Browse other available NFTs","Set up alerts for similar NFTs"]})}static networkError(e,t){return this.createError(sR.NETWORK_ERROR,sC.NETWORK,sI.HIGH,"Network connection error","Unable to connect to the network. Please check your internet connection.",{context:t,originalError:e,retryable:!0,actionable:!0,suggestedActions:["Check your internet connection","Try refreshing the page","Wait a moment and try again"]})}static systemError(e,t){return this.createError(sR.SYSTEM_ERROR,sC.SYSTEM,sI.CRITICAL,"System error occurred","Something went wrong on our end. Please try again later.",{context:t,originalError:e,retryable:!0,actionable:!0,suggestedActions:["Try again in a few minutes","Contact support if the issue persists"],helpUrl:"/help/contact-support"})}static fromDapperError(e,t){switch(e.type){case sO.L.AUTHENTICATION_ERROR:return this.createError(sR.API_UNAUTHORIZED,sC.API,sI.HIGH,"Authentication failed with Dapper API","Authentication error. Please try again.",{context:t,originalError:e,retryable:!1,actionable:!0,suggestedActions:["Contact support if this issue persists"]});case sO.L.INSUFFICIENT_FUNDS:return this.insufficientFunds(void 0,void 0,t);case sO.L.RATE_LIMIT_EXCEEDED:return this.apiRateLimited(e.retryAfter,t);case sO.L.SERVER_ERROR:return this.createError(sR.API_SERVER_ERROR,sC.API,sI.HIGH,"Dapper API server error","Service temporarily unavailable. Please try again later.",{context:t,originalError:e,retryable:!0,retryAfter:e.retryAfter,actionable:!0,suggestedActions:["Wait a moment and try again"]});case sO.L.NETWORK_ERROR:return this.networkError(e,t);case sO.L.NFT_NOT_FOUND:return this.createError(sR.API_NOT_FOUND,sC.API,sI.MEDIUM,"NFT not found","The requested NFT could not be found",{context:t,originalError:e,actionable:!0,suggestedActions:["Check the NFT ID","Refresh the page"]});default:return this.systemError(e,t)}}static fromError(e,t){return e instanceof sP?e:e instanceof sO.z?this.fromDapperError(e,t):e.message.includes("network")||e.message.includes("fetch")?this.networkError(e,t):e.message.includes("timeout")?this.apiTimeout(void 0,t):e.message.includes("signature")||e.message.includes("rejected")?this.walletSignatureRejected(t):this.systemError(e,t)}}class sL{static{this.logs=[]}static{this.maxLogs=1e3}static{this.sessionId=this.generateSessionId()}static generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static generateLogId(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static logError(e,t){let r={id:this.generateLogId(),timestamp:new Date().toISOString(),level:this.mapSeverityToLevel(e.severity),message:e.message,error:e,context:{...e.context,...t},userAgent:void 0,url:void 0,sessionId:this.sessionId};this.addLog(r),this.consoleLog(r),this.sendToMonitoring(r)}static logWarning(e,t){let r={id:this.generateLogId(),timestamp:new Date().toISOString(),level:"warn",message:e,context:t,userAgent:void 0,url:void 0,sessionId:this.sessionId};this.addLog(r),this.consoleLog(r)}static logInfo(e,t){let r={id:this.generateLogId(),timestamp:new Date().toISOString(),level:"info",message:e,context:t,sessionId:this.sessionId};this.addLog(r)}static mapSeverityToLevel(e){switch(e){case sI.CRITICAL:case sI.HIGH:return"error";case sI.MEDIUM:case sI.LOW:return"warn";default:return"error"}}static addLog(e){this.logs.push(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs))}static consoleLog(e){let{level:t,message:r,error:n,context:i}=e,o={timestamp:e.timestamp,message:r,context:i,...n&&{errorCode:n.code,errorCategory:n.category,errorSeverity:n.severity,retryable:n.retryable,actionable:n.actionable}};switch(t){case"error":console.error(`[OWNLY ERROR] ${r}`,o),n?.originalError&&console.error("Original error:",n.originalError);break;case"warn":console.warn(`[OWNLY WARN] ${r}`,o);break;case"info":console.info(`[OWNLY INFO] ${r}`,o);break;default:console.log(`[OWNLY] ${r}`,o)}}static async sendToMonitoring(e){}static getRecentLogs(e=50){return this.logs.slice(-e)}static getLogsBySeverity(e){return this.logs.filter(t=>t.error?.severity===e)}static getLogsByCategory(e){return this.logs.filter(t=>t.error?.category===e)}static clearLogs(){this.logs=[]}static exportLogs(){return JSON.stringify(this.logs,null,2)}static getErrorStats(){let e=new Date(Date.now()-36e5),t={total:this.logs.length,bySeverity:{[sI.CRITICAL]:0,[sI.HIGH]:0,[sI.MEDIUM]:0,[sI.LOW]:0},byCategory:{},recent:0};return this.logs.forEach(r=>{if(r.error){t.bySeverity[r.error.severity]++;let e=r.error.category;t.byCategory[e]=(t.byCategory[e]||0)+1}new Date(r.timestamp)>e&&t.recent++}),t}}class sN{static{this.defaultConfig={maxAttempts:3,baseDelay:1e3,maxDelay:3e4,backoffMultiplier:2,retryableErrors:["NETWORK_ERROR","API_TIMEOUT","API_SERVER_ERROR","TRANSACTION_TIMEOUT","IPFS_UPLOAD_FAILED","SYSTEM_ERROR"]}}static async executeWithRetry(e,t={}){let r;let n={...this.defaultConfig,...t};for(let i=1;i<=n.maxAttempts;i++)try{return await e()}catch(o){if(r=o,!this.shouldRetry(o,i,n,t.shouldRetry))throw o;if(i===n.maxAttempts)break;let e=this.calculateDelay(i,n);t.onRetry?.(i,o),await this.sleep(e)}throw r}static shouldRetry(e,t,r,n){if(n)return n(e,t);if(t>=r.maxAttempts)return!1;if(e instanceof sP)return e.retryable;if(e instanceof sP&&r.retryableErrors.includes(e.code))return!0;let i=e.message.toLowerCase();return!!(i.includes("network")||i.includes("timeout")||i.includes("fetch")||i.includes("connection")||i.includes("server error")||i.includes("internal error")||i.includes("service unavailable"))}static calculateDelay(e,t){let r=t.baseDelay*Math.pow(t.backoffMultiplier,e-1),n=.1*Math.random()*r;return Math.min(r+n,t.maxDelay)}static sleep(e){return new Promise(t=>setTimeout(t,e))}static async retryApiCall(e,t,r){return this.executeWithRetry(e,{maxAttempts:3,baseDelay:1e3,onRetry:(e,n)=>{console.warn(`[RETRY] ${t} failed (attempt ${e}):`,{error:n.message,context:r})}})}static async retryTransaction(e,t,r){return this.executeWithRetry(e,{maxAttempts:2,baseDelay:2e3,onRetry:(e,n)=>{console.warn(`[RETRY] ${t} failed (attempt ${e}):`,{error:n.message,context:r})}})}static async retryIPFS(e,t,r){return this.executeWithRetry(e,{maxAttempts:4,baseDelay:500,maxDelay:1e4,onRetry:(e,n)=>{console.warn(`[RETRY] IPFS ${t} failed (attempt ${e}):`,{error:n.message,context:r})}})}}class sB{static{this.errorCallbacks=[]}static onError(e){return this.errorCallbacks.push(e),()=>{let t=this.errorCallbacks.indexOf(e);t>-1&&this.errorCallbacks.splice(t,1)}}static handle(e,t={}){let r;let{context:n,logError:i=!0,showToUser:o=!0,onError:a}=t;return r=e instanceof sP?e:e instanceof Error?sj.fromError(e,n):"string"==typeof e?sj.systemError(Error(e),n):sj.systemError(Error("Unknown error occurred"),n),i&&sL.logError(r,n),o&&this.errorCallbacks.forEach(e=>{try{e(r)}catch(e){console.error("Error in error callback:",e)}}),a?.(r),r}static async handleAsync(e,t={}){try{return await e()}catch(e){throw this.handle(e,t)}}static async handleAsyncWithRetry(e,t,r={}){try{return await sN.retryApiCall(e,t,r.context)}catch(e){throw this.handle(e,r)}}static async handleApiCall(e,t,r){return this.handleAsyncWithRetry(e,`API call to ${t}`,{context:{...r,endpoint:t},logError:!0,showToUser:!0})}static async handleTransaction(e,t,r){try{return await sN.retryTransaction(e,t,r)}catch(e){throw this.handle(e,{context:{...r,operation:t},logError:!0,showToUser:!0})}}static async handleIPFS(e,t,r){try{return await sN.retryIPFS(e,t,r)}catch(e){throw this.handle(e,{context:{...r,operation:t},logError:!0,showToUser:!0})}}static async handleWalletOperation(e,t,r){try{return await e()}catch(e){if(e instanceof Error){if(e.message.includes("User rejected")||e.message.includes("User denied"))throw sj.walletSignatureRejected(r);if(e.message.includes("insufficient funds")||e.message.includes("insufficient balance"))throw sj.insufficientFunds(void 0,void 0,r)}throw this.handle(e,{context:{...r,operation:t},logError:!0,showToUser:!0})}}static handleValidationError(e,t,r,n){return this.handle(sj.createError("VALIDATION_ERROR","VALIDATION","MEDIUM",`Validation failed for ${e}: ${r}`,r,{context:{...n,field:e,value:t},actionable:!0}),{logError:!1,showToUser:!0})}static async safeExecute(e,t,r={}){try{return await e()}catch(e){return this.handle(e,{...r,showToUser:!1}),t}}static initialize(){"undefined"!=typeof process&&process.on("unhandledRejection",e=>{this.handle(e,{context:{type:"unhandledrejection"},logError:!0,showToUser:!1})})}}var sU=r(95847);function sz(e){return/^0x[a-fA-F0-9]{16}$/.test(e)}function sF(e,t,r){let n=atob(e.replace(/^data:[^;]+;base64,/,"")),i=Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return new File([new Uint8Array(i)],t,{type:r})}let sM=(0,sU.mF)(async function(e){return sB.handleAsync(async()=>{let t,r;let n=await e.json(),{recipient:i}=n;if(!i)throw sj.createError("MISSING_REQUIRED_FIELD","VALIDATION","MEDIUM","Recipient address is required","Please provide a recipient address",{context:{field:"recipient"},actionable:!0,suggestedActions:["Enter a valid Flow address"]});if(!sz(i))throw sj.invalidAddress(i,{endpoint:"/api/nft/mint",operation:"mint"});if(n.metadata_url){if(!(t=n.metadata_url).startsWith("https://")&&!t.startsWith("ipfs://"))throw sj.createError("INVALID_METADATA","VALIDATION","MEDIUM","Invalid metadata URL format","Metadata URL must be a valid HTTPS or IPFS URL",{context:{metadata_url:t,endpoint:"/api/nft/mint"},actionable:!0,suggestedActions:["Use a valid HTTPS or IPFS URL for metadata"]})}else if(n.name&&n.description&&n.category&&n.file_data){let{name:e,description:o,category:a,creator:s,file_data:l,file_name:u,file_type:c,attributes:f,external_url:h}=n,d=sS({name:e,description:o,category:a,creator:s||i,collection_id:sb.NP,attributes:f,external_url:h});if(d.length>0)throw sj.createError("INVALID_METADATA","VALIDATION","MEDIUM",`Metadata validation failed: ${d.map(e=>e.message).join(", ")}`,"Please check your NFT metadata and fix the validation errors",{context:{validationErrors:d,endpoint:"/api/nft/mint"},actionable:!0,suggestedActions:d.map(e=>`Fix: ${e.message}`)});try{if(!u||!c)throw sj.createError("MISSING_REQUIRED_FIELD","VALIDATION","MEDIUM","File name and type are required when uploading file data","Please provide both file name and file type",{context:{file_name:u,file_type:c,endpoint:"/api/nft/mint"},actionable:!0,suggestedActions:["Include file_name and file_type in your request"]});let n=sF(l,u,c),{processedFile:d}=await sA(n),p=sk({name:e,description:o,category:a,creator:s||i,image:d,attributes:f,external_url:h});console.log("[MINT API] Uploading metadata to IPFS...");let y=await (0,sU.gT)("ipfs_upload",async()=>sT(p),{file_type:c,file_size:n.size.toString()});t=y.metadataUrl,r=y.imageUrl,console.log("[MINT API] IPFS upload successful:",{metadata_url:t,image_url:r})}catch(e){throw console.error("[MINT API] IPFS upload failed:",e),sj.ipfsUploadFailed(e instanceof Error?e:Error("Unknown IPFS error"),{endpoint:"/api/nft/mint",operation:"ipfs_upload",file_name:u,file_type:c})}}else throw sj.createError("MISSING_REQUIRED_FIELD","VALIDATION","MEDIUM","Either metadata_url or complete metadata must be provided","Please provide either a metadata_url or complete metadata (name, description, category, file_data)",{context:{endpoint:"/api/nft/mint"},actionable:!0,suggestedActions:["Provide a metadata_url for existing metadata","Or provide name, description, category, and file_data for new metadata"]});console.log("[MINT API] Calling Dapper Core API...");let o=await (0,sU.fR)("DapperCore","/v1/nft/mint","POST",()=>sB.handleApiCall(()=>f.Y.mintNFT({metadata_url:t,recipient:i,collection_id:h.Wr}),"/v1/nft/mint",{endpoint:"/api/nft/mint",operation:"mint",recipient:i,metadata_url:t}));return console.log("[MINT API] Dapper Core API response:",o),c.NextResponse.json({success:!0,nft_id:o.nft_id,transaction_hash:o.transaction_hash,status:o.status,metadata_url:t,image_url:r,created_at:o.created_at})},{context:{endpoint:"/api/nft/mint",operation:"mint_nft",recipient:body?.recipient},logError:!0,showToUser:!1}).catch(e=>e.code?c.NextResponse.json({success:!1,error:e.userMessage,type:e.code,details:e.context,retryable:e.retryable,...e.retryAfter&&{retry_after:e.retryAfter}},{status:"CRITICAL"===e.severity?500:"HIGH"===e.severity?400:"VALIDATION"===e.category?400:500}):c.NextResponse.json({success:!1,error:"Internal server error occurred during minting",type:"SYSTEM_ERROR"},{status:500}))}),sq="",sW=new s.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/nft/mint/route",pathname:"/api/nft/mint",filename:"route",bundlePath:"app/api/nft/mint/route"},resolvedPagePath:"/home/altcoin-daddy/Downloads/ownly/app/api/nft/mint/route.ts",nextConfigOutput:sq,userland:a}),{workAsyncStorage:s$,workUnitAsyncStorage:sH,serverHooks:sV}=sW;function sG(){return(0,u.patchFetch)({workAsyncStorage:s$,workUnitAsyncStorage:sH})}},52367:()=>{},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},53829:(e,t,r)=>{"use strict";r.d(t,{AS:()=>l,NP:()=>s,RZ:()=>a,i7:()=>u});var n=r(26207);let i="testnet";n.config().put("app.detail.title","Ownly").put("app.detail.icon","https://ownly.app/icon.png").put("flow.network",i).put("accessNode.api","mainnet"===i?"https://rest-mainnet.onflow.org":"https://rest-testnet.onflow.org").put("discovery.wallet","mainnet"===i?"https://fcl-discovery.onflow.org/authn":"https://fcl-discovery.onflow.org/testnet/authn").put("discovery.wallet.method","IFRAME/RPC");let o={testnet:{NonFungibleToken:"0x631e88ae7f1d7c20",MetadataViews:"0x631e88ae7f1d7c20",DapperCollectibles:"0x82ec283f88a62e65",DapperMarket:"0x94b06cfca1d8a476",NFTStorefront:"0x94b06cfca1d8a476",FungibleToken:"0x9a0766d93b6608b7",FlowToken:"0x7e60df042a9c0868"},mainnet:{NonFungibleToken:"0x1d7e57aa55817448",MetadataViews:"0x1d7e57aa55817448",DapperCollectibles:"0x82ec283f88a62e65",DapperMarket:"0x4eb8a10cb9f87357",NFTStorefront:"0x4eb8a10cb9f87357",FungibleToken:"0xf233dcee88fe0abe",FlowToken:"0x1654653399040a61"}},a=e=>o[i][e],s="ownly_collectibles",l="https://nftstorage.link/ipfs/",u=process.env.NEXT_PUBLIC_NFT_STORAGE_KEY||""},54816:e=>{"use strict";e.exports={}},55435:(e,t,r)=>{let{instantiateSync:n}=r(99467),i=r(29021);async function o(e={}){return o.supported?n(i.readFileSync(__dirname+"/../dist/rabin.wasm"),e):null}o.supported="undefined"!=typeof WebAssembly,e.exports=o},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56760:e=>{"use strict";e.exports=async e=>{for await(let t of e);}},57368:(e,t,r)=>{let n=r(87562),i=r(55435),o=async(e,t,r,o,a)=>new n(await i(),e,t,r,o,a);e.exports={Rabin:n,create:o}},58028:(e,t,r)=>{"use strict";let n=r(98664),i=r(45746);e.exports={createHAMT:function(e){if(!e||!e.hashFn)throw Error("please define an options.hashFn");return new n({bits:e.bits||8,hash:i(e.hashFn)})},Bucket:n}},58321:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=r&&(t=i,r=a)}return t}},59518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=new TextEncoder,n=new TextDecoder,i="json",o=e=>r.encode(JSON.stringify(e)),a=e=>JSON.parse(n.decode(e));t.code=512,t.decode=a,t.encode=o,t.name=i},60453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),o=i.reduce((e,t,r)=>(e[r]=t,e),[]),a=i.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function s(e){return e.reduce((e,t)=>e+=o[t],"")}function l(e){let t=[];for(let r of e){let e=a[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}t.base256emoji=n.from({prefix:"\uD83D\uDE80",name:"base256emoji",encode:s,decode:l})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26328);let i=(e,t,r=0)=>(n.encode(e,t,r),t),o=e=>n.encodingLength(e);t.decode=(e,t=0)=>[n.decode(e,t),n.decode.bytes],t.encodeTo=i,t.encodingLength=o},63686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(69029);let i=({name:e,code:t,encode:r})=>new o(e,t,r);class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?n.create(this.code,t):t.then(e=>n.create(this.code,e))}throw Error("Unknown type, must be binary type")}}t.Hasher=o,t.from=i},64272:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},64397:()=>{},64840:e=>{"use strict";let t=7;function r(e,t){return e+n(t)}function n(e){let t=e;return t-=t>>1&0x55555555,((t=(0x33333333&t)+(t>>2&0x33333333))+(t>>4)&0xf0f0f0f)*0x1010101>>24}function i(e,t){return e[0]-t[0]}function o(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;)n=e(n,this.get(r),r),r++;return n}find(e){let t=0,r,n;for(;t<this.length&&!r;)r=e(n=this.get(t)),t++;return r?n:void 0}_internalPositionFor(e,i){let o=this._bytePosFor(e,i);if(o>=this._bitArrays.length)return -1;let a=this._bitArrays[o],s=e-o*t;return(a&1<<s)>0?this._bitArrays.slice(0,o).reduce(r,0)+n(a&~(0xffffffff<<s+1))-1:-1}_bytePosFor(e,r){let n=Math.floor(e/t),i=n+1;for(;!r&&this._bitArrays.length<i;)this._bitArrays.push(0);return n}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*t}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*t)}_setInternalPos(e,t,r,n){let i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length){if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{let e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(i),this._changedData=!1}bitField(){let e;let t=[],r=8,n=0,i=0,o=this._bitArrays.slice();for(;o.length||n;){0===n&&(e=o.shift(),n=7);let a=Math.min(n,r);i|=(e&~(255<<a))<<8-r,e>>>=a,n-=a,(r-=a)&&(n||o.length)||(t.push(i),i=0,r=8)}for(var a=t.length-1;a>0;a--)if(0===t[a])t.pop();else break;return t}compactArray(){return this._sortData(),this._data.map(o)}}},65232:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(a+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},69029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21475),i=r(63056);let o=(e,t)=>{let r=t.byteLength,n=i.encodingLength(e),o=n+i.encodingLength(r),a=new Uint8Array(o+r);return i.encodeTo(e,a,0),i.encodeTo(r,a,n),a.set(t,o),new l(e,r,t,a)},a=e=>{let t=n.coerce(e),[r,o]=i.decode(t),[a,s]=i.decode(t.subarray(o)),u=t.subarray(o+s);if(u.byteLength!==a)throw Error("Incorrect length");return new l(r,a,u,t)},s=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&n.equals(e.bytes,t.bytes);class l{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}t.Digest=l,t.create=o,t.decode=a,t.equals=s},70073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=n.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=n.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),a=n.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s=n.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),l=n.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=n.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),c=n.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),f=n.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h=n.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});t.base32=i,t.base32hex=l,t.base32hexpad=c,t.base32hexpadupper=f,t.base32hexupper=u,t.base32pad=a,t.base32padupper=s,t.base32upper=o,t.base32z=h},71944:e=>{var t=128,r=16384,n=2097152,i=0x10000000,o=0x800000000,a=0x40000000000,s=0x2000000000000,l=0x100000000000000,u=0x8000000000000000;e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<a?6:e<s?7:e<l?8:e<u?9:10}},72153:(e,t,r)=>{e.exports=r(79267)},73e3:e=>{let t=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},r=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),n=e=>e&&"function"==typeof e.sink&&r(e.source),i=e=>t=>(e.sink(t),e.source),o=(...e)=>{if(n(e[0])){let t=e[0];e[0]=()=>t.source}else if(r(e[0])){let t=e[0];e[0]=()=>t}if(e.length>1&&n(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)n(e[t])&&(e[t]=i(e[t]));return t(...e)};e.exports=o,e.exports.pipe=o,e.exports.rawPipe=t,e.exports.isIterable=r,e.exports.isDuplex=n},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74282:e=>{e.exports=n;var t=128,r=127;function n(e,i){var o,a=0,i=i||0,s=0,l=i,u=e.length;do{if(l>=u||s>49)throw n.bytes=0,RangeError("Could not decode varint");o=e[l++],a+=s<28?(o&r)<<s:(o&r)*Math.pow(2,s),s+=7}while(o>=t);return n.bytes=l-i,a}},75434:e=>{"use strict";e.exports=async function*(e,t){for await(let r of e)await t(r)&&(yield r)}},75840:(e,t,r)=>{"use strict";let{Buffer:n}=r(79428),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length||i<=0)return e||n.alloc(0);let o=!!e,a=this._offset(r),s=i-r,l=s,u=o&&t||0,c=a[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(l<=this._bufs[a[0]].length-c)return o?this._bufs[a[0]].copy(e,t,c,c+l):this._bufs[a[0]].slice(c,c+l);o||(e=n.allocUnsafe(s));for(let t=a[0];t<this._bufs.length;t++){let r=this._bufs[t].length-c;if(l>r)this._bufs[t].copy(e,u,c),u+=r;else{this._bufs[t].copy(e,u,c,c+l),u+=r;break}l-=r,c&&(c=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(Number.isNaN(e=Math.trunc(e))||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},o.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),isNaN(t=Number(t||0))&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],a=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;a<t.length;)if(t.length-a>=e.length){let r=t.indexOf(e,a);if(-1!==r)return this._reverseOffset([o,r]);a=t.length-e.length+1}else{let t=this._reverseOffset([o,a]);if(this._match(t,e))return t;a++}a=0}return -1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){null===e[t]?o.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}:o.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},76451:(e,t,r)=>{"use strict";let n=r(82038);e.exports=function(e){return"function"==typeof e.stream?n(e.stream()):n(new Response(e).body)}},76508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12256),i=r(63056),o=r(21475),a=r(63686),s=r(69029);t.CID=n.CID,t.varint=i,t.bytes=o,t.hasher=a,t.digest=s},76760:e=>{"use strict";e.exports=require("node:path")},77039:(e,t,r)=>{"use strict";e.exports=r(34691)},77587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21475),i=r(69029);let o=0,a="identity",s=n.coerce,l=e=>i.create(o,s(e));t.identity={code:o,name:a,encode:s,digest:l}},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},78681:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],o=0,a=0,s=function(){var r=o+t,l=Date.now();if(l<r){void 0!==n&&clearTimeout(n),n=setTimeout(s,r-l);return}o=l,a=0;for(var u=0,c=i.splice(0,e);u<c.length;u++){var f=c[u];a++,f()}n=i.length?setTimeout(s,t):void 0};return function(r){return new Promise(function(l,u){var c=function(){return Promise.resolve().then(r).then(l).catch(u)},f=Date.now();void 0===n&&f-o>t&&(o=f,a=0),a++<e?c():(i.push(c),void 0===n&&(n=setTimeout(s,o+t-f)))})}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r},79267:(e,t,r)=>{var n=r(58321);t.operation=function(e){return new n(t.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(e,t){return e-t}),n},t.createTimeout=function(e,t){var r=Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var o=0;o<n.length;o++){var a=n[o],s=e[a];e[a]=(function(n){var i=t.operation(r),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push(function(e){!i.retry(e)&&(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))}),i.attempt(function(){n.apply(e,o)})}).bind(e,s),e[a].options=r}}},79428:e=>{"use strict";e.exports=require("buffer")},79430:e=>{"use strict";e.exports=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,l=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var o=(e.length-t)*u+1>>>0,a=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=o-1;(0!==c||f<i)&&-1!==h;h--,f++)c+=s*a[h]>>>0,a[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*c+1>>>0,u=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*u[d]>>>0,u[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===u[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:f,decode:h}}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82038:e=>{"use strict";e.exports=async function*(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}},87562:e=>{class t{constructor(e,t=12,r=8192,n=32768,i=64,o){this.bits=t,this.min=r,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,r,n,i,o),this.polynomial=o}fingerprint(e){let{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:a}=this.asModule,s=t(n(o,new Int32Array(Math.ceil(e.length/this.min)))),l=t(n(a,e)),u=i(this.rabin.fingerprint(l,s));r(l),r(s);let c=u.indexOf(0);return c>=0?u.subarray(0,c):u}}e.exports=t},87622:(e,t,r)=>{e.exports={encode:r(48918),decode:r(74282),encodingLength:r(71944)}},88538:e=>{"use strict";e.exports=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",i=!1,o=r[0]||"text/plain",a=o;for(let e=1;e<r.length;e++)"base64"===r[e]?i=!0:(a+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(a+=";charset=US-ASCII",n="US-ASCII");let s=i?"base64":"ascii",l=unescape(e.substring(t+1)),u=Buffer.from(l,s);return u.type=o,u.typeFull=a,u.charset=n,u}},90097:(e,t,r)=>{try{e.exports=r(94175)}catch(t){e.exports=r(19082)}},90233:e=>{"use strict";e.exports=async function*(e,t){let r=0;if(!(t<1)){for await(let n of e)if(yield n,++r===t)return}}},91645:e=>{"use strict";e.exports=require("net")},92006:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base8=r(36184).rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})},93833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35679),i=r(35712),o=r(92006),a=r(37285),s=r(38123),l=r(70073),u=r(47965),c=r(7945),f=r(96606),h=r(60453),d=r(7465),p=r(77587),y=r(17240),m=r(59518);r(76508);var b=r(12256),g=r(63686),w=r(69029),_=r(63056),v=r(21475);let D={...n,...i,...o,...a,...s,...l,...u,...c,...f,...h},E={...d,...p},S={raw:y,json:m};t.CID=b.CID,t.hasher=g,t.digest=w,t.varint=_,t.bytes=v,t.bases=D,t.codecs=S,t.hashes=E},94175:e=>{"use strict";e.exports=require("stream/web")},94735:e=>{"use strict";e.exports=require("events")},95847:(e,t,r)=>{"use strict";r.d(t,{fR:()=>s,gT:()=>a,mF:()=>o});var n=r(69535);function i(e){return async function(t,...r){let i,o;let a=performance.now(),s=new URL(t.url).pathname,l=t.method,u=t.headers.get("content-length")?parseInt(t.headers.get("content-length")):void 0,c=200;try{c=(i=await e(t,...r)).status;let n=i.headers.get("content-length");return n&&(o=parseInt(n)),i}catch(e){throw c=500,e}finally{let e=performance.now()-a;await n.Y5.recordAPIMetric({endpoint:s,method:l,statusCode:c,responseTime:e,requestSize:u,responseSize:o,userAgent:t.headers.get("user-agent")||void 0,ip:t.headers.get("x-forwarded-for")||t.headers.get("x-real-ip")||"unknown",tags:{route:s,status_class:`${Math.floor(c/100)}xx`}})}}}function o(e){return i(e)}async function a(e,t,r){let i=performance.now();try{let o=await t(),a=performance.now()-i;return await n.Y5.recordAPIMetric({endpoint:`/internal/${e}`,method:"POST",statusCode:200,responseTime:a,tags:{operation:e,...r}}),o}catch(o){let t=performance.now()-i;throw await n.Y5.recordAPIMetric({endpoint:`/internal/${e}`,method:"POST",statusCode:500,responseTime:t,tags:{operation:e,error:o instanceof Error?o.message:"unknown",...r}}),o}}async function s(e,t,r,i){let o=performance.now();try{let a=await i(),s=performance.now()-o;return await n.Y5.recordAPIMetric({endpoint:`${e}${t}`,method:r,statusCode:200,responseTime:s,tags:{external_api:e,api_type:"external"}}),a}catch(s){let i=performance.now()-o,a=500;throw s&&"object"==typeof s&&"status"in s&&(a=s.status||500),await n.Y5.recordAPIMetric({endpoint:`${e}${t}`,method:r,statusCode:a,responseTime:i,tags:{external_api:e,api_type:"external",error:s instanceof Error?s.message:"unknown"}}),s}}},96606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36184);let i=n.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=n.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a=n.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),s=n.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});t.base64=i,t.base64pad=o,t.base64url=a,t.base64urlpad=s},97151:e=>{"use strict";e.exports=async e=>{let t;for await(let r of e)t=r;return t}},98664:(e,t,r)=>{"use strict";let n=r(64840),{fromString:i}=r(44981);class o{constructor(e,t,r=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new n,this.key=null}async put(e,t){let r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){let t=await this._findChild(e);if(t)return t.value}async del(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((e,t)=>t instanceof o?e+t.leafCount():e+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){for(let e of this._children.compactArray())e instanceof o?yield*e.eachLeafSeries():yield e;return[]}serialize(e,t){let r=[];return t(this._children.reduce((r,n,i)=>(n&&(n instanceof o?r.push(n.serialize(e,t)):r.push(e(n,i))),r),r))}asyncTransform(e,t){return u(this,e,t)}toJSON(){return this.serialize(s,l)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof o)&&r&&r.key===e)return r}async _findPlace(e){let t=this._options.hash("string"==typeof e?i(e):e),r=await t.take(this._options.bits),n=this._children.get(r);return n instanceof o?n._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){let t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){let e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);let r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){!this._children.get(e)&&this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1){if(1===this._popCount){let e=this._children.find(a);if(e&&!(e instanceof o)){let t=e.hash;t.untake(this._options.bits);let r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}}_at(e){return this._children.get(e)}}function a(e){return!!e}function s(e,t){return e.key}function l(e){return e}async function u(e,t,r){let n=[];for(let i of e._children.compactArray())if(i instanceof o)await u(i,t,r);else{let r=await t(i);n.push({bitField:e._children.bitField(),children:r})}return r(n)}e.exports=o},99467:(e,t)=>{"use strict";let r=-8,n=-4,i=0,o=1,a=1,s=2,l=5,u=1024,c=2048,f=8192,h=0,d=4,p=8,y=12,m=12,b=16,g="undefined"!=typeof BigUint64Array,w=Symbol(),_=1024;function v(e,t){let r=new Uint32Array(e),i=new Uint16Array(e);var o=r[t+n>>>2]>>>1,a=t>>>1;if(o<=_)return String.fromCharCode.apply(String,i.subarray(a,a+o));let s=[];do{let e=i[a+_-1],t=e>=55296&&e<56320?_-1:_;s.push(String.fromCharCode.apply(String,i.subarray(a,a+=t))),o-=t}while(o>_);return s.join("")+String.fromCharCode.apply(String,i.subarray(a,a+o))}function D(e){let t={};function r(e,t){return e?v(e.buffer,t):"<yet unknown>"}let n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,a){let s=t.memory||n.memory;throw Error("abort: "+r(s,e)+" at "+r(s,i)+":"+o+":"+a)},n.trace=n.trace||function(e,i){console.log("trace: "+r(t.memory||n.memory,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function E(e,t){let w=t.exports,_=w.memory,D=w.table,E=w.__alloc,S=w.__retain,T=w.__rtti_base||-1;function x(e){let t=new Uint32Array(_.buffer);if((e>>>=0)>=t[T>>>2])throw Error("invalid id: "+e);return t[(T+4>>>2)+2*e]}function k(e){let t=new Uint32Array(_.buffer);if((e>>>=0)>=t[T>>>2])throw Error("invalid id: "+e);return t[(T+4>>>2)+2*e+1]}function C(e){return 31-Math.clz32(e>>>l&31)}function I(e,t,r){let n=_.buffer;if(r)switch(e){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(n);case 1:return new(t?Int16Array:Uint16Array)(n);case 2:return new(t?Int32Array:Uint32Array)(n);case 3:return new(t?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+e)}function P(e){let t=new Uint32Array(_.buffer),i=t[e+r>>>2],o=x(i);if(!(o&a))throw Error("not an array: "+i);let l=C(o);var f=t[e+d>>>2];let h=o&s?t[e+m>>>2]:t[f+n>>>2]>>>l;return I(l,o&u,o&c).subarray(f>>>=l,f+h)}function R(e,t,r){return new e(O(e,t,r))}function O(e,t,r){let i=_.buffer,o=new Uint32Array(i),a=o[r+d>>>2];return new e(i,a,o[a+n>>>2]>>>t)}return e.__allocString=function(e){let t=e.length,r=E(t<<1,o),n=new Uint16Array(_.buffer);for(var i=0,a=r>>>1;i<t;++i)n[a+i]=e.charCodeAt(i);return r},e.__getString=function(e){let t=_.buffer;if(new Uint32Array(t)[e+r>>>2]!==o)throw Error("not a string: "+e);return v(t,e)},e.__allocArray=function(e,t){let r=x(e);if(!(r&(a|s)))throw Error("not an array: "+e+" @ "+r);let n=C(r),o=t.length,l=E(o<<n,i),g=E(r&s?b:y,e),w=new Uint32Array(_.buffer);w[g+h>>>2]=S(l),w[g+d>>>2]=l,w[g+p>>>2]=o<<n,r&s&&(w[g+m>>>2]=o);let v=I(n,r&u,r&c);if(r&f)for(let e=0;e<o;++e)v[(l>>>n)+e]=S(t[e]);else v.set(t,l>>>n);return g},e.__getArrayView=P,e.__getArray=function(e){let t=P(e),r=t.length,n=Array(r);for(let e=0;e<r;e++)n[e]=t[e];return n},e.__getArrayBuffer=function(e){let t=_.buffer,r=new Uint32Array(t)[e+n>>>2];return t.slice(e,e+r)},e.__getInt8Array=R.bind(null,Int8Array,0),e.__getInt8ArrayView=O.bind(null,Int8Array,0),e.__getUint8Array=R.bind(null,Uint8Array,0),e.__getUint8ArrayView=O.bind(null,Uint8Array,0),e.__getUint8ClampedArray=R.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=O.bind(null,Uint8ClampedArray,0),e.__getInt16Array=R.bind(null,Int16Array,1),e.__getInt16ArrayView=O.bind(null,Int16Array,1),e.__getUint16Array=R.bind(null,Uint16Array,1),e.__getUint16ArrayView=O.bind(null,Uint16Array,1),e.__getInt32Array=R.bind(null,Int32Array,2),e.__getInt32ArrayView=O.bind(null,Int32Array,2),e.__getUint32Array=R.bind(null,Uint32Array,2),e.__getUint32ArrayView=O.bind(null,Uint32Array,2),g&&(e.__getInt64Array=R.bind(null,BigInt64Array,3),e.__getInt64ArrayView=O.bind(null,BigInt64Array,3),e.__getUint64Array=R.bind(null,BigUint64Array,3),e.__getUint64ArrayView=O.bind(null,BigUint64Array,3)),e.__getFloat32Array=R.bind(null,Float32Array,2),e.__getFloat32ArrayView=O.bind(null,Float32Array,2),e.__getFloat64Array=R.bind(null,Float64Array,3),e.__getFloat64ArrayView=O.bind(null,Float64Array,3),e.__instanceof=function(e,t){let n=new Uint32Array(_.buffer);var i=n[e+r>>>2];if(i<=n[T>>>2])do if(i==t)return!0;while(i=k(i));return!1},e.memory=e.memory||_,e.table=e.table||D,A(w,e)}function S(e){return"undefined"!=typeof Response&&e instanceof Response}async function T(e,t){return S(e=await e)?x(e,t):E(D(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function x(e,t){return WebAssembly.instantiateStreaming?E(D(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):T(S(e=await e)?e.arrayBuffer():e,t)}function A(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;let i=e[t],o=t.split("."),a=r;for(;o.length>1;){let e=o.shift();Object.prototype.hasOwnProperty.call(a,e)||(a[e]={}),a=a[e]}let s=o[0],l=s.indexOf("#");if(l>=0){let r=s.substring(0,l),o=a[r];if(void 0===o||!o.prototype){let e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf:function(){return this[w]}},e.wrap=function(t){return Object.create(e.prototype,{[w]:{value:t,writable:!1}})},o&&Object.getOwnPropertyNames(o).forEach(t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))),a[r]=e}if(s=s.substring(l+1),a=a[r].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(a,s=s.substring(4))){let r=e[t.replace("set:","get:")],n=e[t.replace("get:","set:")];Object.defineProperty(a,s,{get:function(){return r(this[w])},set:function(e){n(this[w],e)},enumerable:!0})}}else"constructor"===s?(a[s]=(...e)=>(n(e.length),i(...e))).original=i:(a[s]=function(...e){return n(e.length),i(this[w],...e)}).original=i}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(a,s=s.substring(4))||Object.defineProperty(a,s,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==n?(a[s]=(...e)=>(n(e.length),i(...e))).original=i:a[s]=i}return r}t.instantiate=T,t.instantiateSync=function(e,t){return E(D(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},t.instantiateStreaming=x,t.demangle=A}};var __webpack_require__=require("../../../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[555,912,700,207,540],()=>__webpack_exec__(50695));module.exports=__webpack_exports__})();