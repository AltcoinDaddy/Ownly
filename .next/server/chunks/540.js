exports.id=540,exports.ids=[540],exports.modules={17546:()=>{},18393:(e,t,r)=>{"use strict";function s(){let e="https://api.dapper.com",t=process.env.DAPPER_API_KEY;if(!e)throw Error("DAPPER_API_URL environment variable is required");if(!t)throw Error("DAPPER_API_KEY environment variable is required");return{baseUrl:e.endsWith("/")?e.slice(0,-1):e,apiKey:t,environment:"testnet"}}r.d(t,{WQ:()=>a,Wr:()=>i,b_:()=>o,nV:()=>s,ng:()=>n,q8:()=>c});let a={MINT:"/v1/nft/mint",TRANSFER:"/v1/nft/transfer",MARKETPLACE_LIST:"/v1/marketplace/list",MARKETPLACE_BUY:"/v1/marketplace/buy",MARKETPLACE:"/v1/marketplace",USER:"/v1/user",EVENTS:"/v1/events"},i="ownly_collectibles",n=3e4,o=3,c=1e3},27599:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,cn:()=>i});var s=r(46968),a=r(69333);function i(...e){return(0,a.QP)((0,s.$)(e))}function n(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}},30626:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,z:()=>a});var s=function(e){return e.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.NFT_NOT_FOUND="NFT_NOT_FOUND",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.TRANSACTION_FAILED="TRANSACTION_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.SERVER_ERROR="SERVER_ERROR",e}({});class a extends Error{constructor(e){super(e.message),this.name="DapperAPIError",this.type=e.type,this.details=e.details,this.retryAfter=e.retry_after,this.statusCode=e.status_code}}},69535:(e,t,r)=>{"use strict";r.d(t,{Y5:()=>o});class s{constructor(e=1e4){this.metrics=[],this.maxEntries=e}async store(e){if(this.metrics.push(e),this.metrics.length>this.maxEntries){let e=this.metrics.length-this.maxEntries;this.metrics.splice(0,e)}}async query(e){let t=this.metrics;return e.category&&(t=t.filter(t=>t.category===e.category)),e.startTime&&(t=t.filter(t=>t.timestamp>=e.startTime)),e.endTime&&(t=t.filter(t=>t.timestamp<=e.endTime)),e.tags&&(t=t.filter(t=>!!t.tags&&Object.entries(e.tags).every(([e,r])=>t.tags[e]===r))),t.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()),e.limit&&(t=t.slice(0,e.limit)),t}async getAggregated(e,t,r){let s=this.metrics.filter(r=>r.category===e&&r.timestamp>=t.start&&r.timestamp<=t.end);if(0===s.length)return[];let a=new Map;s.forEach(e=>{let t="all";if(r)switch(r){case"endpoint":t=e.endpoint||"unknown";break;case"eventType":t=e.eventType||"unknown";break;case"operation":t=e.operation||"unknown";break;case"component":t=e.component||"unknown";break;case"hour":t=e.timestamp.toISOString().slice(0,13)+":00:00";break;case"day":t=e.timestamp.toISOString().slice(0,10);break;default:t="all"}a.has(t)||a.set(t,[]),a.get(t).push(e)});let i=Array.from(a.entries()).map(([e,t])=>{let r=t.map(e=>e.value).sort((e,t)=>e-t),s=r.length,a=r.reduce((e,t)=>e+t,0),i=r[0],n=r[r.length-1],o=Math.floor(.95*s),c=Math.floor(.99*s),l=r[Math.min(o,s-1)],h=r[Math.min(c,s-1)];return{group:e,count:s,average:Math.round(a/s*100)/100,min:i,max:n,p95:l,p99:h}});return i.sort((e,t)=>e.group.localeCompare(t.group)),i}async cleanup(e){let t=this.metrics.length;return this.metrics=this.metrics.filter(t=>t.timestamp>e),t-this.metrics.length}getStorageStats(){let e,t;let r=this.metrics.length,s=JSON.stringify(this.metrics).length;if(r>0){let r=this.metrics.map(e=>e.timestamp).sort();e=r[0],t=r[r.length-1]}return{totalMetrics:r,memoryUsage:s,oldestMetric:e,newestMetric:t}}clear(){this.metrics=[]}}var a=r(27599);let i={enabled:!0,sampleRate:1,retentionDays:7,thresholds:{api:{responseTime:{warning:1e3,critical:3e3},errorRate:{warning:5,critical:10}},events:{processingTime:{warning:500,critical:2e3},queueSize:{warning:100,critical:500}},blockchain:{queryTime:{warning:2e3,critical:5e3},transactionTime:{warning:1e4,critical:3e4}}},alerting:{enabled:!0},storage:{type:"memory",maxMemoryEntries:1e4}};class n{constructor(e){this.alerts=[],this.alertCallbacks=[],this.config={...i,...e},this.storage=this.createStorage()}createStorage(){return this.config.storage.type,new s(this.config.storage.maxMemoryEntries||1e4)}shouldCollect(){return!!this.config.enabled&&Math.random()<this.config.sampleRate}async recordAPIMetric(e){if(!this.shouldCollect())return;let t={id:(0,a.$)(),name:`api_${e.method.toLowerCase()}_${e.endpoint.replace(/[^a-zA-Z0-9]/g,"_")}`,value:e.responseTime,unit:"ms",timestamp:new Date,category:"api",endpoint:e.endpoint,method:e.method,statusCode:e.statusCode,responseTime:e.responseTime,requestSize:e.requestSize,responseSize:e.responseSize,userAgent:e.userAgent,ip:e.ip,tags:e.tags};await this.storage.store(t),await this.checkAPIThresholds(t)}async recordEventMetric(e){if(!this.shouldCollect())return;let t={id:(0,a.$)(),name:`event_${e.eventType.toLowerCase().replace(/[^a-zA-Z0-9]/g,"_")}`,value:e.processingTime,unit:"ms",timestamp:new Date,category:"event",eventType:e.eventType,processingTime:e.processingTime,queueSize:e.queueSize,eventSource:e.eventSource,blockHeight:e.blockHeight,transactionId:e.transactionId,tags:e.tags};await this.storage.store(t),await this.checkEventThresholds(t)}async recordBlockchainMetric(e){if(!this.shouldCollect())return;let t={id:(0,a.$)(),name:`blockchain_${e.operation}_${e.network}`,value:e.responseTime,unit:"ms",timestamp:new Date,category:"blockchain",operation:e.operation,network:e.network,contractAddress:e.contractAddress,gasUsed:e.gasUsed,blockHeight:e.blockHeight,tags:{...e.tags,success:e.success.toString()}};await this.storage.store(t),await this.checkBlockchainThresholds(t)}async recordUIMetric(e){if(!this.shouldCollect())return;let t={id:(0,a.$)(),name:`ui_${e.component.toLowerCase().replace(/[^a-zA-Z0-9]/g,"_")}`,value:e.renderTime,unit:"ms",timestamp:new Date,category:"ui",component:e.component,renderTime:e.renderTime,interactionType:e.interactionType,route:e.route,tags:e.tags};await this.storage.store(t)}async checkAPIThresholds(e){let t=this.config.thresholds.api;if(e.responseTime>t.responseTime.critical?await this.createAlert({type:"critical",category:"api",message:`API response time critical: ${e.endpoint} took ${e.responseTime}ms`,metric:e,threshold:t.responseTime.critical}):e.responseTime>t.responseTime.warning&&await this.createAlert({type:"warning",category:"api",message:`API response time warning: ${e.endpoint} took ${e.responseTime}ms`,metric:e,threshold:t.responseTime.warning}),e.statusCode>=400){let r=await this.storage.query({category:"api",startTime:new Date(Date.now()-3e5),tags:{endpoint:e.endpoint}}),s=r.filter(e=>e.statusCode>=400).length,a=r.length,i=a>0?s/a*100:0;i>t.errorRate.critical?await this.createAlert({type:"critical",category:"api",message:`API error rate critical: ${e.endpoint} has ${i.toFixed(1)}% error rate`,metric:e,threshold:t.errorRate.critical}):i>t.errorRate.warning&&await this.createAlert({type:"warning",category:"api",message:`API error rate warning: ${e.endpoint} has ${i.toFixed(1)}% error rate`,metric:e,threshold:t.errorRate.warning})}}async checkEventThresholds(e){let t=this.config.thresholds.events;e.processingTime>t.processingTime.critical?await this.createAlert({type:"critical",category:"event",message:`Event processing time critical: ${e.eventType} took ${e.processingTime}ms`,metric:e,threshold:t.processingTime.critical}):e.processingTime>t.processingTime.warning&&await this.createAlert({type:"warning",category:"event",message:`Event processing time warning: ${e.eventType} took ${e.processingTime}ms`,metric:e,threshold:t.processingTime.warning}),e.queueSize>t.queueSize.critical?await this.createAlert({type:"critical",category:"event",message:`Event queue size critical: ${e.queueSize} events in queue`,metric:e,threshold:t.queueSize.critical}):e.queueSize>t.queueSize.warning&&await this.createAlert({type:"warning",category:"event",message:`Event queue size warning: ${e.queueSize} events in queue`,metric:e,threshold:t.queueSize.warning})}async checkBlockchainThresholds(e){let t=this.config.thresholds.blockchain["transaction"===e.operation?"transactionTime":"queryTime"];e.value>t.critical?await this.createAlert({type:"critical",category:"blockchain",message:`Blockchain ${e.operation} time critical: ${e.value}ms on ${e.network}`,metric:e,threshold:t.critical}):e.value>t.warning&&await this.createAlert({type:"warning",category:"blockchain",message:`Blockchain ${e.operation} time warning: ${e.value}ms on ${e.network}`,metric:e,threshold:t.warning})}async createAlert(e){let t={id:(0,a.$)(),type:e.type,category:e.category,message:e.message,metric:e.metric,threshold:e.threshold,timestamp:new Date,resolved:!1};this.alerts.push(t),this.alertCallbacks.forEach(e=>{try{e(t)}catch(e){console.error("[PerformanceCollector] Error in alert callback:",e)}}),console.warn(`[PerformanceCollector] ${e.type.toUpperCase()} ALERT: ${e.message}`)}onAlert(e){return this.alertCallbacks.push(e),()=>{let t=this.alertCallbacks.indexOf(e);t>-1&&this.alertCallbacks.splice(t,1)}}async getMetrics(e){return this.storage.query(e)}async getAggregatedMetrics(e,t,r){return this.storage.getAggregated(e,t,r)}getActiveAlerts(){return this.alerts.filter(e=>!e.resolved)}resolveAlert(e){let t=this.alerts.find(t=>t.id===e);t&&(t.resolved=!0,t.resolvedAt=new Date)}async cleanup(){let e=new Date(Date.now()-864e5*this.config.retentionDays),t=await this.storage.cleanup(e);console.log(`[PerformanceCollector] Cleaned up ${t} old metrics`);let r=new Date(Date.now()-2592e6),s=this.alerts.length;this.alerts=this.alerts.filter(e=>e.timestamp>r);let a=s-this.alerts.length;a>0&&console.log(`[PerformanceCollector] Cleaned up ${a} old alerts`)}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}let o=new n},76036:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var s=r(30626),a=r(18393),i=r(69535);class n{async makeRequest(e,t={}){let r,n;let o=performance.now(),c=`${this.config.baseUrl}${e}`,l=t.method||"GET",h={"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`,"X-Environment":this.config.environment},g={...t,headers:{...h,...t.headers},signal:AbortSignal.timeout(a.ng)},m=null,p=0;t.body&&(r=new Blob([t.body]).size);for(let t=1;t<=a.b_;t++)try{let a=await fetch(c,g);p=a.status;let h=a.headers.get("content-length");if(h&&(n=parseInt(h)),!a.ok){let e=await this.parseErrorResponse(a);throw new s.z(e)}let m=await a.json(),u=performance.now()-o;return await i.Y5.recordAPIMetric({endpoint:`DapperCore${e}`,method:l,statusCode:p,responseTime:u,requestSize:r,responseSize:n,tags:{external_api:"DapperCore",api_type:"external",attempt:t.toString(),success:"true"}}),m}catch(c){if(m=c,c instanceof s.z&&c.statusCode&&c.statusCode>=400&&c.statusCode<500&&"RATE_LIMIT_EXCEEDED"!==c.type){let s=performance.now()-o;throw await i.Y5.recordAPIMetric({endpoint:`DapperCore${e}`,method:l,statusCode:c.statusCode,responseTime:s,requestSize:r,responseSize:n,tags:{external_api:"DapperCore",api_type:"external",attempt:t.toString(),success:"false",error:c.message,error_type:c.type}}),c}if(t<a.b_){let e=a.q8*Math.pow(2,t-1);await new Promise(t=>setTimeout(t,e))}}let u=performance.now()-o;throw await i.Y5.recordAPIMetric({endpoint:`DapperCore${e}`,method:l,statusCode:p||500,responseTime:u,requestSize:r,responseSize:n,tags:{external_api:"DapperCore",api_type:"external",attempt:a.b_.toString(),success:"false",error:m?.message||"Unknown error",exhausted_retries:"true"}}),m||Error("Request failed after all retry attempts")}async parseErrorResponse(e){let t;let r="Unknown error occurred",a=null;try{let t=await e.json();r=t.message||t.error||r,a=t.details||t}catch{r=e.statusText||r}switch(e.status){case 400:t=s.L.INVALID_REQUEST;break;case 401:case 403:t=s.L.AUTHENTICATION_ERROR;break;case 404:t=s.L.NFT_NOT_FOUND;break;case 429:t=s.L.RATE_LIMIT_EXCEEDED;break;case 500:case 502:case 503:case 504:t=s.L.SERVER_ERROR;break;default:t=s.L.NETWORK_ERROR}return{type:t,message:r,details:a,status_code:e.status,retry_after:e.headers.get("Retry-After")?parseInt(e.headers.get("Retry-After")):void 0}}async mintNFT(e){return this.makeRequest(a.WQ.MINT,{method:"POST",body:JSON.stringify(e)})}async transferNFT(e){return this.makeRequest(a.WQ.TRANSFER,{method:"POST",body:JSON.stringify(e)})}async listNFT(e){return this.makeRequest(a.WQ.MARKETPLACE_LIST,{method:"POST",body:JSON.stringify(e)})}async buyNFT(e){return this.makeRequest(a.WQ.MARKETPLACE_BUY,{method:"POST",body:JSON.stringify(e)})}async getUserNFTs(e){return this.makeRequest(`${a.WQ.USER}/${e}`)}async getEvents(e){let t=e?`?cursor=${e}`:"";return this.makeRequest(`${a.WQ.EVENTS}${t}`)}async getMarketplaceListings(e){let t=e?`?${e}`:"";return this.makeRequest(`${a.WQ.MARKETPLACE}${t}`)}constructor(){this.config=(0,a.nV)()}}let o=new n},80594:()=>{}};